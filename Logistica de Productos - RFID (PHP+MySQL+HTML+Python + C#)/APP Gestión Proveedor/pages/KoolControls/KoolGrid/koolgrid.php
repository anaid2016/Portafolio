<?php $_il0="5.3.0.\061"; function _iO0($_il1,$_iO1,$_il2) { return str_replace($_il1,$_iO1,$_il2); } function _iO2($_il3) { return md5($_il3); } function _iO3() { $_il4=_iO0("\134","/",strtolower($_SERVER["\123CRIPT_NA\115\105"])); $_il4=_iO0(strrchr($_il4,"\057"),"",$_il4); $_iO4=_iO0("\134","/",realpath("\056")); $_il5=_iO0($_il4,"",strtolower($_iO4)); return $_il5; } class _ii10 { static $_ii10="\1730}\173\164\162adema\162\153}<div\040\151d='\173\151\144}' cl\141\163s='\173\163\164yle}\113\107R' sty\154\145\075'\173\167\151dth}'\076\1731}\173co\156\164ent}\173\062\175</div\076"; } function _iO5() { header("\103\157\156tent-\164\171pe: tex\164\057javas\143\162ipt"); } function _il6() { echo "var _\151\151\1171=0;"; } function _iO6() { return exit (); } function _il7() { return _ii10::$_ii10; } function _iO7( &$_il8) { for ($_iO8=0; $_iO8<3; $_iO8 ++) $_il8=_iO0("\173".$_iO8."\175","",$_il8); return TRUE; } if ( isset ($_GET[_iO2("js")])) { _iO5(); ?> function _iO(_io){if (typeof(_io)=="undefined"){return false; }return (_io!=null); }function _iY(_iy){return document.getElementById(_iy); }function _iI(_ii,_iA){var _ia=document.createElement(_ii); _iA.appendChild(_ia); return _ia; }function _iE(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.firstChild; return _io; }function _iU(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.nextSibling; return _io; }function _iu(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.parentNode; return _io; }function _iZ(_io,_iz){_io.style.height=_iz+"px"; }function _iX(_io,_iz){_io.style.width=_iz+"px"; }function _ix(_io){return parseInt(_io.style.width); }function _iW(_io){return parseInt(_io.style.height); }function _iw(_iV,_iv,_iT){_iT=_iO(_iT)?_iT:document.body; var _it=_iT.getElementsByTagName(_iV); var _iS=new Array(); for (var i=0; i<_it.length; i++)if (_it[i].className.indexOf(_iv)>=0){_iS.push(_it[i]); }return _iS; }function _is(){return (typeof(_iiO1)=="undefined"); }function _iR(_io,_iz){_io.style.display=(_iz)?"": "none"; }function _ir(_io){return (_io.style.display!="none"); }function _iQ(_io){return _io.className; }function _iq(_io,_iz){_io.className=_iz; }function _iP(_ip,_iN,_in){_iq(_in,_iQ(_in).replace(_ip,_iN)); }function _iM(_io,_iv){if (_io.className.indexOf(_iv)<0){var _im=_io.className.split(" "); _im.push(_iv); _io.className=_im.join(" "); }}function _iL(_io,_iv){if (_io.className.indexOf(_iv)>-1){_iP(_iv,"",_io);var _im=_io.className.split(" "); _io.className=_im.join(" "); }}function _il(_iK,_ik,_iJ,_ij){if (_iK.addEventListener){_iK.addEventListener(_ik,_iJ,_ij); return true; }else if (_iK.attachEvent){if (_ij){return false; }else {var _iH= function (){_iJ.apply(_iK,[window.event]); };if (!_iK["ref"+_ik])_iK["ref"+_ik]=[]; else {for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ)return false; }}var _iG=_iK.attachEvent("on"+_ik,_iH); if (_iG)_iK["ref"+_ik].push( {_iJ:_iJ,_iH:_iH } ); return _iG; }}else {return false; }}function _ig(_iK,_ik,_iJ,_ij){if (_iK.removeEventListener){_iK.removeEventListener(_ik,_iJ,_ij); return true; }else if (_iK.detachEvent){if (_iK["ref"+_ik]){for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ){_iK.detachEvent("on"+_ik,_iK["ref"+_ik][_ih]._iH); _iK["ref"+_ik][_ih]._iJ=null; _iK["ref"+_ik][_ih]._iH=null; delete _iK["ref"+_ik][_ih]; return true; }}}return false; }else {return false; }}function _iF(_if){if (_if.stopPropagation)_if.stopPropagation(); else _if.cancelBubble= true; }function _iD(_if){if (_if.preventDefault)_if.preventDefault(); else event.returnValue= false; return false; }function _iC(_ic){var a=_ic.attributes,i,_iB,_ib; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){if (a[i])_ib=a[i].name; if (typeof _ic[_ib] === "function"){_ic[_ib]=null; }}}a=_ic.childNodes; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){_iC(_ic.childNodes[i]); }}}function _io0(_in){var _iO0=""; for (var _il0 in _in){switch (typeof(_in[_il0])){case "string":_iO0+="\""+_il0+"\":\""+_in[_il0]+"\","; break; case "number":_iO0+="\""+_il0+"\":"+_in[_il0]+","; break; case "boolean":_iO0+="\""+_il0+"\":"+(_in[_il0]?"true": "false")+","; break; case "object":_iO0+="\""+_il0+"\":"+_io0(_in[_il0])+","; break; }}if (_iO0.length>0)_iO0=_iO0.substring(0,_iO0.length-1); _iO0="{"+_iO0+"}"; if (_iO0=="{}")_iO0="null"; return _iO0; }function _ii0(_ip,_iI0){return _iI0.indexOf(_ip); }function _io1(_iO1){if (_iO1.pageX || _iO1.pageY){return {_il1:_iO1.pageX,_ii1:_iO1.pageY } ; }else if (_iO1.clientX || _iO1.clientY){return {_il1:_iO1.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_ii1:_iO1.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; }else {return {_il1:null,_ii1:null } ; }}var _iI1= {_io2:/(-[a-z])/i,_iO2:/^body|html$/i,_il2:/^(?:inline|table-row)$/i} ; function _ii2(_iI2,_io3){var _iO3=""; if (document.defaultView && document.defaultView.getComputedStyle){var _il3=document.defaultView.getComputedStyle(_iI2,null); if (!_il3){try {if (_iI2.style.display=="none"){_iI2.style.display=""; _il3=document.defaultView.getComputedStyle(_iI2,null); if (_il3){_iO3=_il3.getPropertyValue(_io3); }_iI2.style.display="none"; }}catch (_ii3){}}if (_il3 && _iO3==""){_iO3=_il3.getPropertyValue(_io3); }}else if (_iI2.currentStyle){try {_io3=_io3.replace(/-(\w)/g, function (_iI3,_io4){return _io4.toUpperCase(); } ); _iO3=_iI2.currentStyle[_io3]; }catch (_ii3){}}return _iO3; } ; var _iO4= function (){if (document.documentElement.getBoundingClientRect){return function (_il4){var _ii4=_il4.getBoundingClientRect(); return {_iI4:_ii4.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_top:_ii4.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; } ; }else {return function (_il4){var _io5=[_il4.offsetLeft,_il4.offsetTop]; var parentNode=_il4.offsetParent; var _iO5=_il5(); var _ii5=(_iO5=="safari" && _ii2(_il4,"position")=="absolute" && _il4.offsetParent==document.body); if (parentNode!=_il4){while (parentNode){_io5[0]+=parentNode.offsetLeft; _io5[1]+=parentNode.offsetTop; if (!_ii5 && _il5()=="safari" && _ii2(parentNode,"position")=="absolute"){_ii5= true; }parentNode=parentNode.offsetParent; }}if (_ii5){_io5[0]-=_il4.ownerDocument.body.offsetLeft; _io5[1]-=_il4.ownerDocument.body.offsetTop; }parentNode=_il4.parentNode; while (parentNode.tagName && !_iI1._iO2.test(parentNode.tagName)){if (parentNode.scrollTop || parentNode.scrollLeft){if (!_iI1._il2.test(_ii2(parentNode,"display"))){if (_iO5!="opera" || _ii2(parentNode,"overflow") !== "visible"){_io5[0]-=parentNode.scrollLeft; _io5[1]-=parentNode.scrollTop; }}}parentNode=parentNode.parentNode; }return {_iI4:_io5[0],_top:_io5[1] } ; } ; }} (); function _il5(){var _iI5=navigator.userAgent.toLowerCase(); if (_ii0("opera",_iI5)!=-1){return "opera"; }else if (_ii0("firefox",_iI5)!=-1){return "firefox"; }else if (_ii0("safari",_iI5)!=-1){return "safari"; }else if ((_ii0("msie 6",_iI5)!=-1) && (_ii0("msie 7",_iI5)==-1) && (_ii0("msie 8",_iI5)==-1) && (_ii0("opera",_iI5)==-1)){return "ie6"; }else if ((_ii0("msie 7",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie7"; }else if ((_ii0("msie 8",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie8"; }else if ((_ii0("msie",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie"; }else if (_ii0("chrome",_iI5)!=-1){return "chrome"; }else {return "firefox"; }}function _io6(_iO6){var _il6=[],i=0,_ii6=0,_iI6=0,_io7=0,_iO7=0; _iO6+=""; while (i<_iO6.length){_iI6=_iO6.charCodeAt(i); if (_iI6<128){_il6[_ii6++]=String.fromCharCode(_iI6); i++; }else if (_iI6>191 && _iI6<224){_io7=_iO6.charCodeAt(i+1); _il6[_ii6++]=String.fromCharCode(((_iI6&31)<<6)|(_io7&63)); i+=2; }else {_io7=_iO6.charCodeAt(i+1); _iO7=_iO6.charCodeAt(i+2); _il6[_ii6++]=String.fromCharCode(((_iI6&15)<<12)|((_io7&63)<<6)|(_iO7&63)); i+=3; }}return _il6.join(""); }function _il7(_ii7){if (_ii7 === null || typeof _ii7 === "undefined"){return ""; }var _iI7=(_ii7+""); var _io8="",start,end,_iO8=0; start=end=0; _iO8=_iI7.length; for (var _ib=0; _ib<_iO8; _ib++){var _iI6=_iI7.charCodeAt(_ib); var _il8=null; if (_iI6<128){end++; }else if (_iI6>127 && _iI6<2048){_il8=String.fromCharCode((_iI6>>6)|192)+String.fromCharCode((_iI6&63)|128); }else {_il8=String.fromCharCode((_iI6>>12)|224)+String.fromCharCode(((_iI6>>6)&63)|128)+String.fromCharCode((_iI6&63)|128); }if (_il8 !== null){if (end>start){_io8+=_iI7.slice(start,end); }_io8+=_il8; start=end=_ib+1; }}if (end>start){_io8+=_iI7.slice(start,_iO8); }return _io8; }function _ii8(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_iia="",_il6=[]; if (!data){return data; }data+=""; do {_ii9=_iI8.indexOf(data.charAt(i++)); _iI9=_iI8.indexOf(data.charAt(i++)); _ioa=_iI8.indexOf(data.charAt(i++)); _iOa=_iI8.indexOf(data.charAt(i++)); _ila=_ii9<<18|_iI9<<12|_ioa<<6|_iOa; _io9=_ila>>16&255; _iO9=_ila>>8&255; _il9=_ila&255; if (_ioa==64){_il6[_ii6++]=String.fromCharCode(_io9); }else if (_iOa==64){_il6[_ii6++]=String.fromCharCode(_io9,_iO9); }else {_il6[_ii6++]=String.fromCharCode(_io9,_iO9,_il9); }}while (i<data.length); _iia=_il6.join(""); _iia=this._io6(_iia); return _iia; }function _iIa(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_il8="",_il6=[]; if (!data){return data; }data=this._il7(data+""); do {_io9=data.charCodeAt(i++); _iO9=data.charCodeAt(i++); _il9=data.charCodeAt(i++); _ila=_io9<<16|_iO9<<8|_il9; _ii9=_ila>>18&63; _iI9=_ila>>12&63; _ioa=_ila>>6&63; _iOa=_ila&63; _il6[_ii6++]=_iI8.charAt(_ii9)+_iI8.charAt(_iI9)+_iI8.charAt(_ioa)+_iI8.charAt(_iOa); }while (i<data.length); _il8=_il6.join(""); var _iob=data.length%3; return (_iob?_il8.slice(0,_iob-3):_il8)+"===" .slice(_iob || 3); }function GridGroup(_iy){ this._iy=_iy; this.id=_iy; }GridGroup.prototype= {expand:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeExpand", { "Group": this } )){_ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnGroupExpand", { "Group": this } ); }} ,collapse:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeCollapse", { "Group": this } )){_ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnGroupCollapse", { "Group": this } ); }}};function _ilc(_iy){ this._iy=_iy; }_ilc.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _iIc=_iw("input","kgrSort",_iOb); for (var i=0; i<_iIc.length; i++){_il(_iIc[i],"mousedown",_iF, false); } this._iod(); } ,_iOd:function (){ this._ild(); this._iid(); _iId=null; } ,_ioe:function (_iOe){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iof=new GridColumn(_iOe); var _ilb=_iib(_iY(this._iy)); if (_iof.put_to_group(_iIe)){_ilb.commit(); }}} ,_iOf:function (){ this._ild(); this._iid(); _iId=null; } ,_iIf:function (){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; if (_iog.change_group_order(_iIg,_iIe)){_ilb.commit(); }}else {var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; var _iOe=_ilg[_ioh]["ColumnUniqueID"]; if (_iOe!=null){var _iof=new GridColumn(_iOe); if (_iof.remove_group()){_ilb.commit(); }}else {if (_iog.remove_group(_iIg)){_ilb.commit(); }}}} ,_iid:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _il(_iOh,"mouseover",_iih, false); _il(_iOh,"mouseout",_iIh, false); _il(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_il(_ilh[i],"mouseover",_iih, false); _il(_ilh[i],"mouseout",_iIh, false); _il(_ilh[i],"mouseup",_ioi, false); }} ,_ile:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _ig(_iOh,"mouseover",_iih, false); _ig(_iOh,"mouseout",_iIh, false); _ig(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_ig(_ilh[i],"mouseover",_iih, false); _ig(_ilh[i],"mouseout",_iIh, false); _ig(_ilh[i],"mouseup",_ioi, false); }} ,_iod:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="move"; _il(_ilh[i],"mousedown",_iOi, false); _ilh[i].onselectstart=_ili; _ilh[i].ondragstart=_ili; _ilh[i].onmousedown=_ili; }} ,_ild:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="default"; _ig(_ilh[i],"mousedown",_iOi, false); }} ,_iie:function (_iii,_iIi){var _iOb=_iY(this._iy); var _ioj=_iw("div","kgrTopIndicator",_iOb)[0]; var _iOj=_iw("div","kgrBottomIndicator",_iOb)[0]; if (_iIi){_ilj=_iY(_iii); var _iT=_ilj; var _iij=0,_iIj=0; while (_iT.id!=this._iy){_iij+=_iT.offsetTop; _iIj+=_iT.offsetLeft; _iT=_iT.offsetParent; }_ioj.style.display="block"; _iOj.style.display="block"; _iok=_ioj.offsetHeight; _iOk=_ioj.offsetWidth; var _ilk=_ilj.offsetHeight; _ioj.style.top=(_iij-_iok)+"px"; _ioj.style.left=(_iIj-_iOk/2)+"px"; _iOj.style.top=(_iij+_ilk)+"px"; _iOj.style.left=(_iIj-_iOk/2)+"px"; }else {_ioj.style.display="none"; _iOj.style.display="none"; }} ,_iik:function (_if,_iii){ this._iie(_iii, true); } ,_iIk:function (_if,_iii){ this._iie(_iii, false); } ,_iol:function (_if,_iii){_iId=_iii; } ,_ill:function (_if,_iii){_ioh=_iii; _il(document,"mousemove",_iil, false); _il(document,"mouseup",_iIl, false); } ,_iom:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iOm=_iY(_ioh+"_dummy"); var _iIm=_iY(_ioh); var _ion=_io1(_if); if (!_iO(_iOm)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyGroupItem"); _iOm=_iI("div",document.body); _iOm.className=_iv; _iOm.style.position="absolute"; _iOm.style.width=_iIm.offsetWidth+"px"; _iOm.style.height=_iIm.offsetHeight+"px"; _iOm.innerHTML=_iIm.innerHTML; _iOm.id=_ioh+"_dummy"; this._iOf(); this._iik(_if,_ioh); }_iOm.style.left=(_ion._il1+1)+"px"; _iOm.style.top=(_ion._ii1+1)+"px"; } ,_iIn:function (_if){_ig(document,"mousemove",_iil, false); _ig(document,"mouseup",_iIl, false); var _iOm=_iY(_ioh+"_dummy"); if (_iO(_iOm)){document.body.removeChild(_iOm); } this._iIf(); }};function _iih(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iik(_if,this.id); }function _iIh(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iIk(_if,this.id); }function _ioi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iol(_if,this.id); }function _iOi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._ill(_if,this.id); }function _iil(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iom(_if); }function _iIl(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iIn(_if); }function _ili(){return false; }function GridCell(_iy){ this._iy=_iy; this.id=_iy; }GridCell.prototype= {getElement:function (){return _iY(this._iy); } ,getInputElement:function (){return _iY(this._iy+"_input"); } ,getRow:function (){var _iOb=_iY(this._iy); var _iOo=_iu(_iOb); if (_ii0("kgrRow",_iQ(_iOo))>-1){return new GridRow(_iOo.id); }return null; } ,getColumn:function (){var _iOo=this.getRow(); var _iIo=this._iy.replace(_iOo._iy+"_",""); return new GridColumn(_iIo); } ,getData:function (){var _iOo=this.getRow(); if (_iO(_iOo)){var _iOb=_iY(this._iy); var _iof=this.getColumn(); var _iop=_iOo.getDataItem(); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOp=_ilg[_iof._iy]["Name"]; if (_iO(_iOp)){return _iop[_iOp]; }}return null; } ,_ilp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOver", { "Cell": this,"Event":_if } ); } ,_iip:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOut", { "Cell": this,"Event":_if } ); } ,_iIp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellClick", { "Cell": this,"Event":_if } ); }};function _ioq(_if){ (new GridCell(this.id))._ilp(_if); }function _iOq(_if){ (new GridCell(this.id))._iip(_if); }function _ilq(_if){ (new GridCell(this.id))._iIp(_if); }function GridRow(_iy){ this._iy=_iy; this.id=_iy; }GridRow.prototype= {getDataItem:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iop= {} ; for (var i in _ilg[this._iy]["DataItem"]){if (typeof _ilg[this._iy]["DataItem"][i]!="function"){_iop[i]=decodeURI(_ilg[this._iy]["DataItem"][i]); }}return _iop; } ,getElement:function (){return _iY(this._iy); } ,del:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowDelete", { "Row": this } )){_ilb._ioc(this._iy,"Delete", {} ); _ilb._iOc("OnRowDelete", { "Row": this } ); }} ,startEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowStartEdit", { "Row": this } )){_ilb._ioc(this._iy,"StartEdit", {} ); _ilb._iOc("OnRowStartEdit", { "Row": this } ); }} ,cancelEdit:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowCancelEdit", { "Row": this } )){_ilb._ioc(this._iy,"CancelEdit", {} ); _ilb._iOc("OnRowCancelEdit", { "Row": this } ); }} ,confirmEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); var _iiq=new Array(); var _ilg=_ilb._iig(); _iog=_iOg(_iY(this._iy)); var _iIq=_iog.getColumns(); var _ior=this.getCells(); for (var i=0; i<_ior.length; i+=1){var _iOr=_ior[i].getInputElement(); if (_iOr !== null){var _ilr=eval(_iOr.getAttribute("getEditValue")); if (_ilr !== null && _ilr !== false){_iOr.value=_ilr; }else if (_ilr === false){return false; }}}if (_ilb._iIb("OnBeforeRowConfirmEdit", { "Row": this } )){_ilb._ioc(this._iy,"ConfirmEdit", {} ); _ilb._iOc("OnRowConfirmEdit", { "Row": this } ); }return true; } ,getCells:function (){var _iOb=_iY(this._iy); var _ior=_iw("td","kgrCell",_iOb); var _iir=new Array(); for (var i=0; i<_ior.length; i++){_iir.push(new GridCell(_ior[i].id)); }return _iir; } ,select:function (){if (!this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowSelect", { "Row": this } ))return; _iM(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= true; _ilb._iIr(_ilg); _ios=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_ios.length; i++){_ios[i].checked= true; }_iog._iOs(); _ilb._iIb("OnRowSelect", { "Row": this } ); }} ,deselect:function (){if (this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowDeselect", { "Row": this } ))return; _iL(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= false; _ilb._iIr(_ilg); _ios=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_ios.length; i++){_ios[i].checked= false; }_iog._iOs(); _ilb._iIb("OnRowDeselect", { "Row": this } ); }} ,expand:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTablesExpand", { "Row": this } ))return; _ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnDetailTablesExpand", { "Row": this } ); } ,collapse:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTableCollapse", { "Row": this } ))return; _ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnDetailTableCollapse", { "Row": this } ); } ,getDetailTables:function (){if (_is())return; var _iOb=_iY(this._iy); var _ils=_iU(_iOb); var _iis=new Array(); if (_iO(_ils)){_iIs=_iw("div","kgrTableView",_ils); for (var i=0; i<_iIs.length; i++){_iog=new GridTableView(_iIs[i].id); _iis.push(_iog); }}return _iis; } ,isSelected:function (){var _iot=_iY(this._iy); return (_ii0("kgrRowSelected",_iQ(_iot))>-1); } ,isEditing:function (){var _iot=_iY(this._iy); return (_ii0("kgrRowEdit",_iQ(_iot))>-1); } ,setHeight:function (_iOt){} ,_ilt:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (_ilg[_iog._iy]["AllowHovering"]){_iM(_iOb,"kgrRowOver"); }_ilb._iIb("OnRowMouseOver", { "Row": this,"Event":_if } ); } ,_iit:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _iL(_iOb,"kgrRowOver"); _ilb._iIb("OnRowMouseOut", { "Row": this,"Event":_if } ); } ,_iIt:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _ilb._iIb("OnRowClick", { "Row": this,"Event":_if } ); if (_ilg[_iog._iy]["AllowSelecting"]){if (this.isSelected()){ this.deselect(); }else {if (!_ilg[_iog._iy]["AllowMultiSelecting"]){_iog.deselectAllRows(); } this.select(); }}} ,_iou:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnRowDoubleClick", { "Row": this,"Event":_if } ); }};function GridColumn(_iy){ this._iy=_iy; this.id=_iy; }GridColumn.prototype= {getFooterText:function (){var _iOu=_iY(this._iy+"_ft"); if (_iO(_iOu)){var _ilu=_iE(_iOu,2); if (_iO(_ilu)){return _ilu.innerHTML; }}return ""; } ,getElement:function (){return _iY(this._iy); } ,setFooterText:function (_iiu){var _iOu=_iY(this._iy+"_ft"); if (_iO(_iOu)){var _ilu=_iE(_iOu,2); if (_iO(_ilu)){_ilu.innerHTML=_iiu; }}} ,setVisible:function (_iIi){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iIu=_ilg[_iog._iy]["RowsCount"]; var _iov=_iY(this._iy+"_hd"); var _iOv=_iY(this._iy+"_ft"); var _ilv=_iY(this._iy+"_flt"); var _iO5=_il5(); if (_iO5!="ie7" && _iO5!="ie6"){for (var i=0; i<_iIu; i++){var _iiv=_iY(_iog._iy+"_r"+i+"_"+this._iy); if (_iIi){_iL(_iiv,"kgrHidden"); }else {_iM(_iiv,"kgrHidden"); }}}var _iIv=document.getElementsByName(this._iy); if (_iIi){for (var i=0; i<_iIv.length; i++){_iL(_iIv[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iov))_iL(_iov,"kgrHidden"); if (_iO(_iOv))_iL(_iOv,"kgrHidden"); if (_iO(_ilv))_iL(_ilv,"kgrHidden"); }}else {for (var i=0; i<_iIv.length; i++){_iM(_iIv[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iov))_iM(_iov,"kgrHidden"); if (_iO(_iOv))_iM(_iOv,"kgrHidden"); if (_iO(_ilv))_iM(_ilv,"kgrHidden"); }}_ilg[this._iy]["Visible"]=_iIi; _ilb._iIr(_ilg); } ,setWidth:function (_iow){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _iOw=_iY(_iog._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _ilw=_ilg[_iog._iy]["AllowScrolling"]; var _iiw=_ilg[_ilb._iy]["ClientSettings"]["Resizing"]["ResizeGridOnColumnResize"]; if (_iiw || _ilw){var _iIw=(_ii0("px",_iOb.style.width)<0)?_iOb.offsetWidth:_ix(_iOb); var _iox=document.getElementsByName(_iOb.id); for (var i=0; i<_iox.length; i++){_iox[i].style.width=_iow; }var _iOx=_iY(this._iy+"_hd"); var _ilx=_iY(this._iy+"_ft"); if (_iO(_iOx)){_iOx.style.width=_iow; }if (_iO(_ilx)){_ilx.style.width=_iow; }if (_il5()=="safari" || _il5()=="chrome"){var _iix=_iog.getRows(); if (_iix.length>0){var _iiv=_iY(_iix[0]._iy+"_"+this._iy); _iIw=(_ii0("px",_iiv.style.width)<0)?_iiv.offsetWidth:_ix(_iiv); _iiv.style.width=_iow; }}var _iIx=parseInt(_iow)-_iIw; if (_ilw){_iog._ioy(_iIx); _ilg=_ilb._iig(); }else {if (_ii0("%",_iow)<0){var _iOy=(_ii0("px",_iOw.style.width)<0)?_iOw.offsetWidth:_ix(_iOw); var _ily=_iOy+_iIx; _iog.setWidth(_ily+"px"); _ilg=_ilb._iig(); }}_ilg[_iOb.id]["Width"]=_iow; }else {var _iT=_iu(_iOb); if (_iOb==_iT.lastChild){return; }var _iox=document.getElementsByName(_iOb.id); for (var i=0; i<_iox.length; i++){_iox[i].style.width=_iow; }var _iOx=_iY(this._iy+"_hd"); var _ilx=_iY(this._iy+"_ft"); if (_iO(_iOx)){_iOx.style.width=_iow; }if (_iO(_ilx)){_ilx.style.width=_iow; }_ilg[_iOb.id]["Width"]=_iow; var _iiy=_iOb.nextSibling; while (_iO(_iiy)){var _iox=document.getElementsByName(_iiy.id); for (var i=0; i<_iox.length; i++){_iox[i].style.width=""; }var _iIy=_iY(_iiy.id+"_hd"); var _ioz=_iY(_iiy.id+"_ft"); if (_iO(_iIy)){_iIy.style.width=""; }if (_iO(_ioz)){_ioz.style.width=""; }_ilg[_iiy.id]["Width"]=""; _iiy=_iiy.nextSibling; }}_ilb._iIr(_ilg); } ,sort:function (_iOz){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnSort", { "Column": this,"Order":_iOz } ))return; _ilb._ioc(this._iy,"Sort", { "Sort":_iOz } ); _ilb._iOc("OnColumnSort", { "Column": this,"Order":_iOz } ); } ,filter:function (_ilz,_iiz,_iIz){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnFilter", { "Column": this,"Exp":_ilz,"Value":_iiz } ))return; _ilb._ioc(this._iy,"Filter", { "Filter":{ "Exp":_ilz,"Value": (_iiz)?escape(_iiz):_iiz } ,"Post":_iIz } ); _ilb._iOc("OnColumnFilter", { "Column": this,"Exp":_ilz,"Value":_iiz } ); } ,put_to_group:function (_io10){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnGroup", { "Column": this,"Position":_io10 } ))return false; _ilb._ioc(this._iy,"Group", { "Position":_io10 } ); _ilb._iOc("OnColumnGroup", { "Column": this,"Position":_io10 } ); return true; } ,change_group_order:function (_io10){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _iog.change_group_order(_ilg[this._iy]["Name"],_io10); } ,remove_group:function (){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnRemoveGroup", { "Column": this } ))return false; _ilb._ioc(this._iy,"UnGroup", {} ); _ilb._iOc("OnColumnRemoveGroup", { "Column": this } ); return true; } ,isVisible:function (){var _iOb=_iY(this._iy); return (_ii0("kgrHidden",_iQ(_iOb))<0); } ,_iO10:function (){var _iOb=_iY(this._iy); return (_ii0("kgrResizable",_iQ(_iOb))>-1); } ,_il10:function (){var _iOb=_iY(this._iy); return (_ii0("kgrGroupable",_iQ(_iOb))>-1); } ,_ii10:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); if (this._iO10() && !_iI10){_io11=null; _iY(_iog._iy).style.cursor=""; _ig(document,"mousemove",_iO11, false); }if (this._il10() && !_il11){_ii11=null; _iI11= true; }_ilb._iIb("OnColumnMouseOut", { "Column": this,"Event":_if } ); } ,_io12:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (this._iO10() && !_iI10){_io11=this._iy; _il(document,"mousemove",_iO11, false); }if (this._il10() && !_il11){_ii11=this._iy; }_ilb._iIb("OnColumnMouseOver", { "Column": this,"Event":_if } ); } ,_iO12:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnClick", { "Column": this,"Event":_if } ); } ,_il12:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnDblClick", { "Column": this,"Event":_if } ); } ,_ii12:function (_if){if (this._iO10()){var _ion=_io1(_if); if (!_iI10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iI12=_iY(this._iy+"_hd"); var _io13=_iO4(_iI12); var _iO13=_io13._iI4; var _il13=_io13._top; var _ii13=_iI12.offsetWidth; var _iI13=_iI12.offsetHeight; if ((_ion._ii1>_il13 && _ion._ii1<_il13+_iI13) && (_ion._il1<_iO13+_ii13 && _ion._il1>_iO13+_ii13-5)){if (!_ilb._iIb("OnBeforeColumnResize", { "Column": this } ))return; _iI10= true; _io14=_ion._il1; this.setWidth(_ii13+"px"); _il(document,"mouseup",_iO14, false); return; }}}if (this._il10()){_il11= true; _ii11=this._iy; _il(document,"mousemove",_il14, false); _il(document,"mouseup",_ii14, false); var _iog=_iOg(_iY(this._iy)); var _iI14=_iog._io15(); _iI14._iOd(); }} ,_iO15:function (_if){var _il15=_iY(this._iy+"_hd"); var _ii15=_iY(this._iy+"_hd_dummy"); var _ilb=_iib(_il15); var _ion=_io1(_if); if (!_iO(_ii15)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyHeader"); _ii15=_iI("div",document.body); _ii15.className=_iv; _ii15.style.position="absolute"; _ii15.style.width=_il15.offsetWidth+"px"; _ii15.style.height=_il15.offsetHeight+"px"; _ii15.innerHTML=_il15.innerHTML; _ii15.id=this._iy+"_hd_dummy"; }_ii15.style.left=(_ion._il1+1)+"px"; _ii15.style.top=(_ion._ii1+1)+"px"; } ,_iI15:function (_if){_ig(document,"mousemove",_il14, false); _ig(document,"mouseup",_ii14, false); var _ii15=_iY(this._iy+"_hd_dummy"); if (_iO(_ii15)){document.body.removeChild(_ii15); }_ii11=null; _il11= false; var _iog=_iOg(_iY(this._iy)); var _iI14=_iog._io15(); _iI14._ioe(this._iy); } ,_io16:function (_if){if (this._iO10()){var _ion=_io1(_if); if (!_iI10){var _iI12=_iY(this._iy+"_hd"); var _io13=_iO4(_iI12); var _iO13=_io13._iI4; var _il13=_io13._top; var _ii13=_iI12.offsetWidth; var _iI13=_iI12.offsetHeight; var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); if ((_ion._ii1>_il13 && _ion._ii1<_il13+_iI13) && (_ion._il1<_iO13+_ii13 && _ion._il1>_iO13+_ii13-7)){_iY(_iog._iy).style.cursor="w-resize"; }else {_iY(_iog._iy).style.cursor=""; }}else {_iOb=_iY(this._iy); var _iO16=_ix(_iOb)+(_ion._il1-_io14); _iO16=(_iO16<0)?0:_iO16; this.setWidth(_iO16+"px"); _io14=_ion._il1; }}} ,_il16:function (_if){if (this._iO10()){if (_iI10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _iI12=_iY(this._iy+"_hd"); _ig(document,"mouseup",_iO14, false); _iY(_iog._iy).style.cursor=""; _iI10= false; _ilb._iIb("OnColumnResize", { "Column": this } ); }}}};function GridTableView(_iy){ this._iy=_iy; this.id=_iy; }GridTableView.prototype= {_iic:function (_ilb){var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _ilw=_ilg[this._iy]["AllowScrolling"]; var _ii16=_ilg[this._iy]["VirtualScrolling"]; var _iI16=_ilg[this._iy]["FrozenColumnsCount"]; var _iI14=new _ilc(this._iy+"_gp"); _iI14._iic(); if (_ilw){var _io17=_iu(_iY(this._iy+"_header")); var _iO17=_iu(_iY(this._iy+"_data")); var _il17=_iu(_iY(this._iy+"_footer")); var _ii17=_iY(this._iy+"_data"); if (_iO17.offsetWidth>=_iO17.scrollWidth){_iO17.style.overflowX="hidden"; }if (_iI16>0){_iO17.style.overflowX="hidden"; var _iI17=_iI("div",_iOb); _iOb.insertBefore(_iI17,_il17); _iI17.id=this._iy+"_frozen_scroller"; _iq(_iI17,"kgrFrozenScroller"); var _io18=_iI("div",_iI17); _iX(_io18,_ii17.offsetWidth); }if (_iOb.style.height!=""){var _iO18=_iW(_iOb); var _il18=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_il18+=_iOb.childNodes[i].offsetHeight; }}var _ii18=_iO18-_il18; _iZ(_iO17,_ii18); _ilg[this._iy]["PartDataHeight"]=_ii18; }if (_ii0("ie",_il5())>-1){_il(window,"load",eval("__=function(){_itch(\""+this._iy+"\");}"), false); }_iO17.scrollTop=_ilg[this._iy]["scrollTop"]; if (_iI16>0){_il(_iI17,"scroll",_iI18, false); _iI17.scrollLeft=_ilg[this._iy]["scrollLeft"]-1; }else {_il17.scrollLeft=_io17.scrollLeft=_iO17.scrollLeft=_ilg[this._iy]["scrollLeft"]; }_il(_iO17,"scroll",_iI18, false); _ilb._iIr(_ilg); var _io19=_iw("div","kgrEditForm",_iOb); for (var i=0; i<_io19.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_io19[i],_iOb.offsetWidth-((_ilw)?26: 0)); }}var _iO19=_iw("div","kgrInsertForm",_iOb); for (var i=0; i<_iO19.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_iO19[i],_iOb.offsetWidth-((_ilw)?26: 0)); }}if (_ii16){var _il19=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii19=_ilg[this._iy+"_pg"]["PageIndex"]; var _iIu=_ilg[this._iy]["RowsCount"]; var _iI19=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1a=_ii17.offsetHeight; var _iO1a=_iI("div",_iO17); var _il1a=_iI("div",_iO17); var _ii1a=_iO17.offsetHeight; _iO17.insertBefore(_iO1a,_ii17); if (_ii19<_il19-1){_iZ(_iO1a,(_ii19)*_io1a); _iZ(_il1a,(_il19-_ii19-1)*_io1a); _iO17.scrollTop=(_ii19)*_io1a; }else {_iZ(_iO1a,(_io1a*(_iI19-_iIu)/_iIu)); if (_io1a<_ii1a){_iZ(_il1a,_ii1a-_io1a-17); }_iO17.scrollTop=(_io1a*(_iI19-_iIu)/_iIu); }}}} ,_iI1a:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _ilw=_ilg[this._iy]["AllowScrolling"]; if (_ilw){if (_iOb.style.height!=""){var _iO17=_iu(_iY(this._iy+"_data")); var _iO18=_iW(_iOb); var _il18=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_il18+=_iOb.childNodes[i].offsetHeight; }}var _ii18=_iO18-_il18; _iZ(_iO17,_ii18); _ilg[this._iy]["PartDataHeight"]=_ii18; _ilb._iIr(_ilg); }}} ,selectAllRows:function (){var _io1b=this.getRows(); for (var i=0; i<_io1b.length; i++){_io1b[i].select(); }} ,deselectAllRows:function (){var _io1b=this.getRows(); for (var i=0; i<_io1b.length; i++){_io1b[i].deselect(); }} ,_iOs:function (){var _iOb=_iY(this._iy); var _iO1b=_iw("input","kgrSelectAllRows",_iOb); if (_iO1b.length>0){var _io1b=this.getRows(); var _il1b= true; for (var i=0; i<_io1b.length; i++){if (!_io1b[i].isSelected())_il1b= false; }for (var i=0; i<_iO1b.length; i++){_iO1b[i].checked=_il1b; }}} ,setWidth:function (_iow){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _ilw=_ilg[this._iy]["AllowScrolling"]; _iOb.style.width=_iow; if (!_ilw){var _ii1b=_iE(_iOb); _ii1b.style.width=(_ii0("%",_iow)<0)?_iow: "100%"; }_ilg[this._iy]["Width"]=_iow; _ilb._iIr(_ilg); } ,_ioy:function (_iIx){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iI1b=_iY(this._iy+"_header"); var _io1c=_iY(this._iy+"_data"); var _iO1c=_iY(this._iy+"_footer"); var _iow=0; if (_iO(_io1c)){_iow=_io1c.offsetWidth+_iIx; _iX(_io1c,_iow); }if (_iO(_iI1b))_iX(_iI1b,_iow); if (_iO(_iO1c))_iX(_iO1c,_iow); _ilg[this._iy]["TablePartWidth"]=_iow+"px"; _ilb._iIr(_ilg); } ,getName:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy]["Name"]; } ,getRows:function (){var _iix=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRow",_iQ(_iOo))>-1){_iix.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _iix; } ,getColumns:function (){var _il1c=new Array(); var _ii1c=_iY(this._iy+"_c0"); while (_iO(_ii1c)){_il1c.push(new GridColumn(_ii1c.id)); _ii1c=_iU(_ii1c); }return _il1c; } ,getSelectedRows:function (){var _iI1c=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRowSelected",_iQ(_iOo))>-1){_iI1c.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _iI1c; } ,goPage:function (_ii19){var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforePageChange", { "TableView": this,"PageIndex":_ii19 } ))return; _ilb._ioc(this._iy+"_pg","GoPage", { "PageIndex":_ii19 } ); _ilb._iOc("OnPageChange", { "TableView": this,"PageIndex":_ii19 } ); } ,changePageSize:function (_io1d){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageSize", { "PageSize":_io1d } ); } ,refresh:function (){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy,"Refresh", {} ); } ,getPageIndex:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy+"_pg"]["PageIndex"]; } ,startInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeStartInsert", { "TableView": this } )){_ilb._ioc(this._iy,"StartInsert", {} ); _ilb._iOc("OnStartInsert", { "TableView": this } ); }} ,_iO1d:function (){var _il1d=[]; var _iIq=this.getColumns(); var s="grid_mt_nr_"; for (var i=0; i<_iIq.length; i+=1){var _iOr=_iY(s+_iIq[i]._iy+"_input"); if (_iOr)_il1d.push(_iOr); }return _il1d; } ,confirmInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); var _ii1d=this._iO1d(); for (var i=0; i<_ii1d.length; i+=1){var _iOr=_ii1d[i]; if (_iOr !== null){var _ilr=eval(_iOr.getAttribute("getEditValue")); if (_ilr !== null && _ilr !== false){_iOr.value=_ilr; }else if (_ilr === false){return false; }}}if (_ilb._iIb("OnBeforeConfirmInsert", { "TableView": this } )){_ilb._ioc(this._iy,"ConfirmInsert", {} ); _ilb._iOc("OnConfirmInsert", { "TableView": this } ); }return true; } ,cancelInsert:function (){var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeCancelInsert", { "TableView": this } )){_ilb._ioc(this._iy,"CancelInsert", {} ); _ilb._iOc("OnCancelInsert", { "TableView": this } ); }} ,add_group:function (_iIg,_io10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeAddGroup", { "GroupField":_iIg,"Position":_io10 } ))return; _ilb._ioc(this._iy,"AddGroup", { "GroupField":_iIg,"Position":_io10 } ); _ilb._iOc("OnAddGroup", { "GroupField":_iIg,"Position":_io10 } ); } ,change_group_order:function (_iIg,_io10){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeChangeGroupOrder", { "GroupField":_iIg,"Position":_io10 } ))return false; _ilb._ioc(this._iy,"ChangeGroupOrder", { "GroupField":_iIg,"Position":_io10 } ); _ilb._iOc("OnChangeGroupOrder", { "GroupField":_iIg,"Position":_io10 } ); return true; } ,remove_group:function (_iIg){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeRemoveGroup", { "GroupField":_iIg } ))return false; _ilb._ioc(this._iy,"RemoveGroup", { "GroupField":_iIg } ); _ilb._iOc("OnRemoveGroup", { "GroupField":_iIg } ); return true; } ,_io15:function (){return (new _ilc(this._iy+"_gp")); } ,get_group_list:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iI1d=_ilg[this._iy]["GroupSize"]; var _io1e=new Array(); for (var i=0; i<_iI1d; i++){_io1e.push(_ilg[this._iy+"_gm"+i]["GroupField"]); }return _io1e; } ,excuteDelete:function (_iop){} ,excuteUpdate:function (_iop){} ,excuteInsert:function (_iop){} ,_iO1e:function (_if){var _io17=_iu(_iY(this._iy+"_header")); var _iO17=_iu(_iY(this._iy+"_data")); var _il17=_iu(_iY(this._iy+"_footer")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _iI16=_ilg[this._iy]["FrozenColumnsCount"]; if (_iI16>0){var _iI17=_iY(this._iy+"_frozen_scroller"); if (_ilg[this._iy]["scrollLeft"]!=_iI17.scrollLeft){var _io18=_iE(_iI17); var _il1e=_ix(_io18)-_iI17.offsetWidth; var _iIq=this.getColumns(); var _ii1e=_iIq.length-_iI16-1; if (_ii1e>0){var _iI1e=(_il1e)/_ii1e; var _io1f=Math.floor(_iI17.scrollLeft/_iI1e); for (var i=0; i<_iIq.length-_iI16-1; i++){var _iO1f=(i<_io1f)? false : true; if (_iIq[_iI16+i].isVisible()!=_iO1f){_iIq[_iI16+i].setVisible(_iO1f); }}_il1f=_iY(this._iy+"_header"); _ii17=_iY(this._iy+"_data"); _ii1f=_iY(this._iy+"_footer"); _il1f.style.tableLayout="auto"; _ii17.style.tableLayout="auto"; _ii1f.style.tableLayout="auto"; _il1f.style.tableLayout="fixed"; _ii17.style.tableLayout="fixed"; _ii1f.style.tableLayout="fixed"; if (_ii0("ie",_il5())>-1){if (_iY(_iIq[_iIq.length-1].id).style.width!="100%"){_iIq[_iIq.length-1].setWidth("100%"); }}}}}if (_ilg[this._iy]["VirtualScrolling"] && _ilg[this._iy]["scrollTop"]!=_iO17.scrollTop){if (_iI1f){clearTimeout(_iI1f); }_io1g=this._iy; _iI1f=setTimeout(_iO1g,750); var _il19=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii19=_ilg[this._iy+"_pg"]["PageIndex"]; var _iIu=_ilg[this._iy]["RowsCount"]; var _iI19=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1d=_ilg[this._iy+"_pg"]["PageSize"]; var _ii17=_iY(this._iy+"_data"); var _io1a=_ii17.offsetHeight; var _ii1a=_iO17.offsetHeight; var _il1g=_iO17.scrollTop; var _ii1g=_ii19; if (_ii19<_il19-1){if (_il1g<(_io1a*_ii19)){_ii1g=Math.floor((_il1g+60)/_io1a); }else {_ii1g=Math.floor((_il1g+(_ii1a-60))/_io1a); }}else {if (_il1g<(_io1a*(_iI19-_iIu)/_iIu)){_ii1g=Math.floor((_il1g+60)/(_io1a*_io1d/_iIu)); }} this._iI1g(1); var _io1h=_iY(this._iy+"_scrolling_indicator"); var _iO1h="Page {page_number}"; _io1h.innerHTML=_iO1h.replace("{page_number}",_ii1g+1); _io1h.style.right="17px"; _io1h.style.top=(_io17.offsetHeight+((_ii1a-48)*(_ii1a-48)/(2*_iO17.scrollHeight))+Math.round(_il1g*(_ii1a-48)/_iO17.scrollHeight))+"px"; if (_il1h){clearTimeout(_il1h); }_il1h=setTimeout(_ii1h,2000); }_il17.scrollLeft=_io17.scrollLeft=_iO17.scrollLeft; if (_ilg[_ilb._iy]["ClientSettings"]["Scrolling"]["SaveScrollingPosition"]){_ilg[this._iy]["scrollTop"]=_iO17.scrollTop; _ilg[this._iy]["scrollLeft"]=(_iI16>0)?_iI17.scrollLeft:_iO17.scrollLeft; _ilb._iIr(_ilg); }} ,_iI1h:function (){var _iO17=_iu(_iY(this._iy+"_data")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _il19=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii19=_ilg[this._iy+"_pg"]["PageIndex"]; var _iIu=_ilg[this._iy]["RowsCount"]; var _iI19=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1d=_ilg[this._iy+"_pg"]["PageSize"]; var _ii17=_iY(this._iy+"_data"); var _io1a=_ii17.offsetHeight; var _ii1a=_iO17.offsetHeight; var _il1g=_iO17.scrollTop; var _ii1g=_ii19; if (_ii19<_il19-1){if (_il1g<(_io1a*_ii19)){_ii1g=Math.floor((_il1g+60)/_io1a); }else {_ii1g=Math.floor((_il1g+(_ii1a-60))/_io1a); }}else {if (_il1g<(_io1a*(_iI19-_iIu)/_iIu)){_ii1g=Math.floor((_il1g+60)/(_io1a*_io1d/_iIu)); }}if (_ii1g!=_ii19){ this.goPage(_ii1g); _ilb.commit(); }} ,_iI1g:function (_iIi){var _iO17=_iu(_iY(this._iy+"_data")); var _io1h=_iY(this._iy+"_scrolling_indicator"); if (!_io1h){_io1h=_iI("div",_iO17); _io1h.id=this._iy+"_scrolling_indicator"; _iq(_io1h,"kgrScrollingIndicator"); }_iR(_io1h,_iIi); }};var _iI1f; var _il1h; var _io1g; function _iO1g(){if (_iO(_io1g)){ (new GridTableView(_io1g))._iI1h(); }}function _ii1h(){if (_iO(_io1g)){ (new GridTableView(_io1g))._iI1g(0); }}function KoolGrid(_iy,_io1i,_iO1i){ this._iy=_iy; this.id=_iy; this._io1i=_io1i; this._iO1i=_iO1i; this._il1i=new Array(); this._iic(); }KoolGrid.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _ii1i=_iY(this._iy+"_cmd"); _ii1i.value=""; if (_il5()=="firefox" && this._io1i){var _iow=_iOb.style.width; if (_ii0("%",_iow)>-1){var _iI1i=_iY(this._iy+"_updatepanel"); _iI1i.style.width=_iow; _iOb.style.width="100%"; }}var _io1j=_iw("th","kgrHeader",_iOb); for (var i=0; i<_io1j.length; i++){var _iI12=_io1j[i]; _il(_iI12,"mouseover",_iO1j, false); _il(_iI12,"mouseout",_il1j, false); _il(_iI12,"mousedown",_ii1j, false); _il(_iI12,"click",_iI1j, false); _il(_iI12,"dblclick",_io1k, false); _iI12.onselectstart=_ili; _iI12.ondragstart=_ili; _iI12.onmousedown=_ili; _iI12.style.MozUserSelect="none"; }var _io1b=_iw("tr","kgrRow",_iOb); for (var i=0; i<_io1b.length; i++){_il(_io1b[i],"mouseover",_iO1k, false); _il(_io1b[i],"mouseout",_il1k, false); _il(_io1b[i],"click",_ii1k, false); _il(_io1b[i],"dblclick",_iI1k, false); var _ior=_iw("td","kgrCell",_io1b[i]); for (var _io1l=0; _io1l<_ior.length; _io1l++){_il(_ior[_io1l],"mouseover",_ioq, false); _il(_ior[_io1l],"mouseout",_iOq, false); _il(_ior[_io1l],"click",_ilq, false); }}var _iO1l=["span","div"]; for (var _io1l=0; _io1l<_iO1l.length; _io1l++){var _il1l=_iw(_iO1l[_io1l],"kgrECap",_iOb); for (var i=0; i<_il1l.length; i++){_il(_il1l[i],"click",_iF, false); }}var _iIs=_iw("div","kgrTableView",_iOb); for (var i=0; i<_iIs.length; i++){ (new GridTableView(_iIs[i].id))._iic(this ); }var _ii1l=_iw("input","kgrFiEnTr",_iOb); for (var i=0; i<_ii1l.length; i++){_il(_ii1l[i],"keypress",_iI1l, false); }var _io1m=_iw("input","kgrEnNoPo",_iOb); for (var i=0; i<_io1m.length; i++){_il(_io1m[i],"keypress",_iO1m, false); }if (_iO(_il1m[this._iy]) && _iO(_il1m[this._iy]["Focus"])){var _ii1m=_iY(_il1m[this._iy]["Focus"]); if (_iO(_ii1m)){try {_ii1m.focus(); }catch (_ii3){}}}var _iI1m=_iw("div","kgrInputFocus",_iOb); if (_iI1m.length>0){if (_ii0("kgrBlurGrid",_iQ(_iI1m[0]))>0){var _io1n=_iI("div",_iOb); _io1n.style.position="absolute"; _io1n.style.backgroundColor="white"; _io1n.style.opacity="0.6"; _io1n.style.filter="alpha(opacity=60)"; _io1n.style.left="0px"; _io1n.style.top="0px"; _iZ(_io1n,_iOb.scrollHeight); _iX(_io1n,_iOb.scrollWidth); var _iO1n=_iI("div",_iu(_iI1m[0])); var _il1n=_iI1m[0].offsetHeight; var _ii1n=_iI1m[0].offsetWidth; _iZ(_iO1n,_il1n); _iX(_iO1n,_ii1n); _iI1m[0].style.position="absolute"; _iI1m[0].style.zIndex="1000"; _iZ(_iI1m[0],_il1n-parseInt(_ii2(_iI1m[0],"padding-top"))-parseInt(_ii2(_iI1m[0],"padding-bottom"))); _iX(_iI1m[0],_ii1n-parseInt(_ii2(_iI1m[0],"padding-left"))-parseInt(_ii2(_iI1m[0],"padding-right"))); }else {var _iI1n=_iY(this._iy+"_mt"); _iI1n.style.display="none"; _iOb.appendChild(_iI1m[0]); }}var _ilg=this._iig(); var _io1o=_ilg[this._iy]["ClientSettings"]["ClientEvents"]; for (var _il0 in _io1o){if (typeof _io1o[_il0]!="function")if (eval("typeof "+_io1o[_il0]+" =='function'")){ this._il1i[_il0]=eval(_io1o[_il0]); }}if (!_iO(_il1m[this._iy])){try { this._iIb("OnInit", {} ); }catch (_ii3){}}try { this._iIb("OnLoad", {} ); }catch (_ii3){}if (_iO(_il1m[this._iy])){_iO1o=_il1m[this._iy]["PostLoadEvent"]; for (_il0 in _iO1o){if (typeof _iO1o[_il0]!="function"){try { this._iIb(_il0,_iO1o[_il0]); }catch (_ii3){}}}}_il1m[this._iy]= { "PostLoadEvent":{}} ; } ,_ioc:function (_iy,_il1o,_ii1o){var _ii1i=_iY(this._iy+"_cmd"); var _iI1o=new Object(); if (_ii1i.value!=""){_iI1o=eval("__="+_ii8(_ii1i.value)); }_iI1o[_iy]= { "Command":_il1o,"Args":_ii1o } ; _ii1i.value=_iIa(JSON.stringify(_iI1o)); } ,_iig:function (){var _io1p=_iY(this._iy+"_viewstate"); var _iO1p=JSON.parse(_ii8(_io1p.value)); return _iO1p; } ,_iIr:function (_ilg){var _io1p=_iY(this._iy+"_viewstate"); _io1p.value=_iIa(JSON.stringify(_ilg)); } ,getMasterTable:function (){return (new GridTableView(this._iy+"_mt")); } ,refresh:function (){ this._ioc(this._iy,"Refresh", {} ); } ,attachData:function (_il0,_iiz){if (this._io1i){var _il1p=eval(this._iy+"_updatepanel"); _il1p.attachData(_il0,_iiz); }} ,commit:function (){if (!this._iIb("OnBeforeGridCommit", {} ))return; if (this._io1i){var _il1p=eval(this._iy+"_updatepanel"); _il1p.update((this._iO1i!="")?this._iO1i:null); }else {var _ii1p=_iY(this._iy); while (_ii1p.nodeName!="FORM"){if (_ii1p.nodeName=="BODY")return; _ii1p=_iu(_ii1p); }_ii1p.submit(); }var _iI1p=_iw("div","kgrStatus",_iY(this._iy)); for (var i=0; i<_iI1p.length; i++){_iM(_iI1p[i],"kgrLoading"); } this._iOc("OnGridCommit", {} ); } ,_iIb:function (_il0,_io1q){if (_is())return true; return (_iO(this._il1i[_il0]))?this._il1i[_il0](this,_io1q): true; } ,_iOc:function (_il0,_io1q){_il1m[this._iy]["PostLoadEvent"][_il0]=_io1q; }};function _iib(_iOb){var _iOn=_iu(_iOb); while (_iOn.nodeName!="DIV" || _ii0("KGR",_iQ(_iOn))<0){_iOn=_iu(_iOn); if (_iOn.nodeName=="BODY")return null; }return eval(_iOn.id); }function _iOg(_iOb){var _iO1q=_iu(_iOb); while (_ii0("kgrTableView",_iQ(_iO1q))<0 && _ii0("kgrInsertForm",_iQ(_iO1q))<0){_iO1q=_iu(_iO1q); }var _iy=_iO1q.id; if (_ii0("kgrTableView",_iQ(_iO1q))<0){_iy=_iy.replace("_nr_insertform",""); }return (new GridTableView(_iy)); }function _il1q(_iOb){var _iO1q=_iu(_iOb); while (_ii0("kgrRow",_iQ(_iO1q))<0 && _ii0("kgrEditForm",_iQ(_iO1q))<0){_iO1q=_iu(_iO1q); }var _iy=_iO1q.id; if (_ii0("kgrRow",_iQ(_iO1q))<0){_iy=_iy.replace("_editform",""); }return (new GridRow(_iy)); }function get_row(_iOb){return _il1q(_iOb); }function get_tableview(_iOb){return _iOg(_iOb); }function get_grid(_iOb){return _iib(_iOb); }function grid_gopage(_iOb,_ii19){_iOg(_iOb).goPage(_ii19); _iib(_iOb).commit(); }function grid_pagesize_select_onchange(_iOb){var _io1d=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb).changePageSize(_io1d); _iib(_iOb).commit(); }function grid_delete(_iOb){var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _ii1q=_ilg[_ilb._iy]["ClientSettings"]["ClientMessages"]["DeleteConfirm"]; if (_ii1q!=""){if (confirm(_ii1q)){_il1q(_iOb).del(); _iib(_iOb).commit(); }}else {_il1q(_iOb).del(); _iib(_iOb).commit(); }}function grid_toggle_select(_iOb){if (_ii0("kgrSelectAllRows",_iQ(_iOb))>-1){var _iog=_iOg(_iOb); if (_iOb.checked){_iog.selectAllRows(); }else {_iog.deselectAllRows(); }}else if (_ii0("kgrSelectSingleRow",_iQ(_iOb))>-1){var _iOo=_il1q(_iOb); if (_iOb.checked){_iOo.select(); }else {_iOo.deselect(); }}}function grid_edit(_iOb){_il1q(_iOb).startEdit(); _iib(_iOb).commit(); }function grid_confirm_edit(_iOb){if (_il1q(_iOb).confirmEdit())_iib(_iOb).commit(); }function grid_cancel_edit(_iOb){_il1q(_iOb).cancelEdit(); _iib(_iOb).commit(); }function grid_confirm_insert(_iOb){if (_iOg(_iOb).confirmInsert())_iib(_iOb).commit(); }function grid_cancel_insert(_iOb){_iOg(_iOb).cancelInsert(); _iib(_iOb).commit(); }function grid_insert(_iOb){_iOg(_iOb).startInsert(); _iib(_iOb).commit(); }function grid_refresh(_iOb){var _ilb=_iib(_iOb); _ilb.refresh(); _ilb.commit(); }function tableview_refresh(_iOb){var _iog=_iOg(_iOb); _iog.refresh(); _iib(_iOb).commit(); }function grid_expand(_iOb){_il1q(_iOb).expand(); _iib(_iOb).commit(); }function grid_collapse(_iOb){_il1q(_iOb).collapse(); _iib(_iOb).commit(); }function grid_sort(_iy,_iOz){ (new GridColumn(_iy)).sort(_iOz); _iib(_iY(_iy)).commit(); }function grid_group_toogle(_iOb){var _iot=_iu(_iOb,3); var _iI1q=_iw("span","kgrExpand",_iot); if (_iI1q.length>0){ (new GridGroup(_iot.id)).collapse(); }else { (new GridGroup(_iot.id)).expand(); }_iib(_iOb).commit(); }function grid_groupitem_sort(_io1r,_iO1r){var _il1r=_iY(_io1r); var _ilb=_iib(_il1r); _ilb._ioc(_io1r,"Sort", { "Sort":_iO1r } ); _ilb.commit(); }function grid_filter_trigger(_iIo,_iOb){var _ilb=_iib(_iOb); var _iof=new GridColumn(_iIo); if (_ii0("_filter_select",_iOb.id)>0){var _ilz=_iOb.options[_iOb.selectedIndex].value; _iof.filter(_ilz,null, true); _ilb.commit(); }else {var _ii1r=_iY(_iIo+"_filter_select"); var _ilz=_ii1r.options[_ii1r.selectedIndex].value; if (_ilz!="No_Filter"){if (_iOb.nodeName=="INPUT" && _iOb.type=="text"){var _ilg=_ilb._iig(); var _iI1r=unescape(_ilg[_iIo]["Filter"]["Value"]); if (_iOb.value!=_iI1r){_iof.filter(_ilz,null, true); _ilb.commit(); }}else {_iof.filter(_ilz,null, true); _ilb.commit(); }}}}function _iI1l(_if){var _io1s=_if.keyCode; if (_io1s==13){var _ilb=_iib(this ); var _iIo=this.id.replace("_filter_input",""); _il1m[_ilb._iy]["Focus"]=this.id; grid_filter_trigger(_iIo,this ); return _iD(_if); }}function _iO1m(_if){if (_if.keyCode==13){return _iD(_if); }}var _io11=null; var _iI10= false; var _io14=0; var _il11= false; var _ii11=null; var _iId=null; var _ioh=null; function _iO1j(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._io12(_if); }function _il1j(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii10(_if); }function _iI1j(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iO12(_if); }function _io1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._il12(_if); }function _ii1j(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii12(_if); return false; }function _iO14(_if){ (new GridColumn(_io11))._il16(_if); }function _iO11(_if){ (new GridColumn(_io11))._io16(_if); }function _ii14(_if){ (new GridColumn(_ii11))._iI15(_if); }function _il14(_if){ (new GridColumn(_ii11))._iO15(_if); }function _iO1k(_if){ (new GridRow(this.id))._ilt(_if); }function _il1k(_if){ (new GridRow(this.id))._iit(_if); }function _ii1k(_if){ (new GridRow(this.id))._iIt(_if); }function _iI1k(_if){ (new GridRow(this.id))._iou(_if); }function _iI18(_if){_iog=_iOg(this ); _iog._iO1e(_if); }function _itch(_io1g){ (new GridTableView(_io1g))._iI1a(); }function grid_on_datetimepicker_open(_iy){var _iOb=_iY(_iy+"_bound"); var _iO1s=_iu(_iOb); var _il1s=_iu(_iO1s); var _iow=_il1s.offsetWidth; _iO1s.style.width=_iow+"px"; _il1s.style.width=_iow+"px"; _iM(_il1s,"kgrDateTimePickerOpening"); if (_il5()!="firefox"){var _iog=_iOg(_iOb); var _ii1s=_iu(_il1s,2); var _iI1s=_iu(_iY(_iog._iy+"_data")); _iO1s.style.left=(_iO1s.offsetLeft-_iI1s.scrollLeft)+"px"; if (_iQ(_ii1s)!="kgrIn"){_iO1s.style.top=(_iO1s.offsetTop-_iI1s.scrollTop)+"px"; }}}function grid_on_datetimepicker_close(_iy){var _iOb=_iY(_iy+"_bound"); var _iO1s=_iu(_iOb); var _il1s=_iu(_iO1s); _iL(_il1s,"kgrDateTimePickerOpening"); _iO1s.style.width=_iO1s.style.top=_iO1s.style.left=""; _il1s.style.width=""; }var ExpandList= function (_iy){var _io1t=_iY(_iy); var _iO1t=_io1t.children,_iB=_iO1t.length,i=0; var _il1t= function (){var _ii1t=_iO1t[i]; if (_ii1t)_ii1t.style.display=""; i+=1; if (i<_iB)setTimeout(_il1t,10); else if (i === _iB){var _iI1t=_io1t.lastChild; _iI1t.style.display="none"; var _io1u=_io1t.nextSibling; _io1u.style.display="none"; _io1u=_io1u.nextSibling; _io1u.style.display=""; }} ; setTimeout(_il1t,10); } ; var CollapseList= function (_iy,_iO1u){var _io1t=_iY(_iy); var _iO1t=_io1t.children,_iB=_iO1t.length,i=_iB-1; var _il1u= function (){if (i>_iO1u-1){var _ii1t=_iO1t[i]; if (_ii1t)_ii1t.style.display="none"; if (i === _iB-1){var _iI1t=_io1t.lastChild; _iI1t.style.display=""; }setTimeout(_il1u,10); }else if (i === _iO1u-1){var _io1u=_io1t.nextSibling; _io1u.style.display=""; _io1u=_io1u.nextSibling; _io1u.style.display="none"; }i-=1; } ; setTimeout(_il1u,10); } ; var _il1m=new Array(); if (typeof(__KGRInits)!="undefined" && _iO(__KGRInits)){for (var i=0; i<__KGRInits.length; i++){__KGRInits[i](); }} <?php _il6(); _iO6(); } if (!function_exists("mo\156\145\171_for\155\141\164")) { function money_format($_il9,$_iO9) { $_ila='/%((?:[\\^!\\-]|\\+|\\(|\\=.)*)([0-9]+)?'.'(?:#([0-9]+))?(?:\\.([0-9]+))?([in%])/'; if (setlocale(LC_MONETARY,0) == 'C') { setlocale(LC_MONETARY,''); } $_iOa=localeconv(); preg_match_all($_ila,$_il9,$_ilb,PREG_SET_ORDER); foreach ($_ilb as $_iOb) { $value=floatval($_iO9); $_ilc=array('fillchar' => preg_match('/\\=(.)/',$_iOb[1],$_iOc) ? $_iOc[1]: ' ','nogroup' => preg_match('/\\^/',$_iOb[1])>0,'usesignal' => preg_match('/\\+|\\(/',$_iOb[1],$_iOc) ? $_iOc[0]: '+','nosimbol' => preg_match('/\\!/',$_iOb[1])>0,'isleft' => preg_match('/\\-/',$_iOb[1])>0); $width=trim($_iOb[2]) ? (int) $_iOb[2]: 0; $_ild=trim($_iOb[3]) ? (int) $_iOb[3]: 0; $_iOd=trim($_iOb[4]) ? (int) $_iOb[4]: $_iOa['int_frac_digits']; $_ile=$_iOb[5]; $_iOe=TRUE; if ($value<0) { $_iOe=FALSE; $value *= -1; } $_ilf=$_iOe ? 'p': 'n'; $_iOf=$_ilg=$_iOg=$_ilh=$_iOh=''; $_iOh=$_iOe ? $_iOa['positive_sign']: $_iOa['negative_sign']; switch (TRUE) { case $_iOa[ "{$_ilf}_s\151\147n_posn" ] == 1 && $_ilc['usesignal'] == '+': $_iOf=$_iOh; break; case $_iOa[ "{$_ilf}\137\163ign_p\157\163\156" ] == 2 && $_ilc['usesignal'] == '+': $_ilg=$_iOh; break; case $_iOa[ "{$_ilf}\137sign_p\157\163\156" ] == 3 && $_ilc['usesignal'] == '+': $_iOg=$_iOh; break; case $_iOa[ "{$_ilf}_sign_p\157\163\156" ] == 4 && $_ilc['usesignal'] == '+': $_ilh=$_iOh; break; case $_ilc['usesignal'] == '(': case $_iOa[ "{$_ilf}\137\163ign_po\163\156" ] == 0: $_iOf='('; $_ilg=')'; break; } if (!$_ilc['nosimbol']) { $_iOi=$_iOg.($_ile == 'i' ? $_iOa['int_curr_symbol']: $_iOa['currency_symbol']).$_ilh; } else { $_iOi=''; } $_ilj=$_iOa[ "{$_ilf}\137sep_by_\163\160\141ce" ] ? ' ': ''; $value=number_format($value,$_iOd,$_iOa['mon_decimal_point'],$_ilc['nogroup'] ? '': $_iOa['mon_thousands_sep']); $value=@explode($_iOa['mon_decimal_point'],$value); $_iOj=strlen($_iOf)+strlen($_iOi)+strlen($value[0]); if ($_ild>0 && $_ild>$_iOj) { $value[0]=str_repeat($_ilc['fillchar'],$_ild-$_iOj).$value[0]; } $value=implode($_iOa['mon_decimal_point'],$value); if ($_iOa[ "{$_ilf}_c\163\137precede\163" ]) { $value=$_iOf.$_iOi.$_ilj.$value.$_ilg; } else { $value=$_iOf.$value.$_ilj.$_iOi.$_ilg; } if ($width>0) { $value=str_pad($value,$width,$_ilc['fillchar'],$_ilc['isleft'] ? STR_PAD_RIGHT: STR_PAD_LEFT); } $_il9=str_replace($_iOb[0],$value,$_il9); } return $_il9; } } if (!class_exists("\113oolGri\144",FALSE)) { require_once (dirname( __FILE__).'/GridIValueMap.php'); function _ilk($_iOk) { return _iO0("+","\040",urlencode($_iOk)); } function _ill($_iOk) { return urldecode(_iO0("\040","+",$_iOk)); } function _ilm($_iOk) { return stripslashes($_iOk); } function _iOm($_iOk) { return addslashes($_iOk); } function _iln($_iOk) { $_iOk=_iO0("'","\046apos;",$_iOk); $_iOk=_iO0('"',"&q\165\157\164;",$_iOk); return $_iOk; } function _iOn($_ilo,$_iOo) { $_ilp=explode(",",$_iOo); $_iOp=array(); if ($_ilp != NULL) { for ($_iO8=0; $_iO8<sizeof($_ilp); $_iO8 ++) { $_ilp[$_iO8]=trim($_ilp[$_iO8]); $_iOp[$_ilp[$_iO8]]=$_ilo[$_ilp[$_iO8]]; } } return $_iOp; } function _ilq($_ilo) { $_il3=""; foreach ($_ilo as $_iOq) { $_il3.=$_iOq; } return md5($_il3); } class datasourcefilter { var $Field; var $Expression; var $Value; function __construct($_ilr,$_ils,$_iOs) { $this->Field =$_ilr; $this->Expression =$_ils; $this->Value =_iOm($_iOs); } } class datasourcesort { var $Field; var $Order; function __construct($_ilr,$_ilt="ASC") { $this->Field =$_ilr; $this->Order =$_ilt; } } class datasourcegroup { var $Field; function __construct($_ilr) { $this->Field =$_ilr; } } class datasource { var $Sorts=array(); var $Filters=array(); var $Groups=array(); protected $_iOt=NULL; public function setvaluemap($_ilu) { $this->_iOt =$_ilu; } public function getvaluemap() { return $this->_iOt; } public function getmappedvalue($_iOs,$_iOu) { if ( isset ($this->_iOt)) $_iOs=$this->_iOt->mapvalue($_iOs,$_iOu); return $_iOs; } public function getinversemappedvalue($_iOs,$_iOu) { if ( isset ($this->_iOt)) $_iOs=$this->_iOt->inversemapvalue($_iOs,$_iOu); return $_iOs; } function count() { } function getfields() { } function getdata($_ilv=0,$_iOv=046113177) { } function getaggregates($_ilw) { } function insert($_iOw) { return FALSE; } function update($_iOw) { return FALSE; } function delete($_iOw) { return FALSE; } function addsort($_ilx) { array_push($this->Sorts ,$_ilx); } function addfilter($_iOx) { array_push($this->Filters ,$_iOx); } function addgroup($_ily) { array_push($this->Groups ,$_ily); } function clear() { $this->Sorts =array(); $this->Filters =array(); $this->Groups =array(); } function geterror() { return ""; } function setcharset($_iOy) { } function getfilterexpression($_iOx) { $_ils=""; $_iOs=$_iOx->Value; switch ($_iOx->Expression) { case "E\161\165\141l": $_ils="="; break; case "\116ot_Equ\141\154": $_ils="\074>"; break; case "\107\162eater_Th\141\156": $_ils=">"; break; case "\114ess_Th\141\156": $_ils="\074"; break; case "Greater\137\124\150an_Or\137\105qual": $_ils="\076\075"; break; case "\114ess_Th\141\156\137Or_Eq\165\141l": $_ils="<="; break; case "\103ontai\156": $_ils="LIKE"; $_iOs="%".$_iOs."\045"; break; case "\116\157\164_Cont\141\151\156": $_ils="\116\117\124 LIKE"; $_iOs="\045".$_iOs."%"; break; case "Sta\162\164\137With": $_ils="\114\111KE"; $_iOs=$_iOs."%"; break; case "\105\156d_With": $_ils="LIKE"; $_iOs="\045".$_iOs; break; } return $_iOx->Field." ".$_ils." '".$_iOs."\047"; } } class mysqldatasource extends datasource { var $SelectCommand; var $UpdateCommand; var $InsertCommand; var $DeleteCommand; var $_ilz; function __construct($_iOz) { $this->_ilz =$_iOz; } function count() { $_il10="SE\114\105\103T COU\116\124(*) FR\117\115 (".$this->SelectCommand."\051\040AS _TMP\040\173where}"; $_iO10=""; $_il11=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il11); $_iO8 ++) { $_iO10.=" an\144\040".$this->getfilterexpression($_il11[$_iO8]); } if ($_iO10 != "") { $_iO10="\127HERE ".substr($_iO10,5); } $_il10=_iO0("\173\167here}",$_iO10,$_il10); $_iO11=mysql_query($_il10,$this->_ilz); $_il12=mysql_result($_iO11,0,0); mysql_free_result($_iO11); return $_il12; } function getfields() { $_iO12=array(); $_iO11=mysql_query($this->SelectCommand ,$this->_ilz); while ($_il13=mysql_fetch_field($_iO11)) { $_ilr=array("Name" => $_il13->name ,"T\171\160\145" => $_il13->type ,"\116\157t_Null" => $_il13->not_null); array_push($_iO12,$_ilr); } mysql_free_result($_iO11); return $_iO12; } function _iO13() { $_iO11=mysql_query($this->SelectCommand ,$this->_ilz); $_il14=array(); while ($_iO14=mysql_fetch_assoc($_iO11)) { array_push($_il14,$_iO14); } mysql_free_result($_iO11); return $_il14; } function getdata($_il15=0,$_il12=046113177) { $_iO15="S\105\114ECT * F\122\117\115 (\173\123\145lect\103\157\155man\144\175) AS\040\137TMP \173\167\150ere}\040\173\157rder\142\171} \173\147\162oupby\175\040\173lim\151\164\175"; $_iO10=""; $_il11=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il11); $_iO8 ++) { $_iO10.=" and ".$this->getfilterexpression($_il11[$_iO8]); } if ($_iO10 != "") { $_iO10="WH\105\122\105 ".substr($_iO10,5); } $_il16=""; $_iO16=$this->Sorts; for ($_iO8=0; $_iO8<sizeof($_iO16); $_iO8 ++) { $_il16.=", ".$_iO16[$_iO8]->Field." ".$_iO16[$_iO8]->Order; } if ($_il16 != "") { $_il16="O\122\104\105R BY\040".substr($_il16,2); } $_il17=""; $_iO17=$this->Groups; for ($_iO8=0; $_iO8<sizeof($_iO17); $_iO8 ++) { $_il17.=",\040".$_iO17[$_iO8]->Field; } if ($_il17 != "") { $_il17="\107\122\117UP BY\040".substr($_il17,2); } $_il18="LIMIT ".$_il15."\040, ".$_il12; $_iO18=_iO0("\173\123electC\157\155\155and}",$this->SelectCommand ,$_iO15); $_iO18=_iO0("\173\167\150ere}",$_iO10,$_iO18); $_iO18=_iO0("\173orderb\171\175",$_il16,$_iO18); $_iO18=_iO0("\173groupby}",$_il17,$_iO18); $_iO18=_iO0("\173\154\151\155it}",$_il18,$_iO18); $_iO11=mysql_query($_iO18,$this->_ilz); $_il14=array(); while ($_iO14=mysql_fetch_assoc($_iO11)) { foreach ($_iO14 as $_iOu => &$_iOs) $_iOs=$this->getmappedvalue($_iOs,$_iOu); array_push($_il14,$_iO14); } mysql_free_result($_iO11); return $_il14; } function getaggregates($_ilw) { $_iO15="SE\114\105\103T \173\164\145\170t} \106\122OM (\173\123\145lect\103\157mman\144\175) AS _\124\115\120 \173\167\150\145re} \173\157rderby\175\040\173gr\157\165\160by}"; $_il3=""; $_il19=array(); foreach ($_ilw as $_iO19) { if (strpos("-|min|\155\141\170|fir\163\164\174last\174\143\157unt\174\163\165m|a\166\147|","\174".strtolower($_iO19["Aggrega\164\145"])."\174")>0) { $_il3.="\054\040".$_iO19["\101ggregate"]."\050".$_iO19["\104\141taField"]."\051 as ".$_iO19["K\145\171"]; } } if ($_il3 != "") { $_il3=substr($_il3,2); $_iO10=""; $_il11=$this->Filters; for ($_iO8=0; $_iO8<sizeof($_il11); $_iO8 ++) { $_iO10.="\040and ".$this->getfilterexpression($_il11[$_iO8]); } if ($_iO10 != "") { $_iO10="\127\110ERE ".substr($_iO10,5); } $_il16=""; $_iO16=$this->Sorts; for ($_iO8=0; $_iO8<sizeof($_iO16); $_iO8 ++) { $_il16.="\054 ".$_iO16[$_iO8]->Field." ".$_iO16[$_iO8]->Order; } if ($_il16 != "") { $_il16="O\122\104ER BY ".substr($_il16,2); } $_il17=""; $_iO17=$this->Groups; for ($_iO8=0; $_iO8<sizeof($_iO17); $_iO8 ++) { $_il17.="\054\040".$_iO17[$_iO8]->Field; } if ($_il17 != "") { $_il17="\107ROUP BY ".substr($_il17,2); } $_iO18=_iO0("\173S\145\154\145ctCo\155\155\141nd}",$this->SelectCommand ,$_iO15); $_iO18=_iO0("\173t\145\170\164}",$_il3,$_iO18); $_iO18=_iO0("\173w\150\145\162e}",$_iO10,$_iO18); $_iO18=_iO0("\173order\142\171\175",$_il16,$_iO18); $_iO18=_iO0("\173g\162\157\165pby}",$_il17,$_iO18); $_iO11=mysql_query($_iO18,$this->_ilz); $_il19=mysql_fetch_assoc($_iO11); foreach ($_il19 as $_iOu => &$_iOs) $_iOs=$this->getmappedvalue($_iOs,$_iOu); mysql_free_result($_iO11); } return $_il19; } function insert($_iOw,$_il1a=array(),&$_iO1a=array()) { $_il1b=explode(";",$this->InsertCommand); foreach ($_iOw as $_iO1b => $_iOs) { $_iOs=$this->getinversemappedvalue($_iOs,$_iO1b); for ($_iO8=0; $_iO8<sizeof($_il1b); $_iO8 ++) { $_il1b[$_iO8]=preg_replace("/(@".$_iO1b."\051([\134)\134\047\042]*[\134\163\073,])/",addslashes($_iOs)."\0442",$_il1b[$_iO8]); $_il1b[$_iO8]=preg_replace("/(@".$_iO1b.")([\134)\134\047\042]*\044\051\057",addslashes($_iOs)."\044\062",$_il1b[$_iO8]); } } foreach ($_il1b as $_il1c) { $_il1c=trim($_il1c); if (!empty($_il1c)) if (mysql_query($_il1c,$this->_ilz) == FALSE) { return FALSE; } } foreach ($_il1a as $_iO1c) { if ( isset ($_iOw[$_iO1c->IdColumn ])) { array_push($_iO1a,$_iOw[$_iO1c->IdColumn ]); } else { array_push($_iO1a,mysql_insert_id($this->_ilz)); } } return TRUE; } function update($_iOw) { $_il1d=explode("\073",$this->UpdateCommand); foreach ($_iOw as $_iO1b => $_iOs) { $_iOs=$this->getinversemappedvalue($_iOs,$_iO1b); for ($_iO8=0; $_iO8<sizeof($_il1d); $_iO8 ++) { $_il1d[$_iO8]=preg_replace("\057(@".$_iO1b.")([\134\051\134\047\042]\052\133\134s;,\135\051/",addslashes($_iOs)."\0442",$_il1d[$_iO8]); $_il1d[$_iO8]=preg_replace("/\050\100".$_iO1b."\051([\134)\134\047\042]*\044\051\057",addslashes($_iOs)."\0442",$_il1d[$_iO8]); } } foreach ($_il1d as $_iO1d) { if (mysql_query($_iO1d,$this->_ilz) == FALSE) { return FALSE; } } return TRUE; } function delete($_iOw) { $_il1e=explode("\073",$this->DeleteCommand); foreach ($_iOw as $_iO1b => $_iOs) { $_iOs=$this->getinversemappedvalue($_iOs,$_iO1b); for ($_iO8=0; $_iO8<sizeof($_il1e); $_iO8 ++) { $_il1e[$_iO8]=preg_replace("/(\100".$_iO1b.")(\133\134\051\134'\042\135\052[\134\163\073,])/",addslashes($_iOs)."\0442",$_il1e[$_iO8]); $_il1e[$_iO8]=preg_replace("/(@".$_iO1b.")\050\133\134)\134\047\042]*\044)\057",addslashes($_iOs)."\044\062",$_il1e[$_iO8]); } } foreach ($_il1e as $_iO1e) { if (mysql_query($_iO1e,$this->_ilz) == FALSE) { return FALSE; } } return TRUE; } function geterror() { return mysql_error($this->_ilz); } function setcharset($_iOy) { mysql_set_charset($_iOy,$this->_ilz); } } class arraydatasource extends datasource { var $_il1f; function __construct($_iO1f) { $this->_il1f =$_iO1f; } function count() { return sizeof($this->_il1f); } function getfields() { $_iO12=array(); $_il1g=$this->_il1f[0]; foreach ($_il1g as $_iO1g => $_il1h) { $_ilr=array("Name" => $_iO1g,"Type" => "","\116\157t_Null" => FALSE); array_push($_iO12,$_ilr); } return $_iO12; } function getdata($_ilv=0,$_iOv=046113177) { $_iO1h=array(); if ($_ilv>$this->count()) return $_iO1h; if ($_ilv+$_iOv>$this->count()) { $_iOv=$this->count()-$_ilv; } for ($_iO8=0; $_iO8<$_iOv; $_iO8 ++) { array_push($_iO1h,$this->_il1f[$_ilv+$_iO8]); } return $_iO1h; } } interface _il1i { function _iO1i(); function _il1j(); } class _iO1j { var $_il1k; var $_il1f; var $_iO1k=TRUE; var $_il1l=FALSE; function _iO1l($_il1m) { $this->_il1k =$_il1m; $this->_il1l =$_il1m->KeepViewStateInSession; $_iO1m=( isset ($_POST[$this->_il1k->_il1n."_view\163\164ate"])) ? $_POST[$this->_il1k->_il1n."\137\166iewstate"]: ""; if ($this->_il1l && $_iO1m == "") { $_iO1m=( isset ($_SESSION[$this->_il1k->_il1n."_vie\167\163\164ate"])) ? $_SESSION[$this->_il1k->_il1n."\137\166\151ewstat\145"]: ""; $this->_il1k->_iO1n->_il1o =TRUE; } if ($_iO1m != "" && $this->_iO1k) { $_iO1m=base64_decode($_iO1m); } $_iO1m=_iO0("\134","",$_iO1m); $this->_il1f =json_decode($_iO1m,TRUE); } function _iO1o() { $_il1p=json_encode($this->_il1f); if ($this->_iO1k) { $_il1p=base64_encode($_il1p); } if ($this->_il1l) { $_SESSION[$this->_il1k->_il1n."\137viewstat\145"]=$_il1p; } $_iO1p="\074inpu\164\040\151d='\173\151\144}' na\155\145='\173i\144\175' ty\160\145='hid\144\145n' val\165\145\075'\173\166\141lue}' \141\165toco\155\160\154ete=\047\157ff' />"; $_il1q=_iO0("\173i\144\175",$this->_il1k->_il1n."_views\164\141\164e",$_iO1p); $_il1q=_iO0("\173valu\145\175",$_il1p,$_il1q); return $_il1q; } } class _iO1q { var $_il1r; var $_iO1r; function __construct() { $this->_il1r =array("\111\156sert" => "\101dd New R\145\143ord","\104\145lete" => "\104\145lete","C\157\156\146irm" => "\103onfirm","\105\144it" => "\105\144it","\103\141ncel" => "Ca\156\143\145l","Refres\150" => "\122\145\146resh","Done" => "\104\157ne","L\157\141\144ing" => "\114\157ading...","Go" => "\107\157","\116\145\170t" => "\116ext","\120\162\145v" => "Prev","L\141\163\164" => "\114\141st","\106\151\162st" => "Fir\163\164","\116o_Filt\145\162" => "\133No Fi\154\164er]","Eq\165\141l" => "\105\161ual","Not\137\105qual" => "\116ot Equ\141\154","Great\145\162_Than" => "\107reater \124\150an","Les\163\137\124han" => "\114\145ss Tha\156","\107reate\162\137Than_O\162\137Equal" => "Gre\141\164er Than\040\117r Equ\141\154","Less\137\124\150an_\117\162\137Equ\141\154" => "\114\145ss Tha\156\040Or Eq\165\141l","Co\156\164ain" => "\103ontain","No\164\137Contain" => "\116ot Cont\141\151n","Start_W\151\164\150" => "\123\164art Wit\150","E\156\144_With" => "End \127\151\164h"); $this->_iO1r =array("\104elet\145\103onfirm" => "Are y\157\165\040sur\145\040to de\154\145te t\150\151s ro\167\077","\120\141geInf\157\124\145mpla\164\145" => "\120\141ge <\163\164rong>\173\120\141geIn\144\145x}</\163\164rong\076\040in \074\163tron\147\076\173To\164\141lPage\163\175</str\157\156g>, \151\164ems <\163\164rong>\173\106irstI\156\144exInP\141\147e}</s\164\162ong> \164\157 <str\157\156g>\173\114\141stIn\144\145xInP\141\147e}</s\164\162ong>\040\157f <s\164\162ong>\173\124\157tal\122\157ws}</\163\164ron\147\076.","M\141\156\165alPa\147\145rTempl\141\164e" => "Change\040\160age: \173\124\145xtBo\170\175 (of \173\124otalP\141\147e} \160\141ges) \173\107oPage\102\165tton}","\120ageSize\124\145\170t" => "\120age S\151\172e:","\116\145xtPage\124\157olTip" => "Next P\141\147e","PrevP\141\147eToolTi\160" => "\120revious\040\120age","F\151\162stPageT\157\157\154Tip" => "F\151\162\163t Pa\147\145","\114astPag\145\124\157olTi\160" => "\114ast Pa\147\145","S\157\162tHeader\124\157olTip" => "\103lick \150\145re to s\157\162t","\123ortAsc\124\157\157lTip" => "S\157\162t Asc","\123ortDes\143\124oolTip" => "Sort\040\104esc","\123\157rtNoneT\157\157\154Tip" => "No so\162\164","\111nsertFo\162\155_Confi\162\155Butto\156\124oolTi\160" => "Conf\151\162\155 Ins\145\162t","InsertF\157\162m_Canc\145\154Butto\156\124oolTi\160" => "\103\141ncel I\156\163ert","\105\144itForm\137\103onfirm\102\165ttonT\157\157lTip" => "Co\156\146irm Cha\156\147\145s","Edi\164\106orm_Can\143\145\154But\164\157nTool\124\151p" => "Cancel\040\103hanges","Re\161\165\151redF\151\145\154dVa\154\151dator\137\105rrorM\145\163sag\145" => "F\151\145ld is r\145\161uired!","Regul\141\162\105xpre\163\163ionVa\154\151\144ato\162\137Erro\162\115essa\147\145" => "No\164\040valid!","Rang\145\126alidato\162\137Error\115\145ssage" => "\126alue mu\163\164\040be \151\156 range\040\133\173Mi\156\126alue\175\054\173M\141\170Valu\145\175\135","\107roupPa\156\145lGuid\145\124ext" => "\104\162ag a\040\143olumn \150\145ader \141\156d dro\160\040it h\145\162e t\157\040group\040\142y th\141\164 colu\155\156","Gro\165\160\111tem\124\157\157lTi\160" => "\104\162ag out \157\146 the \142\141r to \165\156group","\126\151rtualS\143\162\157llin\147\120ageTo\157\154Tip" => "Pag\145\040\173pag\145\137index}"); } function load($_il1s) { $_iO1s=new domdocument(); $_iO1s->load($_il1s); $_il1t=$_iO1s->getelementsbytagname("\143omman\144\163"); if ($_il1t->length >0) { foreach ($_il1t->item(0)->attributes as $_iO1t) { $this->_il1r[$_iO1t->name ]=$_iO1t->value; } } $_il1t=$_iO1s->getelementsbytagname("\155\145ssage\163"); if ($_il1t->length >0) { foreach ($_il1t->item(0)->attributes as $_iO1t) { $this->_iO1r[$_iO1t->name ]=$_iO1t->value; } } } } class _il1u { var $_il1n; var $_il1k; var $_il1r; function __construct($_il1m) { $this->_il1n =$_il1m->_il1n."\137cmd"; $this->_iO1u(); } function _iO1u() { if ( isset ($_POST[$this->_il1n ])) { $_iO1m=$_POST[$this->_il1n ]; $_iO1m=base64_decode($_iO1m); $_iO1m=_iO0("\134","",$_iO1m); $this->_il1r =json_decode($_iO1m,TRUE); } } function _iO1o() { $_il1v="<input\040\151d='\173\151\144\175' n\141\155\145='\173\151\144}' \164\171\160e='\150\151\144den'\040\166alue='\047\040/>"; $_iO1v=_iO0("\173\151\144}",$this->_il1n ,$_il1v); return $_iO1v; } } class gridrow implements _il1i { var $_il1n; var $_il1w; var $_iO1w; var $_il1x=array(); var $_iO1x; var $DataItem; var $Selected=FALSE; var $Expand=FALSE; var $EditMode=FALSE; var $TableView; var $CssClass=""; var $_il1y=FALSE; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; $this->TableView =$_iO1y; $this->_il1w =$_iO1y->_il1w; } function getuniqueid() { return $this->_il1n; } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->Selected =$_il1z["\123elect\145\144"]; $this->Expand =$_il1z["\105\170pand"]; $this->EditMode =$_il1z["E\144\151\164Mode"]; $_iO1z=$_il1z["\104ataItem"]; $this->DataItem =array(); foreach ($_iO1z as $_il20 => $_iO20) { $this->DataItem[$_il20]=_ill($_iO20); } } } function _il1j() { $_iO1z=array(); foreach ($this->DataItem as $_il20 => $_iO20) { $_iO1z[$_il20]=_ilk($_iO20); } $this->_il1w->_il1f[$this->_il1n ]=array("Selec\164\145\144" => $this->Selected ,"\105\170pand" => $this->Expand ,"D\141\164\141Item" => $_iO1z,"EditMode" => $this->EditMode); foreach ($this->_il1x as $_il21) { $_il21->_il1j(); } } function _iO21($_iO1y) { $_iO1y->_il1n =$this->_il1n."_dt".sizeof($this->_il1x); array_push($this->_il1x ,$_iO1y); } function getinstancedetailtables() { return $this->_il1x; } function gettableview() { return $this->_iO1w; } function _il22() { $this->_iO1i(); if ($this->EditMode) { $this->_iO1x =$this->_iO1w->EditSettings->_iO22(); $this->_iO1x->_iO1l($this->_iO1w); $this->_iO1x->_il23 =$this; } if ($this->Expand) { foreach ($this->_iO1w->_iO23 as $_il21) { $_il24=$_il21->_iO22(); $this->_iO21($_il24); $_il24->_iO1l($this->_iO1w->_il1k ,$this); $_il24->_il22(); } } } function _iO24($_iO1v) { if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["Comman\144"]) { case "\123\145\154ect": $this->Selected =TRUE; break; case "\125\156select": $this->Selected =FALSE; break; case "\105\170pand": if ($this->_iO1w->_il1k->EventHandler->onbeforedetailtablesexpand($this,array()) == TRUE) { $this->Expand =TRUE; $this->_iO1w->_il1k->EventHandler->ondetailtablesexpand($this,array()); } break; case "C\157\154\154apse": if ($this->_iO1w->_il1k->EventHandler->onbeforedetailtablescollapse($this,array()) == TRUE) { $this->Expand =FALSE; $this->_il1x =array(); $this->_iO1w->_il1k->EventHandler->ondetailtablescollapse($this,array()); } break; case "\123tartEdi\164": if ($this->_iO1w->AllowEditing) { if ($this->_iO1w->_il1k->EventHandler->onbeforerowstartedit($this,array()) == TRUE) { $this->EditMode =TRUE; $this->_iO1x =$this->_iO1w->EditSettings->_iO22(); $this->_iO1x->_iO25 ="Sta\162\164\105dit"; $this->_iO1x->_iO1l($this->_iO1w); $this->_iO1x->_il23 =$this; $this->_iO1w->_il1k->EventHandler->onrowstartedit($this,array()); } } break; case "\103onfirmE\144\151\164": if ($this->EditMode) { $this->_iO1x->_iO25 ="C\157\156\146irmEd\151\164"; $this->_iO1x->_il26(); } break; case "Cancel\105\144\151t": if ($this->_iO1w->_il1k->EventHandler->onbeforerowcanceledit($this,array()) == TRUE) { $this->EditMode =FALSE; $this->_iO1w->_il1k->EventHandler->onrowcanceledit($this,array()); } break; case "\104\145lete": if ($this->_iO1w->AllowDeleting) { if ($this->_iO1w->_il1k->EventHandler->onbeforerowdelete($this,array()) == TRUE) { $_iO1v->_il1r[$this->_il1n ]["Command"]="\116oMore"; $_iO26=$this->_iO1w->DataSource->delete($this->DataItem); $this->_iO1w->_il1o =TRUE; $_il27=$this->_iO1w->DataSource->geterror(); if ($_il27 != "") $this->_iO1w->_il1k->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_il27)); $this->_iO1w->_il1k->EventHandler->onrowdelete($this,array("Suc\143\145\163sful" => $_iO26,"\105\162ror" => $_il27)); } } break; } } $this->_iO1w->_il1k->EventHandler->onrowprerender($this,array()); if ($this->Expand && sizeof($this->_il1x) == 0) { foreach ($this->_iO1w->_iO23 as $_il21) { $_il24=$_il21->_iO22(); $this->_iO21($_il24); $_il24->_iO1l($this->_iO1w->_il1k ,$this); } } foreach ($this->_il1x as $_il21) { $_il21->_iO24($_iO1v); } } function _iO1o() { $_iO27="\074tr i\144\075\047\173r\157\167id}' \143\154\141ss='\153\147rRow\040\173alt}\040\173select\145\144} \173cs\163\143\154ass}\047\076\173t\144\163\175</tr\076"; $_il28="<tr><t\144\040class='\153\147\162Cel\154\040\173alt}\047\076&#16\060\073</t\144\076<td co\154\163\160an='\173\143olspan\175\047 clas\163\075'kgrDe\164\141\151lTab\154\145sPanel\047\076\173tab\154\145\163}</t\144\076</tr>"; $_iO28="<\144\151\166 clas\163\075\047kgr\104\145\163c'>\173\164\145xt}\074\057div>"; $_il29=""; if ($this->EditMode) { $_il29=$this->_iO1x->_iO1o(); } else { $_iO29=""; for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$this->_iO1w->_il2a[$_iO8]; $_il2b=$_iO2a->_iO1o($this); $_iO29.=$_il2b; } $_il29=_iO0("\173tds}",$_iO29,$_iO27); } $_il29=_iO0("\173rowid}",$this->_il1n ,$_il29); $_il29=_iO0("\173\163\145\154ecte\144\175",$this->Selected ? "k\147\162\122owSel\145\143\164ed": "",$_il29); $_il29=_iO0("\173\141\154t}",$this->_il1y ? "kgr\101\154\164Row": "",$_il29); $_il29=_iO0("\173\143\163\163class\175",$this->CssClass ,$_il29); if (sizeof($this->_il1x)>0) { $_iO2b=""; foreach ($this->_il1x as $_il21) { $_il2c=""; if ($_il21->_iO2c !== NULL) { $_il2c=_iO0("\173\164\145xt}",$_il21->_iO2c ,$_iO28); foreach ($this->DataItem as $_iO1g => $_il1h) { $_il2c=_iO0("\173".$_iO1g."}",$_il1h,$_il2c); } } $_il2d=$_il2c.$_il21->_iO1o(); $_iO2b.=$_il2d; } $_iO2d=_iO0("\173cols\160\141\156}",sizeof($this->_iO1w->_il2a)-1,$_il28); $_iO2d=_iO0("\173al\164\175",$this->_il1y ? "\153\147rAltRow": "",$_iO2d); $_iO2d=_iO0("\173tables}",$_iO2b,$_iO2d); $_il29.=$_iO2d; } return $_il29; } } class _il2e { var $Wrap; var $Align; var $Valign; function _iO1l($_iO2a) { if ($this->Wrap === NULL) $this->Wrap =$_iO2a->Wrap; if ($this->Align === NULL) $this->Align =$_iO2a->Align; if ($this->Valign === NULL) $this->Valign =$_iO2a->Valign; } function _iO2e() { return "\167\150ite-spac\145\072".(($this->Wrap) ? "\156orma\154": "\156owrap").";"; } function _il2f() { return ($this->Align) ? "te\170\164\055align\072".$this->Align.";": ""; } function _iO2f() { return ($this->Valign) ? "\166align=\047".$this->Valign."\047\040": ""; } } class gridvalidator { var $ErrorMessage; function validate($_iOs,$_iO1z=NULL,$_iO14=NULL,$_iO2a=NULL) { return TRUE; } } class requiredfieldvalidator extends gridvalidator { function validate($_iOs,$_iO1z=NULL,$_iO14=NULL,$_iO2a=NULL) { if ($_iOs === NULL || $_iOs == "") { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2a->_iO1w->_il1k->Localization->_iO1r["Require\144\106ieldVa\154\151\144ator\137\105rrorMe\163\163age"]; return FALSE; } return TRUE; } } class regularexpressionvalidator extends gridvalidator { var $ValidationExpression=""; function validate($_iOs,$_iO1z=NULL,$_iO14=NULL,$_iO2a=NULL) { if (!preg_match($this->ValidationExpression ,$_iOs)) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2a->_iO1w->_il1k->Localization->_iO1r["Reg\165\154arExpre\163\163\151onVa\154\151\144ato\162\137\105rro\162\115essa\147\145"]; return FALSE; } return TRUE; } } class rangevalidator extends gridvalidator { var $MinValue; var $MaxValue; function __construct($_il2g=NULL,$_iO2g=NULL) { if ($_il2g !== NULL) $this->MinValue =$_il2g; if ($_iO2g !== NULL) $this->MaxValue =$_iO2g; } function validate($_iOs,$_iO1z=NULL,$_iO14=NULL,$_iO2a=NULL) { if ($_iOs>$this->MaxValue || $_iOs<$this->MinValue) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_iO2a->_iO1w->_il1k->Localization->_iO1r["Ra\156\147\145Vali\144\141\164or_E\162\162\157rMes\163\141ge"]; $this->ErrorMessage =_iO0("\173MinVa\154\165\145}",$this->MinValue ,$this->ErrorMessage); $this->ErrorMessage =_iO0("\173MaxValu\145\175",$this->MaxValue ,$this->ErrorMessage); return FALSE; } return TRUE; } } class customvalidator extends gridvalidator { var $ValidateFunction; function validate($_iOs,$_iO1z=NULL,$_iO14=NULL,$_iO2a=NULL) { $_il2h=$this->ValidateFunction; if ($_il2h !== NULL) { $_iO2h=$_il2h($_iOs); if ($_iO2h !== NULL) { $this->ErrorMessage =$_iO2h; return FALSE; } } return TRUE; } } class gridcolumn implements _il1i { var $_il1n; var $_il1w; var $_iO1w; var $_il2i; var $ReadOnly=FALSE; var $TableView; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $AllowExporting=TRUE; var $Width; var $Visible=TRUE; var $Filter; var $FilterOptions; var $HeaderText; var $FooterText; var $DataField; var $DataFieldPrefix; var $Sort=0; var $Group=FALSE; var $GroupIndex=0; var $GroupSettings; var $HeaderStyle; var $ItemStyle; var $FooterStyle; var $Wrap; var $Align; var $Valign; var $CssClass=""; var $DefaultValue=NULL; var $NullDisplayText; var $Aggregate; var $_iO2i; function __construct() { $this->HeaderStyle =new _il2e(); $this->FooterStyle =new _il2e(); $this->ItemStyle =new _il2e(); $this->_il2i =array(); $this->GroupSettings =new _il2j(); } function getuniqueid() { return $this->_il1n; } function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; $this->TableView =$_iO1y; $this->_il1w =$_iO1y->_il1w; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_iO1w->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_iO1w->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_iO1w->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_iO1w->AllowGrouping; if ($this->Width === NULL) $this->Width =$this->_iO1w->ColumnWidth; if ($this->Wrap === NULL) $this->Wrap =$this->_iO1w->ColumnWrap; if ($this->Align === NULL) $this->Align =$this->_iO1w->ColumnAlign; if ($this->Valign === NULL) $this->Valign =$this->_iO1w->_iO2j; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_iO1w->FilterOptions; $this->HeaderStyle->_iO1l($this); $this->FooterStyle->_iO1l($this); $this->ItemStyle->_iO1l($this); if ($this->Filter === NULL) { $this->Filter =array("Value" => "","\105\170p" => "No\137\106\151lter"); } $this->GroupSettings->_il2k =$this; } function addvalidator($_iO2k) { array_push($this->_il2i ,$_iO2k); } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->Sort =$_il1z["S\157\162\164"]; $this->Group =$_il1z["\107roup"]; $this->Width =$_il1z["Wid\164\150"]; $this->Visible =$_il1z["\126\151sible"]; $this->_iO2i =_ill($_il1z["\101ggRes"]); $_iOx=$_il1z["Filte\162"]; $_iOx["Valu\145"]=_ill($_iOx["\126\141\154ue"]); $this->Filter =$_iOx; } } function _il1j() { $_iOx=$this->Filter; $_iOx["\126alue"]=_ilk($_iOx["\126\141lue"]); $this->_il1w->_il1f[$this->_il1n ]=array("Name" => $this->DataField ,"Sort" => $this->Sort ,"Group" => $this->Group ,"Visi\142\154\145" => $this->Visible ,"Filter" => $_iOx,"\127idth" => $this->Width ,"\101ggRes" => _ilk($this->_iO2i)); } function _iO24($_iO1v) { if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["Comm\141\156\144"]) { case "\123ort": if ($this->_iO1w->_il1k->EventHandler->onbeforecolumnsort($this,array("Ne\167\123\157rt" => $_il25["Args"]["\123\157rt"])) == TRUE) { if ($this->_iO1w->SingleColumnSorting) { foreach ($this->_iO1w->_il2a as $_iO2a) { $_iO2a->Sort =0; } $this->_iO1w->DataSource->Sorts =array(); } $this->Sort =$_il25["\101rgs"]["S\157\162\164"]; $this->_iO1w->_il1o =TRUE; $this->_iO1w->_il1k->EventHandler->oncolumnsort($this,array()); } break; case "\106\151lter": if ($this->_iO1w->_il1k->EventHandler->onbeforecolumnfilter($this,array("FilterV\141\154\165e" => $_il25["Args"]["\106ilter"]["\126alue"],"FilterE\170\160" => $_il25["\101\162gs"]["\106\151lter"]["E\170\160"])) == TRUE) { $this->Filter["Exp"]=$_il25["\101rgs"]["F\151\154\164er"]["\105\170\160"]; if ($_il25["Args"]["Post"]) { $this->Filter["Va\154\165\145"]=$this->getfiltervalue(); } else { $this->Filter["\126alue"]=_ill($_il25["\101\162gs"]["\106\151lter"]["Val\165\145"]); } $this->_iO1w->_il1o =TRUE; $this->_iO1w->_il1k->EventHandler->oncolumnfilter($this,array()); } break; case "G\162\157\165p": if ($this->Group == FALSE) { $_il2l=$_il25["Args"]["Positi\157\156"]; if ($this->_iO1w->_il1k->EventHandler->onbeforecolumngroup($this,array("Pos\151\164\151on" => $_il2l)) == TRUE && $this->_iO1w->_il1k->EventHandler->onbeforeaddgroup($this->_iO1w ,array("P\157\163\151tion" => $_il2l)) == TRUE) { $_iO2l=$this->GroupSettings; $_iO2l->_iO1l($this->_iO1w); if ($_il2l === NULL || ($_il2l>=sizeof($this->TableView->_il2m))) { array_push($this->_iO1w->_il2m ,$_iO2l); } else { $_iO2m=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2m); $_iO8 ++) { if ($_il2l == $_iO8) { array_push($_iO2m,$_iO2l); } array_push($_iO2m,$this->_iO1w->_il2m[$_iO8]); } $this->_iO1w->_il2m =$_iO2m; } for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2m); $_iO8 ++) { $this->_iO1w->_il2m[$_iO8]->_il1n =$this->_iO1w->_il1n."\137\147m".$_iO8; } $this->Group =TRUE; $this->_iO1w->_il1k->EventHandler->oncolumngroup($this,array("\120\157sition" => $_il2l)); $this->_iO1w->_il1k->EventHandler->onaddgroup($this->_iO1w ,array("Positio\156" => $_il2l)); } } break; case "U\156\107\162oup": if ($this->_iO1w->_il1k->EventHandler->onbeforecolumnremovegroup($this,array()) == TRUE && $this->_iO1w->_il1k->EventHandler->onbeforeremovegroup($this->_iO1w ,array("G\162\157upField" => $this->DataField)) == TRUE) { $_iO2m=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2m); $_iO8 ++) { if ($this->_iO1w->_il2m[$_iO8]->GroupField != $this->DataField) { array_push($_iO2m,$this->_iO1w->_il2m[$_iO8]); } } $this->_iO1w->_il2m =$_iO2m; for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2m); $_iO8 ++) { $this->_iO1w->_il2m[$_iO8]->_il1n =$this->_iO1w->_il1n."\137gm".$_iO8; } $this->Group =FALSE; $this->_iO1w->_il1k->EventHandler->oncolumnremovegroup($this,array()); $this->_iO1w->_il1k->EventHandler->onremovegroup($this->_iO1w ,array("Gr\157\165\160Field" => $this->DataField)); } break; } } if ($this->Sort != 0) { $this->_iO1w->DataSource->addsort(new datasourcesort($this->DataFieldPrefix.$this->DataField ,($this->Sort <0) ? "\104ESC": "\101\123C")); } if ($this->Filter["\105\170p"] != "No_Filte\162") { $this->_iO1w->DataSource->addfilter(new datasourcefilter($this->DataFieldPrefix.$this->DataField ,$this->Filter["\105xp"],$this->Filter["Value"])); } } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcolumn(); } $_il2n->ReadOnly =$this->ReadOnly; $_il2n->HeaderText =$this->HeaderText; $_il2n->FooterText =$this->FooterText; $_il2n->DataField =$this->DataField; $_il2n->DataFieldPrefix =$this->DataFieldPrefix; $_il2n->AllowSorting =$this->AllowSorting; $_il2n->AllowResizing =$this->AllowResizing; $_il2n->AllowFiltering =$this->AllowFiltering; $_il2n->AllowGrouping =$this->AllowGrouping; $_il2n->AllowExporting =$this->AllowExporting; $_il2n->Width =$this->Width; $_il2n->Visible =$this->Visible; $_il2n->Sort =$this->Sort; $_il2n->Filter =$this->Filter; $_il2n->FilterOptions =$this->FilterOptions; $_il2n->Wrap =$this->Wrap; $_il2n->Align =$this->Align; $_il2n->Valign =$this->Valign; $_il2n->HeaderStyle =$this->HeaderStyle; $_il2n->FooterStyle =$this->FooterStyle; $_il2n->ItemStyle =$this->ItemStyle; $_il2n->CssClass =$this->CssClass; $_il2n->_il2i =$this->_il2i; $_il2n->Aggregate =$this->Aggregate; $_il2n->DefaultValue =$this->DefaultValue; $_il2n->NullDisplayText =$this->NullDisplayText; $_il2n->Group =$this->Group; $_il2n->GroupIndex =$this->GroupIndex; $_il2n->GroupSettings =$this->GroupSettings->_iO22(); return $_il2n; } function inlineeditrender($_iO14) { return $this->render($_iO14); } function formeditrender($_iO14) { return $this->inlineeditrender($_iO14); } function format($_iOs) { return mb_check_encoding($_iOs,'UTF-8') ? $_iOs: utf8_encode($_iOs); } function render($_iO14) { return $this->format($_iO14->DataItem[$this->DataField ]); } function renderexport($_iO14) { return $this->render($_iO14); } function _iO1o($_iO14) { $_iO2n="<t\144\040id='\173\151\144}' cl\141\163s='kg\162\103\145ll \173\163orte\144\175 \173vi\163\151\142le} \173\143\163scla\163\163\175' \173\166\141lign}\076\074div c\154\141ss='kg\162\111\156' st\171\154e='\173\167\162\141p}\173\141\154\151gn}'\076\173cell}\074\057div>\074\057td>"; $_il2b=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n ,$_iO2n); $_il2o=strtolower($_SERVER["\110\124TP_USER\137\101GENT"]); $_iO2o=(strpos($_il2o,"ms\151\145 6") !== FALSE) && (strpos($_il2o,"msie 7") === FALSE) && (strpos($_il2o,"msi\145\0408") === FALSE) && (strpos($_il2o,"oper\141") === FALSE); $_il2p=(strpos($_il2o,"\155sie 7") !== FALSE) && (strpos($_il2o,"o\160\145\162a") === FALSE); $_il2b=_iO0("\173\166isible\175",($this->Visible || $_iO2o || $_il2p) ? "": "kgrHidd\145\156",$_il2b); $_il2b=_iO0("\173\167\162\141p}",$this->ItemStyle->_iO2e(),$_il2b); $_il2b=_iO0("\173align\175",$this->ItemStyle->_il2f(),$_il2b); $_il2b=_iO0("\173\166\141lign}",$this->ItemStyle->_iO2f(),$_il2b); $_il2b=_iO0("\173sorted\175",($this->Sort != 0) ? "kgrSort\145\144": "",$_il2b); $_il2b=_iO0("\173\143sscla\163\163\175",$this->CssClass ,$_il2b); if ($this->DataField !== NULL && $this->NullDisplayText !== NULL) { $_il2b=_iO0("\173ce\154\154\175",($_iO14->DataItem[$this->DataField ] === NULL) ? $this->NullDisplayText : $this->render($_iO14),$_il2b); } else { $_il2b=_iO0("\173ce\154\154\175",$this->render($_iO14),$_il2b); } return $_il2b; } function _iO2p($_iO14) { $_iO2n="<td\040\151d='\173i\144\175\047 cl\141\163s='kgr\103\145ll \173\166\151sibl\145\175' \173v\141\154\151gn}>\074\144iv cl\141\163\163='k\147\162In' st\171\154e='\173\167\162\141p}\173\141\154ign}'\040\076\173cel\154\175</div>\074\057td>"; $_il2b=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n ,$_iO2n); $_il2b=_iO0("\173\143ell}",$this->inlineeditrender($_iO14),$_il2b); $_il2o=strtolower($_SERVER["\110\124TP_USER_\101\107ENT"]); $_iO2o=(strpos($_il2o,"m\163\151\145 6") !== FALSE) && (strpos($_il2o,"\155\163ie 7") === FALSE) && (strpos($_il2o,"msie 8") === FALSE) && (strpos($_il2o,"op\145\162\141") === FALSE); $_il2p=(strpos($_il2o,"\155sie 7") !== FALSE) && (strpos($_il2o,"oper\141") === FALSE); $_il2b=_iO0("\173visib\154\145\175",($this->Visible || $_iO2o || $_il2p) ? "": "\153grHidde\156",$_il2b); $_il2b=_iO0("\173\167rap}",$this->ItemStyle->_iO2e(),$_il2b); $_il2b=_iO0("\173align}",$this->ItemStyle->_il2f(),$_il2b); $_il2b=_iO0("\173val\151\147\156}",$this->ItemStyle->_iO2f(),$_il2b); return $_il2b; } function _il2q($_iO14) { $_iO27="<tr st\171\154\145='whi\164\145-spac\145\072nowra\160\047><td \166\141lign\075\047top' \163\164\171le='\167\151\144th:2\160\170;'><l\141\142el cla\163\163='kgrC\141\160tion' \146\157r='\173\151\144\175'>\173\164\145xt}:<\057\154abel>\074\057td><t\144\040vali\147\156\075'to\160\047><div\040\143lass=\047\153grInp\165\164\047>\173\151\156put}<\057\144iv></\164\144\076</t\162\076"; $_il29=_iO0("\173\164ext}",$this->HeaderText ,$_iO27); $_il29=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n."\137\151\156put",$_il29); $_il29=_iO0("\173\151\156put}",$this->formeditrender($_iO14),$_il29); return $_il29; } function geteditvalue($_iO14) { $_iOs=$_POST[$_iO14->_il1n."\137".$this->_il1n."\137input"]; if ($this->_iO1w->_il1k->AjaxEnabled === TRUE) { $_iOs=iconv("UTF-\070",$this->_iO1w->_il1k->CharSet ,$_iOs); } return $_iOs; } function _iO2q() { $_il2r="<co\154\040id='\173\151\144\175' na\155\145='\173i\144\175' sty\154\145='\173\167\151dth}' \143\154ass='\173\162\145sizab\154\145} \173\166isib\154\145} \173\147\162oup\141\142le}\047\057>"; $_iO2a=_iO0("\173\151d}",$this->_il1n ,$_il2r); $_iO2a=_iO0("\173resiza\142\154e}",($this->AllowResizing) ? "\153\147rResizab\154\145": "",$_iO2a); $_iO2a=_iO0("\173groupa\142\154\145}",($this->AllowGrouping) ? "kg\162\107\162oupab\154\145": "",$_iO2a); $_iO2a=_iO0("\173wid\164\150\175",($this->Width != NULL) ? "\167\151\144th:".$this->Width."\073": "",$_iO2a); $_iO2a=_iO0("\173vi\163\151\142le}",($this->Visible) ? "": "kgrH\151\144\144en",$_iO2a); return $_iO2a; } function renderheader() { $_iO2r="<th id='\173\151\144}' cl\141\163s='kgr\110\145ader \173\166\151sib\154\145} \173\163\157\162ted}\047\040\173val\151\147\156}><d\151\166 clas\163\075'kgrIn\047\040style\075\047\173wra\160\175\173alig\156\175'>\173t\145\170\164}&#1\066\060;\173si\147\156\175</d\151\166></th>"; $_il2s="<a h\162\145\146='jav\141\163\143ript\072\166oid 0\047\040class\075\047kgrS\157\162tHead\145\162\124ext'\040\157\156clic\153\075'grid\137\163ort(\042\173\151d}\042\054\173\163ort}\051\047 titl\145\075'\173ti\164\154\145}'>\173\164\145xt}<\057\141>"; $_iO2s="<inpu\164\040\164ype=\047\142\165tto\156\047\040cla\163\163\075'n\157\144\145cor\040\153grSort\173\144ir}' o\156\143\154ick=\047\147rid_s\157\162\164(\042\173\151\144}\042\054\173\163ort}\051\047 titl\145\075'\173ti\164\154\145}' /\076"; $_il2t=_iO0("\173\151\144}",$this->_il1n."\137hd",$_iO2r); if ($this->AllowSorting) { $_ilx=0; $_iO2t="No\156\145"; switch ($this->Sort) { case 0: $_ilx=1; $_iO2t="\116\157ne"; break; case 1: $_ilx=-1; $_iO2t="As\143"; break; case -1: $_ilx=0; $_iO2t="Desc"; break; } $_il2u=_iO0("\173\151\144\175",$this->_il1n ,$_il2s); $_il2u=_iO0("\173\163\157\162t}",$_ilx,$_il2u); $_il2u=_iO0("\173\164\145\170t}",$this->HeaderText ,$_il2u); $_il2u=_iO0("\173\164itle}",$this->_iO1w->_il1k->Localization->_iO1r["\123\157\162tHead\145\162\124oolT\151\160"],$_il2u); $_iO2u=_iO0("\173\151d}",$this->_il1n ,$_iO2s); $_iO2u=_iO0("\173s\157\162\164}",$_ilx,$_iO2u); $_iO2u=_iO0("\173dir}",$_iO2t,$_iO2u); $_iO2u=_iO0("\173\164\151tle}",$this->_iO1w->_il1k->Localization->_iO1r["\123ort".$_iO2t."ToolTip"],$_iO2u); $_il2t=_iO0("\173\164ext}",$_il2u,$_il2t); $_il2t=_iO0("\173sign}",$_iO2u,$_il2t); } else { $_il2t=_iO0("\173text}",$this->HeaderText ,$_il2t); $_il2t=_iO0("\173sign}","",$_il2t); } $_il2o=strtolower($_SERVER["\110\124TP_USE\122\137\101GENT"]); $_iO2o=(strpos($_il2o,"msie 6") !== FALSE) && (strpos($_il2o,"\155\163\151e 7") === FALSE) && (strpos($_il2o,"ms\151\145\0408") === FALSE) && (strpos($_il2o,"op\145\162\141") === FALSE); $_il2p=(strpos($_il2o,"msi\145\0407") !== FALSE) && (strpos($_il2o,"oper\141") === FALSE); $_il2t=_iO0("\173vi\163\151\142le}",($this->Visible || $_iO2o || $_il2p) ? "": "kgrHidde\156",$_il2t); $_il2t=_iO0("\173s\157\162\164ed}",($this->Sort != 0) ? "kgrS\157\162\164ed": "",$_il2t); $_il2t=_iO0("\173wr\141\160\175",$this->HeaderStyle->_iO2e(),$_il2t); $_il2t=_iO0("\173al\151\147\156}",$this->HeaderStyle->_il2f(),$_il2t); $_il2t=_iO0("\173v\141\154\151gn}",$this->HeaderStyle->_iO2f(),$_il2t); return $_il2t; } function renderfooter() { $_il2v="<td id\075\047\173id}\047\040class\075\047kgrFoo\164\145r \173v\151\163ible\175\047 \173va\154\151gn}><d\151\166\040clas\163\075'kgrI\156\047 style\075\047\173wra\160\175\173ali\147\156\175'><s\160\141\156 cla\163\163\075'kg\162\106\157oter\124\145\170t'>\173\164\145xt}\046\043160;<\057\163pan><\057\144iv></t\144\076"; $_iO2v=_iO0("\173\151\144\175",$this->_il1n."\137\146t",$_il2v); $_il3=$this->FooterText; if ($this->Aggregate !== NULL) { $_il2w=new gridrow(); $_il2w->DataItem[$this->DataField ]=$this->_iO2i; $_il3.=$this->render($_il2w); } $_iO2v=_iO0("\173\164\145xt}",$_il3,$_iO2v); $_il2o=strtolower($_SERVER["\110\124TP_USER_\101\107\105NT"]); $_iO2o=(strpos($_il2o,"\155\163ie 6") !== FALSE) && (strpos($_il2o,"msie 7") === FALSE) && (strpos($_il2o,"msi\145\040\070") === FALSE) && (strpos($_il2o,"\157pera") === FALSE); $_il2p=(strpos($_il2o,"msie \067") !== FALSE) && (strpos($_il2o,"\157pera") === FALSE); $_iO2v=_iO0("\173\166\151sible}",($this->Visible || $_iO2o || $_il2p) ? "": "kgrHid\144\145\156",$_iO2v); $_iO2v=_iO0("\173wrap}",$this->FooterStyle->_iO2e(),$_iO2v); $_iO2v=_iO0("\173\141\154\151gn}",$this->FooterStyle->_il2f(),$_iO2v); $_iO2v=_iO0("\173\166align}",$this->FooterStyle->_iO2f(),$_iO2v); return $_iO2v; } function renderfilter() { $_iO2w="\074\144iv cla\163\163\075'kgr\105\144itIn'>\074\151nput \143\154ass=\047\153grFiE\156\124\162' ty\160\145\075'te\170\164\047 id\075\047\173id\175\047 name=\047\173id}' v\141\154ue='\173\164\145xt}' \157\156\142lur=\047\147rid_fi\154\164er_tri\147\147er(\042\173\143olid}\042\054this)\047\040style\075\047width\072\06100%;'\040\057></di\166\076"; $_il2x=_iO0("\173id\175",$this->_il1n."\137\146ilter_\151\156put",$_iO2w); $_il2x=_iO0("\173colid}",$this->_il1n ,$_il2x); $_il2x=_iO0("\173\164\145\170t}",_iln($this->Filter["\126\141lue"]),$_il2x); return $_il2x; } function getfiltervalue() { $_iOs=$_POST[$this->_il1n."\137\146ilter_i\156\160\165t"]; if ($this->_iO1w->_il1k->AjaxEnabled === TRUE) { $_iOs=iconv("UTF-8",$this->_iO1w->_il1k->CharSet ,$_iOs); } return $_iOs; } function _iO2x() { $_il2y="<td\040\151d='\173\151\144}' cl\141\163s='k\147\162Filt\145\162Cel\154\040\173v\151\163ible}\047\076<div \143\154ass='\153\147rIn'\076\173cont\145\156t}</d\151\166></td\076"; $_iO2y="&#160;"; if ($this->AllowFiltering) { $_il2z="<div>\173\151\156put}</\144\151\166><di\166\076\173sel\145\143t}</d\151\166>"; $_iO2z="\074select \151\144\075'\173\151\144\175' on\143\150\141nge=\047\147rid_\146\151lter_t\162\151gger(\042\173\143olid\175\042\054thi\163\051' sty\154\145\075'wid\164\150:100%'\076\173optio\156\163\175</se\154\145\143t>"; $_il30="\074\157\160tion \166\141\154ue='\173\166alue}'\040\173selec\164\145d} >\173\164ext}</\157\160\164ion>"; $_iO30=$this->FilterOptions; $_il31=""; for ($_iO8=0; $_iO8<sizeof($_iO30); $_iO8 ++) { $_iO31=_iO0("\173\166alue}",$_iO30[$_iO8],$_il30); $_iO31=_iO0("\173\164\145xt}",$this->_iO1w->_il1k->Localization->_il1r[$_iO30[$_iO8]],$_iO31); $_iO31=_iO0("\173selecte\144\175",($this->Filter["\105xp"] == $_iO30[$_iO8]) ? "\163\145lected": "",$_iO31); $_il31.=$_iO31; } $_il32=_iO0("\173i\144\175",$this->_il1n."_filter_\163\145\154ect",$_iO2z); $_il32=_iO0("\173colid\175",$this->_il1n ,$_il32); $_il32=_iO0("\173optio\156\163\175",$_il31,$_il32); $_iO2y=_iO0("\173\163elect}",$_il32,$_il2z); $_iO2y=_iO0("\173in\160\165\164}",$this->renderfilter(),$_iO2y); } $_il2o=strtolower($_SERVER["HTT\120\137\125SER_A\107\105\116T"]); $_iO2o=(strpos($_il2o,"\155sie 6") !== FALSE) && (strpos($_il2o,"\155\163ie 7") === FALSE) && (strpos($_il2o,"\155sie 8") === FALSE) && (strpos($_il2o,"\157\160\145ra") === FALSE); $_il2p=(strpos($_il2o,"msie 7") !== FALSE) && (strpos($_il2o,"\157\160era") === FALSE); $_iOx=_iO0("\173\151\144}",$this->_il1n."\137flt",$_il2y); $_iOx=_iO0("\173v\151\163\151ble}",($this->Visible || $_iO2o || $_il2p) ? "": "kgrHidde\156",$_iOx); $_iOx=_iO0("\173co\156\164\145nt}",$_iO2y,$_iOx); return $_iOx; } } class _iO32 extends gridcolumn { var $AllowHtmlRender=FALSE; function render($_iO14) { $_il33=$this->format($_iO14->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il33=_iO0("<","\046\04360;",$_il33); $_il33=_iO0("\076","\046\04362;",$_il33); } return $_il33; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new _iO32(); } parent::createinstance($_il2n); $_il2n->AllowHtmlRender =$this->AllowHtmlRender; return $_il2n; } } class gridboundcolumn extends _iO32 { var $MaxLength=-1; var $_iO33=''; var $_il34=NULL; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); if ($this->MaxLength >-1) { $_iO34=new regularexpressionvalidator(); $_iO34->ValidationExpression = "/\136\056\1730,$this->MaxLength}\044/"; if (!empty($this->_iO33)) $_iO34->ErrorMessage =$this->_iO33; else $_iO34->ErrorMessage = "\120lease e\156\164\145r les\163\040than \157\162\040equ\141\154 to $this->MaxLength chara\143\164\145rs."; $this->addvalidator($_iO34); $this->_il34 =$_iO34; } } function setlengtherrormessage($_il35) { $this->_iO33 =$_il35; if ( isset ($this->_il34)) $this->_il34->ErrorMessage =$_il35; } function inlineeditrender($_iO14) { if (!$this->ReadOnly) { $_iO35= "<div\040\143lass='k\147\162\105ditI\156\040kgrEC\141\160\047><i\156\160ut i\144\075'\173id\175\047\040clas\163\075'kgrEn\116\157Po' n\141\155\145='\173\151\144}' ty\160\145\075'tex\164\047 valu\145\075\047\173v\141\154\165e}' \040\155axlen\147\164\150=$this->MaxLength\040\163tyle='\167\151\144th:1\060\060%' />\074\057div>"; $_il36=_iO0("\173i\144\175",$_iO14->_il1n."_".$this->_il1n."\137\151nput",$_iO35); $_il36=_iO0("\173\166\141lue}",_iln($this->format($_iO14->DataItem[$this->DataField ])),$_il36); return $_il36; } else { return $this->render($_iO14); } } function formeditrender($_iO14) { $_iO35= "<in\160\165\164 id='\173\151d}' cl\141\163\163='kg\162\105nNoPo\047\040name\075\047\173id\175\047 type=\047\164ext' v\141\154\165e='\173\166\141lue}\047\040maxle\156\147\164h=$this->MaxLength style=\047\167\151dth:\071\060%' />"; $_il36=_iO0("\173\151\144}",$_iO14->_il1n."\137".$this->_il1n."_input",$_iO35); $_il36=_iO0("\173v\141\154\165e}",_iln($this->format($_iO14->DataItem[$this->DataField ])),$_il36); return $_il36; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridboundcolumn(); } parent::createinstance($_il2n); $_il2n->MaxLength =$this->MaxLength; $_il2n->_iO33 =$this->_iO33; return $_il2n; } } class gridcalculatedcolumn extends gridboundcolumn { var $Expression; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO14) { $_ils=$this->Expression; foreach ($_iO14->DataItem as $_iO1g => $_il1h) { $_ils=_iO0("\173".$_iO1g."}",$_il1h,$_ils); } return eval ("return ".$_ils.";"); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcalculatedcolumn(); } parent::createinstance($_il2n); $_il2n->Expression =$this->Expression; return $_il2n; } } class gridcalculatedcustomcolumn extends gridcalculatedcolumn { var $InlineEditExpression; function inlineeditrender($_iO14) { $_ils=$this->InlineEditExpression; foreach ($_iO14->DataItem as $_iO1g => $_il1h) { $_ils=_iO0("\173".$_iO1g."\175",$_il1h,$_ils); } return eval ("\162\145turn ".$_ils."\073"); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcalculatedcustomcolumn(); } parent::createinstance($_il2n); $_il2n->InlineEditExpression =$this->InlineEditExpression; return $_il2n; } } class gridnumbercolumn extends gridboundcolumn { var $DecimalNumber=0; var $DecimalPoint="."; var $ThousandSeperate="\054"; var $FormatString="\173n}"; function format($_iOs) { $_iO36= (double) $_iOs; return _iO0("\173\156}",number_format($_iO36,$this->DecimalNumber ,$this->DecimalPoint ,$this->ThousandSeperate),$this->FormatString); } function render($_iO14) { $_il33=$this->format($_iO14->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il33=_iO0("\074","&#60;",$_il33); $_il33=_iO0("\076","\046\04362;",$_il33); } return $_il33; } function inlineeditrender($_iO14) { if (!$this->ReadOnly) { $_iO35="<d\151\166\040clas\163\075\047kgr\105\144itIn k\147\162ECap'\076\074inpu\164\040id='\173\151\144}' cl\141\163\163='kg\162\105\156NoP\157\047\040nam\145\075'\173id}\047\040type=\047\164ext' \166\141\154ue='\173\166\141lue}\047\040style\075\047width\072\06100%'\040\057></di\166\076"; $_il36=_iO0("\173i\144\175",$_iO14->_il1n."\137".$this->_il1n."\137\151\156put",$_iO35); $_il36=_iO0("\173v\141\154\165e}",$_iO14->DataItem[$this->DataField ],$_il36); return $_il36; } else { return $this->render($_iO14); } } function formeditrender($_iO14) { $_iO35="\074input \151\144\075'\173\151\144}' cla\163\163='kgr\105\156\116oPo\047\040name\075\047\173id\175\047\040typ\145\075\047tex\164\047 valu\145\075'\173va\154\165\145}' s\164\171\154e='w\151\144th:90%\047\040/>"; $_il36=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n."\137\151nput",$_iO35); $_il36=_iO0("\173\166\141\154ue}",$_iO14->DataItem[$this->DataField ],$_il36); return $_il36; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridnumbercolumn(); } parent::createinstance($_il2n); $_il2n->DecimalNumber =$this->DecimalNumber; $_il2n->DecimalPoint =$this->DecimalPoint; $_il2n->ThousandSeperate =$this->ThousandSeperate; $_il2n->FormatString =$this->FormatString; return $_il2n; } } class gridcurrencycolumn extends gridboundcolumn { var $Locale="en\137\125\123"; var $FormatString="%\151"; function format($_iOs) { setlocale(LC_MONETARY,$this->Locale); return money_format($this->FormatString ,$_iOs); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcurrencycolumn(); } parent::createinstance($_il2n); $_il2n->Locale =$this->Locale; $_il2n->FormatString =$this->FormatString; return $_il2n; } } class gridtextareacolumn extends _iO32 { var $BoxHeight; function inlineeditrender($_iO14) { if (!$this->ReadOnly) { $_iO35="<di\166\040class='k\147\162\105dit\111\156\040kgr\105\103\141p'>\074\164exta\162\145a id='\173\151d}' cl\141\163\163='kg\162\105\156NoP\157\047 name=\047\173id}' s\164\171\154e='w\151\144th:100\045\073\173hei\147\150\164}'>\173\166\141lue}<\057\164extar\145\141></di\166\076"; $_il36=_iO0("\173id\175",$_iO14->_il1n."_".$this->_il1n."_\151\156\160ut",$_iO35); $_il36=_iO0("\173\166\141lue}",_iln($this->format($_iO14->DataItem[$this->DataField ])),$_il36); $_il36=_iO0("\173he\151\147\150t}",($this->BoxHeight) ? "\150\145ight:".$this->BoxHeight.";": "",$_il36); return $_il36; } else { return $this->render($_iO14); } } function formeditrender($_iO14) { $_iO35="\074texta\162\145\141 id='\173\151d}' cl\141\163s='kgr\105\156NoPo\047\040name\075\047\173id\175\047\040styl\145\075'width\072\0710%;\173\150\145ight}\047\076\173val\165\145\175</te\170\164\141rea>"; $_il36=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n."_i\156\160\165t",$_iO35); $_il36=_iO0("\173value}",_iln($this->format($_iO14->DataItem[$this->DataField ])),$_il36); $_il36=_iO0("\173\150eight\175",($this->BoxHeight) ? "\150eight\072".$this->BoxHeight.";": "",$_il36); return $_il36; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridtextareacolumn(); } parent::createinstance($_il2n); $_il2n->BoxHeight =$this->BoxHeight; return $_il2n; } } class griddropdowncolumn extends gridcolumn { var $_il37=array(); function render($_iO14) { $_iOs=$_iO14->DataItem[$this->DataField ]; $_il3=$_iO14->DataItem[$this->DataField ]; for ($_iO8=0; $_iO8<sizeof($this->_il37); $_iO8 ++) { if ($_iOs == $this->_il37[$_iO8][1]) { $_il3=$this->_il37[$_iO8][0]; break; } } return $_il3; } function additem($_il3,$_iOs=NULL) { if ($_iOs === NULL) $_iOs=$_il3; array_push($this->_il37 ,array($_il3,$_iOs)); } function clear() { $this->_il37 =array(); } function _iO37($_iO14,$_iO2z) { $_il30="\074\157ption va\154\165e='\173\166\141lue}' \173\163electe\144\175>\173t\145\170t}</o\160\164\151on>"; $_il31=""; foreach ($this->_il37 as $_iOq) { $_iO31=_iO0("\173\164ext}",$_iOq[0],$_il30); $_iO31=_iO0("\173\166\141lue}",_iln($_iOq[1]),$_iO31); $_iO31=_iO0("\173\163\145lected}",($_iOq[1] == $_iO14->DataItem[$this->DataField ]) ? "\163elect\145\144": "",$_iO31); $_il31.=$_iO31; } $_il32=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n."\137input",$_iO2z); $_il32=_iO0("\173op\164\151\157ns}",$_il31,$_il32); return $_il32; } function inlineeditrender($_iO14) { if (!$this->ReadOnly) { $_iO2z="\074\163pan cl\141\163s='kgr\105\103ap'><\163\145lect\040\151d='\173\151d}' \156\141me='\173\151\144}' \163\164yle='w\151\144th:1\060\060%'>\173\157ption\163\175\074/se\154\145ct></\163\160an>"; return $this->_iO37($_iO14,$_iO2z); } else { return $this->render($_iO14); } } function formeditrender($_iO14) { $_iO2z="<se\154\145ct id\075\047\173i\144\175' na\155\145='\173\151\144}' \163\164yle\075\047widt\150\07290%'>\173\157ption\163\175</sel\145\143t>"; return $this->_iO37($_iO14,$_iO2z); } function renderfilter() { $_iO2z="\074span\040\143lass=\047\153grECa\160\047><sel\145\143t id\075\047\173i\144\175' na\155\145='\173i\144\175' sty\154\145\075'wi\144\164h:10\060\045' on\143\150ange=\047\147rid_f\151\154ter_t\162\151gger\050\042\173co\154\151d}\042\054\164his)'\076\173opti\157\156s}<\057\163elec\164\076</sp\141\156>"; $_il30="\074opti\157\156\040valu\145\075'\173va\154\165e}' \173\163\145lect\145\144}>\173\164\145\170t}</\157\160\164ion>"; $_il31=""; foreach ($this->_il37 as $_iOq) { $_iO31=_iO0("\173\164ext}",$_iOq[0],$_il30); $_iO31=_iO0("\173va\154\165\145}",$_iOq[1],$_iO31); $_iO31=_iO0("\173\163elected}",($_iOq[1] == $this->Filter["\126\141\154ue"]) ? "sel\145\143\164ed": "",$_iO31); $_il31.=$_iO31; } $_il32=_iO0("\173\151d}",$this->_il1n."\137filter\137\151\156put",$_iO2z); $_il32=_iO0("\173c\157\154\151d}",$this->_il1n ,$_il32); $_il32=_iO0("\173opt\151\157\156s}",$_il31,$_il32); return $_il32; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new griddropdowncolumn(); } parent::createinstance($_il2n); $_il2n->_il37 =$this->_il37; return $_il2n; } } class gridrowselectcolumn extends gridcolumn { var $Align="\143enter"; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO14) { $_il38="\074\163pan cl\141\163s='kgrE\103\141p'><in\160\165t typ\145\075'chec\153\142ox' \143\154\141ss='\153\147\162Sele\143\164\123ing\154\145Row' \173\143\150ecke\144\175\040oncl\151\143\153='gr\151\144\137tog\147\154\145_sel\145\143\164(thi\163\051' /></\163\160an>"; $_iO38=_iO0("\173\143hecked}",$_iO14->Selected ? "checked": "",$_il38); return $_iO38; } function _iO2q() { $_il2r="<col id\075\047\173id}\047\040name='\173\151d}' st\171\154e='\173\167\151dth}\047\040class\075\047kgrCol\165\155nSelec\164\040\173re\163\151zable}\040\173visibl\145\175'/>"; $_iO2a=_iO0("\173id}",$this->_il1n ,$_il2r); $_iO2a=_iO0("\173resi\172\141\142le}",($this->AllowResizing) ? "\153\147rResiza\142\154\145": "",$_iO2a); $_iO2a=_iO0("\173w\151\144\164h}",($this->Width != NULL) ? "width:".$this->Width."\073": "",$_iO2a); $_iO2a=_iO0("\173\166\151\163ible}",($this->Visible) ? "": "\153\147rHidden",$_iO2a); return $_iO2a; } function renderheader() { $_il38="<spa\156\040\143lass\075\047kgrECa\160\047><inp\165\164\040typ\145\075'ch\145\143kbox' \143\154ass='k\147\162\123elec\164\101\154lRo\167\163\047 \173\143\150ecked}\040\157nclick\075\047grid_\164\157ggle_\163\145\154ect(\164\150\151s)' \057\076</spa\156\076"; $_il14=$this->_iO1w->_il39; $_iO39=TRUE; for ($_iO8=0; $_iO8<sizeof($_il14); $_iO8 ++) { if (!$_il14[$_iO8]->Selected) { $_iO39=FALSE; break; } } $this->HeaderText =_iO0("\173checked}",$_iO39 ? "\143\150ecked": "",$_il38); return parent::renderheader(); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridrowselectcolumn(); } parent::createinstance($_il2n); return $_il2n; } } class gridbooleancolumn extends gridcolumn { var $TrueText="\124\162ue"; var $FalseText="Fa\154\163\145"; var $UseCheckBox=FALSE; function render($_iO14) { $_il36=""; if ($this->UseCheckBox) { $_iO35="<input t\171\160e='che\143\153\142ox' \173\143hecke\144\175\040di\163\141bled \057\076"; $_il36=_iO0("\173checke\144\175",($_iO14->DataItem[$this->DataField ]) ? "\143hecked": "",$_iO35); } else { $_il36=($_iO14->DataItem[$this->DataField ]) ? $this->TrueText : $this->FalseText; } return $_il36; } function inlineeditrender($_iO14,$_il3a=FALSE) { if (!$this->ReadOnly) { $_il36=""; if ($this->UseCheckBox) { $_iO35="<span c\154\141\163s='kg\162\105Cap'><\151\156\160ut  \151\144='\173\151\144}' n\141\155\145='\173\151\144}' typ\145\075'check\142\157x' \173\143\150ecked\175\040/></sp\141\156>"; $_il36=_iO0("\173\151\144}",$_iO14->_il1n."\137".$this->_il1n."_inp\165\164",$_iO35); $_il36=_iO0("\173\143hecked\175",($_iO14->DataItem[$this->DataField ]) ? "\143\150\145cked": "",$_il36); } else { $_iO2z="\074\163pan clas\163\075'kgrEC\141\160'><sel\145\143t id=\047\173id}' \156\141me='\173\151\144}' s\164\171\154e='w\151\144\164h:\173\167\151dth}'\076\173optio\156\163\175</se\154\145\143t></\163\160an>"; $_il30="<opti\157\156\040valu\145\075\047\173v\141\154ue}' \173\163\145lec\164\145d}>\173\164\145xt}</\157\160tion>"; $_iO3a=_iO0("\173\166\141lue}","\061",$_il30); $_iO3a=_iO0("\173selecte\144\175",($_iO14->DataItem[$this->DataField ]) ? "s\145\154\145cted": "",$_iO3a); $_iO3a=_iO0("\173text}",$this->TrueText ,$_iO3a); $_il3b=_iO0("\173\166alue}","0",$_il30); $_il3b=_iO0("\173\163electe\144\175",(!$_iO14->DataItem[$this->DataField ]) ? "s\145\154\145cted": "",$_il3b); $_il3b=_iO0("\173text}",$this->FalseText ,$_il3b); $_il36=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n."\137\151nput",$_iO2z); $_il36=_iO0("\173\157\160tions\175",$_iO3a.$_il3b,$_il36); $_il36=_iO0("\173wid\164\150\175",($_il3a) ? "\0710%": "\06100%",$_il36); } return $_il36; } else { return $this->render($_iO14); } } function formeditrender($_iO14) { return $this->inlineeditrender($_iO14,TRUE); } function geteditvalue($_iO14) { if ($this->UseCheckBox) { return isset ($_POST[$_iO14->_il1n."_".$this->_il1n."\137\151nput"]) ? 1: 0; } else { return parent::geteditvalue($_iO14); } } function renderfilter() { $_il36=""; if ($this->UseCheckBox) { $_iO35="\074span \143\154\141ss='\153\147\162ECap\047\076<inpu\164\040 id=\047\173id}'\040\156ame='\173\151\144}' t\171\160\145='ch\145\143kbox'\040\173checke\144\175\040onc\150\141\156ge='\147\162\151d_fi\154\164er_tri\147\147er(\042\173\143\157lid\175\042\054thi\163\051' />\074\057span\076"; $_il36=_iO0("\173i\144\175",$this->_il1n."_fil\164\145\162_inpu\164",$_iO35); $_il36=_iO0("\173\143\157\154id}",$this->_il1n ,$_il36); $_il36=_iO0("\173ch\145\143\153ed}",($this->Filter["\126alue"]) ? "chec\153\145\144": "",$_il36); } else { $_iO2z="\074span \143\154\141ss='k\147\162\105Cap'\076\074selec\164\040id='\173\151d}' \156\141\155e='\173\151\144}' st\171\154\145='wi\144\164h:100\045\047 onch\141\156\147e='g\162\151\144_fil\164\145\162_tri\147\147er(\042\173\143\157lid}\042\054this)\047\076\173op\164\151ons}<\057\163elect\076\074/span\076"; $_il30="\074\157\160tion \166\141\154ue='\173\166alue}'\040\173selec\164\145d}>\173\164\145xt}</\157\160\164ion>"; $_iO3a=_iO0("\173\166alue}","\061",$_il30); $_iO3a=_iO0("\173\163elected\175",($this->Filter["\126alue"]) ? "\163elected": "",$_iO3a); $_iO3a=_iO0("\173\164ext}",$this->TrueText ,$_iO3a); $_il3b=_iO0("\173\166\141\154ue}","\060",$_il30); $_il3b=_iO0("\173selected\175",(!$this->Filter["Value"]) ? "selecte\144": "",$_il3b); $_il3b=_iO0("\173tex\164\175",$this->FalseText ,$_il3b); $_il36=_iO0("\173id}",$this->_il1n."\137filter\137\151\156put",$_iO2z); $_il36=_iO0("\173col\151\144\175",$this->_il1n ,$_il36); $_il36=_iO0("\173\157ptions}",$_iO3a.$_il3b,$_il36); } return $_il36; } function getfiltervalue() { if ($this->UseCheckBox) { return isset ($_POST[$this->_il1n."\137\146ilter_i\156\160\165t"]) ? 1: 0; } else { return parent::getfiltervalue(); } } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridbooleancolumn(); } parent::createinstance($_il2n); $_il2n->TrueText =$this->TrueText; $_il2n->FalseText =$this->FalseText; $_il2n->UseCheckBox =$this->UseCheckBox; return $_il2n; } } class gridimagecolumn extends gridcolumn { var $ImageFolder=""; var $CssClass=""; function render($_iO14) { $_iO35="\074\151mg src\075\047\173src\175\047 clas\163\075'\173cl\141\163s}' \141\154t='' /\076"; $_il36=_iO0("\173src}",(($this->ImageFolder != "") ? ($this->ImageFolder."\057"): "").$_iO14->DataItem[$this->DataField ],$_iO35); $_il36=_iO0("\173\143lass}",$this->CssClass ,$_il36); return $_il36; } function inlineeditrender($_iO14) { return $this->render($_iO14); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridimagecolumn(); } parent::createinstance($_il2n); $_il2n->ImageFolder =$this->ImageFolder; $_il2n->CssClass =$this->CssClass; return $_il2n; } } class gridcustomcolumn extends gridcolumn { var $ItemTemplate; var $EditItemTemplate; var $AllowSorting=FALSE; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->ReadOnly =TRUE; } function render($_iO14) { $_il36=$this->ItemTemplate; foreach ($_iO14->DataItem as $_iO1g => $_il1h) { $_il36=_iO0("\173".$_iO1g."}",$_il1h,$_il36); } return $_il36; } function inlineeditrender($_iO14) { $_il36=$this->EditItemTemplate; foreach ($_iO14->DataItem as $_iO1g => $_il1h) { $_il36=_iO0("\173".$_iO1g."}",$_il1h,$_il36); } return $_il36; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcustomcolumn(); } parent::createinstance($_il2n); $_il2n->ItemTemplate =$this->ItemTemplate; $_il2n->EditItemTemplate =$this->EditItemTemplate; return $_il2n; } } class gridcommandcolumn extends gridcolumn { var $CommandText="C\157\155\155and"; var $OnClick=""; var $CssClass=""; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->AllowSorting =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO14) { $_iO35="<s\160\141\156 clas\163\075'kgrE\103\141\160'><i\156\160ut typ\145\075'bu\164\164on' cl\141\163\163='\173\143\154ass}' \166\141lue='\173\164ext}' \157\156\143lick\075\047\173onc\154\151ck}' /\076\074/span\076"; $_il36=_iO0("\173\143lass}",$this->CssClass ,$_iO35); $_il3=$this->CommandText; $_iO3b=$this->OnClick; foreach ($_iO14->DataItem as $_iO1g => $_il1h) { $_il3=_iO0("\173".$_iO1g."}",$_il1h,$_il3); $_iO3b=_iO0("\173".$_iO1g."\175",$_il1h,$_iO3b); } $_il36=_iO0("\173t\145\170\164}",$_il3,$_il36); $_il36=_iO0("\173onclick\175",$_iO3b,$_il36); return $_il36; } function inlineeditrender($_iO14) { return $this->render($_iO14); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridcommandcolumn(); } parent::createinstance($_il2n); $_il2n->CommandText =$this->CommandText; $_il2n->OnClick =$this->OnClick; $_il2n->CssClass =$this->CssClass; return $_il2n; } } class grideditdeletecolumn extends gridcolumn { var $ButtonType="Auto"; var $EditButtonText; var $DeleteButtonText; var $ConfirmButtonText; var $CancelButtonText; var $EditButtonImageUrl=""; var $DeleteButtonImageUrl=""; var $ConfirmButtonImageUrl=""; var $CancelButtonImageUrl=""; var $EditButtonCssClass=""; var $ConfirmButtonCssClass=""; var $CancelButtonCssClass=""; var $DeleteButtonCssClass=""; var $ShowEditButton=TRUE; var $ShowDeleteButton=TRUE; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; if ($this->EditButtonText === NULL) $this->EditButtonText =$_iO1y->_il1k->Localization->_il1r["Edit"]; if ($this->DeleteButtonText === NULL) $this->DeleteButtonText =$_iO1y->_il1k->Localization->_il1r["Delet\145"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO1y->_il1k->Localization->_il1r["Confirm"]; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO1y->_il1k->Localization->_il1r["\103\141ncel"]; } function render($_iO14) { $_il2r="\074span \143\154ass='k\147\162\105Cap\047\076\173ed\151\164\175 \173\144\145lete\175\074/span>"; $_il3c=""; switch (strtolower($this->ButtonType)) { case "\141uto": $_il2r="\074\163pan cl\141\163\163='kg\162\105Cap' s\164\171le='w\150\151te-sp\141\143e:now\162\141\160;'>\173\145\144it}\173\144\145lete}\074\057span>"; $_il3c="<a typ\145\075'button\047\040class\075\047\173aut\157\143lass}\040\173clas\163\175' oncl\151\143\153='\173\157\156click\175\047\040hre\146\075'java\163\143\162ipt:\166\157id 0'>\173\164ext}</\141\076"; break; case "\154\151nk": $_il3c="\074\141 type='\142\165tton' \143\154\141ss='\173\143lass}'\040\157ncli\143\153='\173o\156\143\154ick}\047\040href='\152\141vascr\151\160\164:voi\144\0400'>\173\164\145\170t}</\141\076"; break; case "\151\155age": $_il3c="\074img src=\047\173src}' o\156\143lick='\173\157\156cli\143\153\175' c\154\141ss='\173\143\154ass}'\040\057>"; break; case "\142utton": default : $_il3c="<input\040\143lass='\173\143\154ass}'\040\164ype='\142\165tton'\040\166alue\075\047\173tex\164\175\047 onc\154\151ck='\173\157\156click\175\047\040/>"; break; } $_iO3c=_iO0("\173\164ext}",$this->EditButtonText ,$_il3c); $_iO3c=_iO0("\173au\164\157\143lass}","\153\147rLinkE\144\151\164",$_iO3c); $_iO3c=_iO0("\173\143\154\141ss}",$this->EditButtonCssClass ,$_iO3c); $_iO3c=_iO0("\173src}",$this->EditButtonImageUrl ,$_iO3c); $_iO3c=_iO0("\173\157\156click\175","grid\137\145\144it(th\151\163\051",$_iO3c); $_il3d=_iO0("\173\164ext}",$this->DeleteButtonText ,$_il3c); $_il3d=_iO0("\173\141\165tocla\163\163\175","\153\147rLinkDe\154\145\164e",$_il3d); $_il3d=_iO0("\173c\154\141\163s}",$this->DeleteButtonCssClass ,$_il3d); $_il3d=_iO0("\173\163\162c}",$this->DeleteButtonImageUrl ,$_il3d); $_il3d=_iO0("\173\157nclick}","\147rid_dele\164\145\050this\051",$_il3d); $_iO2a=_iO0("\173ed\151\164\175",($this->ShowEditButton) ? $_iO3c: "",$_il2r); $_iO2a=_iO0("\173\144elete}",($this->ShowDeleteButton) ? $_il3d: "",$_iO2a); return $_iO2a; } function inlineeditrender($_iO14) { if ($this->ShowEditButton) { $_il2r="<spa\156\040class='\153\147\162ECa\160\047\076\173c\157\156firm}\040\173canc\145\154}</spa\156\076"; $_il3c=""; switch (strtolower($this->ButtonType)) { case "au\164\157": $_il2r="<\163\160\141n cla\163\163\075'kg\162\105\103ap' \163\164yle='\167\150ite-s\160\141ce:now\162\141\160;'>\173\143\157nfirm\175\173cancel\175\074/span>"; $_il3c="<a type=\047\142utton'\040\143\154ass=\047\173autoc\154\141ss} \173\143\154ass\175\047 oncli\143\153\075'\173\157\156\143lick\175\047 href\075\047javas\143\162ipt:vo\151\144 0'>\173\164\145xt}</\141\076"; break; case "link": $_il3c="<a ty\160\145\075'but\164\157n' cla\163\163\075'\173\143\154ass}'\040\157ncli\143\153\075'\173\157\156click}\047\040href='\152\141vascr\151\160\164:voi\144\0400'>\173\164\145\170t}</\141\076"; break; case "\151\155\141ge": $_il3c="<input \164\171\160e='i\155\141\147e' s\162\143='\173s\162\143\175' o\156\143lick=\047\173onclic\153\175\047 cl\141\163\163='\173\143\154ass}' \057\076"; break; case "button": default : $_il3c="<input \143\154\141ss='\173\143\154ass}\047\040type=\047\142utto\156\047 valu\145\075'\173te\170\164}' onc\154\151\143k='\173\157\156clic\153\175\047 />"; break; } $_iO3d=_iO0("\173\164\145xt}",$this->ConfirmButtonText ,$_il3c); $_iO3d=_iO0("\173au\164\157\143lass}","\153grLinkCo\156\146\151rm",$_iO3d); $_iO3d=_iO0("\173\143\154ass}",$this->ConfirmButtonCssClass ,$_iO3d); $_iO3d=_iO0("\173\163\162c}",$this->ConfirmButtonImageUrl ,$_iO3d); $_iO3d=_iO0("\173onclic\153\175","grid_\143\157\156firm_\145\144\151t(th\151\163\051",$_iO3d); $_il3e=_iO0("\173tex\164\175",$this->CancelButtonText ,$_il3c); $_il3e=_iO0("\173au\164\157\143lass}","kgrLin\153\103\141ncel",$_il3e); $_il3e=_iO0("\173class\175",$this->CancelButtonCssClass ,$_il3e); $_il3e=_iO0("\173\163rc}",$this->CancelButtonImageUrl ,$_il3e); $_il3e=_iO0("\173oncl\151\143\153}","grid_\143\141\156cel_e\144\151\164(thi\163\051",$_il3e); $_iO2a=_iO0("\173\143onfirm\175",$_iO3d,$_il2r); $_iO2a=_iO0("\173\143ancel}",$_il3e,$_iO2a); return $_iO2a; } else { return $this->render($_iO14); } } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new grideditdeletecolumn(); } parent::createinstance($_il2n); $_il2n->ButtonType =$this->ButtonType; $_il2n->ReadOnly =$this->ReadOnly; $_il2n->EditButtonText =$this->EditButtonText; $_il2n->DeleteButtonText =$this->DeleteButtonText; $_il2n->ConfirmButtonText =$this->ConfirmButtonText; $_il2n->CancelButtonText =$this->CancelButtonText; $_il2n->EditButtonImageUrl =$this->EditButtonImageUrl; $_il2n->DeleteButtonImageUrl =$this->DeleteButtonImageUrl; $_il2n->ConfirmButtonImageUrl =$this->ConfirmButtonImageUrl; $_il2n->CancelButtonImageUrl =$this->CancelButtonImageUrl; $_il2n->EditButtonCssClass =$this->EditButtonCssClass; $_il2n->DeleteButtonCssClass =$this->DeleteButtonCssClass; $_il2n->ConfirmButtonCssClass =$this->ConfirmButtonCssClass; $_il2n->CancelButtonCssClass =$this->CancelButtonCssClass; $_il2n->ShowEditButton =$this->ShowEditButton; $_il2n->ShowDeleteButton =$this->ShowDeleteButton; return $_il2n; } } class gridexpanddetailcolumn extends gridcolumn { function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO14) { $_il2r="\074span cl\141\163\163='kg\162\173status\175\040kgrEC\141\160\047 on\143\154ick=\047\147\162id_\173\143\157mmand\175\050this)'\076\040</sp\141\156\076"; $_iO2a=_iO0("\173\163tatus}",($_iO14->Expand) ? "Expand": "C\157\154\154apse",$_il2r); $_iO2a=_iO0("\173\143\157\155mand}",($_iO14->Expand) ? "colla\160\163\145": "\145xpand",$_iO2a); return $_iO2a; } function _iO2q() { $_il2r="\074col \151\144\075'\173\151\144\175' n\141\155\145='\173\151\144}' s\164\171le='\173\167\151dth}\047\040class=\047\153grCol\165\155nExpa\156\144\040\173r\145\163\151zabl\145\175\040\173v\151\163\151ble}\047\057>"; $_iO2a=_iO0("\173id}",$this->_il1n ,$_il2r); $_iO2a=_iO0("\173r\145\163\151zable\175",($this->AllowResizing) ? "\153grResiza\142\154\145": "",$_iO2a); $_iO2a=_iO0("\173widt\150\175",($this->Width != NULL) ? "\167idth:".$this->Width.";": "",$_iO2a); $_iO2a=_iO0("\173visibl\145\175",($this->Visible) ? "": "\153grHidden",$_iO2a); return $_iO2a; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridexpanddetailcolumn(); } parent::createinstance($_il2n); return $_il2n; } } class _iO3e extends gridcolumn { function _iO1l($_iO1y) { parent::_iO1l($_iO1y); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; $this->AllowExporting =FALSE; } function _iO2q() { $_il2r="\074col id='\173\151\144}' na\155\145='\173i\144\175\047 st\171\154e='\173\167\151dth}'\040\143lass='\153\147rColum\156\107\162oup\047\057>"; $_iO2a=_iO0("\173id}",$this->_il1n ,$_il2r); $_iO2a=_iO0("\173width}",($this->Width != NULL) ? "\167idth:".$this->Width."\073": "",$_iO2a); return $_iO2a; } function _iO1o($_iO14) { $_iO2n="\074td id='\173\151\144}' cla\163\163='kgrC\145\154l kgr\107\162oupCo\154\047><di\166\040\143lass\075\047kgrIn\047\040style=\047\047>&#16\060\073</div\076\074/td>"; $_il2b=_iO0("\173id}",$_iO14->_il1n."_".$this->_il1n ,$_iO2n); return $_il2b; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new _iO3e(); } parent::createinstance($_il2n); return $_il2n; } } class griddatetimecolumn extends gridcolumn { var $Picker; var $FormatString; var $DatabaseFormatString="Y-\155\055d H:i:s"; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); if ($this->FormatString === NULL) { $this->FormatString ="\155\057d/Y g:\151\040\101"; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "kool\144\141\164etim\145\160\151cker": $this->FormatString =$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "kool\144\141\164epic\153\145\162": $this->FormatString =$this->Picker->DateFormat; break; case "\153\157oltime\160\151\143ker": $this->FormatString =$this->Picker->TimeFormat; break; } } } $this->NullDisplayText =''; } function inlineeditrender($_iO14) { if (!$this->ReadOnly) { $_il3f=$_iO14->DataItem[$this->DataField ]; $_iO3f=strtotime($_il3f); $_il3g=($_iO3f == NULL || mb_strpos($_il3f,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO3g="\155/d/Y\040\147\072i A"; switch (strtolower(get_class($this->Picker))) { case "koold\141\164\145time\160\151\143ker": $_iO3g=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153ooldat\145\160\151cker": $_iO3g=$this->Picker->DateFormat; break; case "k\157\157\154timep\151\143\153er": $_iO3g=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO14->_il1n."_".$this->_il1n."_i\156\160\165t"; $this->Picker->Width ="100%"; $this->Picker->ClientEvents =array(); if ($this->_iO1w->AllowScrolling == TRUE) { $this->Picker->ClientEvents["OnBefor\145\104\141tePic\153\145\162Open"]=$this->Picker->id."\137\157nbefore\157\160\145n"; $this->Picker->ClientEvents["O\156\102\145foreT\151\155\145Picke\162\117pen"]=$this->Picker->id."_on\142\145\146oreop\145\156"; $this->Picker->ClientEvents["\117\156DatePi\143\153\145rClos\145"]=$this->Picker->id."\137\157\156close"; $this->Picker->ClientEvents["\117\156TimeP\151\143\153erClo\163\145"]=$this->Picker->id."\137\157nclose"; } $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il3g) { $this->Picker->Value =""; } else { $this->Picker->Value =date($_iO3g,$_iO3f); } $_iO35="\074\144\151v cla\163\163\075'kgr\105\103ap'>\173\160\151cker}\173\152s_ed\151\164_overf\154\157\167}</d\151\166\076"; if ($this->_iO1w->AllowScrolling == TRUE) { $_iO35="\074\144iv clas\163\075'kgrEC\141\160\047>\173\152\163_init\137\157pencl\157\163e}<di\166\040\143lass\075\047kgrDat\145\124imePi\143\153\145rOut\047\076<div \143\154\141ss='\153\147\162Date\124\151mePick\145\162\111n'>\173\160\151cker\175\074/div><\057\144iv>\173\152\163_edi\164\137overf\154\157\167}</d\151\166>"; } $_il3h="<script\040\164\171pe='\164\145\170t/ja\166\141\163cri\160\164\047>fu\156\143tion \173\151d}_onb\145\146\157reop\145\156\050)\173\147\162id_on\137\144atetim\145\160\151cker\137\157\160en('\173\151d}');r\145\164urn tr\165\145;} fun\143\164\151on \173\151\144}_o\156\143\154ose\050\051\173gri\144\137\157n_da\164\145timep\151\143\153er_c\154\157se('\173\151\144}');}\040\074/scri\160\164>"; $_iO3h="<scri\160\164\040type\075\047text/j\141\166ascrip\164\047>docu\155\145nt.g\145\164\105leme\156\164\102yId(\047\173id}').\143\154assNa\155\145\053=' \153\147\162EnNo\120\157\047;var\040\137agent=\156\141vigato\162\056userAg\145\156t.toLo\167\145rCase(\051\073if(!\050\050_agen\164\056index\117\146\050'ms\151\145\0406')\041\075-1 ||\040\137agent.\151\156dexOf\050\047msie \067\047)!=-1\051\046&_age\156\164.inde\170\117\146('m\163\151\145 8'\051\075=-1 &\046\137agent\056\151ndexO\146\050'ope\162\141\047)==\055\061))\173\144\157cum\145\156t.get\105\154ement\102\171Id('\173\151\144}_bo\165\156d').p\141\162entNo\144\145.pare\156\164Node\056\163tyle.\157\166erflo\167\075'vis\151\142le';}\074\057scri\160\164>"; $_il3i=_iO0("\173i\144\175",$this->Picker->id ,$_iO3h); $_iO3i=_iO0("\173\151\144}",$this->Picker->id ,$_il3h); $_il36=_iO0("\173\160\151cker}",$this->Picker->render(),$_iO35); $_il36=_iO0("\173js_in\151\164\137openc\154\157\163e}",$_iO3i,$_il36); $_il36=_iO0("\173\152\163_edi\164\137overfl\157\167}",$_il3i,$_il36); return $_il36; } else { if ($this->NullDisplayText != NULL && $_il3g) { $_il3j=""; } else { $_il3j=date($this->FormatString ,$_iO3f); } $_iO35="<\144\151\166 clas\163\075'kgrEd\151\164In kg\162\105\103ap'>\074\151npu\164\040id='\173\151\144}' cl\141\163\163='kg\162\105\156NoP\157\047 name\075\047\173id}\047\040type='\164\145xt' va\154\165e='\173\166\141\154ue}'\040\163tyle='\167\151dth:10\060\045' />\074\057div>"; $_il36=_iO0("\173\151\144}",$_iO14->_il1n."\137".$this->_il1n."_inp\165\164",$_iO35); $_il36=_iO0("\173\166\141\154ue}",($_il3f != "") ? _iln($_il3j): "",$_il36); return $_il36; } } else { return $this->render($_iO14); } } function formeditrender($_iO14) { $_il3f=$_iO14->DataItem[$this->DataField ]; $_iO3f=strtotime($_il3f); $_il3g=($_iO3f == NULL || mb_strpos($_il3f,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO3g="m/d\057\131 g:i A"; switch (strtolower(get_class($this->Picker))) { case "\153\157oldatet\151\155\145pick\145\162": $_iO3g=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "kool\144\141\164epic\153\145\162": $_iO3g=$this->Picker->DateFormat; break; case "koolti\155\145\160icker": $_iO3g=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO14->_il1n."\137".$this->_il1n."_inp\165\164"; $this->Picker->Width ="\0710%"; $this->Picker->ClientEvents =array(); $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il3g) { $_il3j=""; } else { $_il3j=date($_iO3g,$_iO3f); } $this->Picker->Value =$_il3j; $_iO35="\074div cla\163\163\075'kgr\105\103\141p'>\173\160\151cker\175\173js_e\144\151t_ove\162\146\154ow}<\057\144iv>"; $_iO3h="\074\163cript ty\160\145='text\057\152\141vas\143\162\151pt'>\144\157cume\156\164.getEl\145\155entByI\144\050'\173id\175\047\051.c\154\141\163sNam\145\053=' kgr\105\156NoPo';\074\057scrip\164\076"; $_il3i=_iO0("\173\151\144}",$this->Picker->id ,$_iO3h); $_il36=_iO0("\173picke\162\175",$this->Picker->render(),$_iO35); $_il36=_iO0("\173js_ed\151\164\137over\146\154\157w}",$_il3i,$_il36); return $_il36; } else { if ($this->NullDisplayText != NULL && $_il3g) { $_il3j=""; } else { $_il3j=date($_iO3g,$_iO3f); } $_iO35="\074div c\154\141\163s='kg\162\105ditIn \153\147\162ECap\047\076<inp\165\164 id=\047\173id}' c\154\141\163s='k\147\162\105nNoP\157\047 name\075\047\173id}\047\040type=\047\164ext' v\141\154ue='\173\166\141lue}' \163\164yle='w\151\144th:90%\047\040/></d\151\166>"; $_il36=_iO0("\173\151d}",$_iO14->_il1n."_".$this->_il1n."_i\156\160\165t",$_iO35); $_il36=_iO0("\173value\175",($_il3f != "") ? _iln($_il3j): "",$_il36); return $_il36; } } function renderfilter() { $_il3f=$this->Filter["Value"]; $_iO3f=strtotime($_il3f); if ($this->Picker !== NULL) { $_iO3g="\155/d/Y g\072\151 A"; switch (strtolower(get_class($this->Picker))) { case "\153\157oldatet\151\155\145pick\145\162": $_iO3g=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "k\157\157\154datep\151\143\153er": $_iO3g=$this->Picker->DateFormat; break; case "kooltime\160\151\143ker": $_iO3g=$this->Picker->TimeFormat; break; } $this->Picker->id =$this->_il1n."\137filter_i\156\160\165t"; $this->Picker->Width ="1\060\060%"; if ($this->_iO1w->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117\156BeforeDa\164\145PickerO\160\145n"]=$this->Picker->id."_onbe\146\157\162eopen"; $this->Picker->ClientEvents["OnBe\146\157\162eTime\120\151\143kerO\160\145\156"]=$this->Picker->id."_on\142\145\146oreop\145\156"; $this->Picker->ClientEvents["OnDa\164\145\120icke\162\103\154ose"]=$this->Picker->id."\137\157nclose"; $this->Picker->ClientEvents["\117\156TimePi\143\153\145rClos\145"]=$this->Picker->id."_onclo\163\145"; } $this->Picker->ClientEvents["OnSele\143\164"]=$this->Picker->id."_o\156\163\145lect"; $this->Picker->init(); $this->Picker->Value =($_il3f != "") ? date($_iO3g,$_iO3f): ""; $_iO35="<\144\151\166 clas\163\075\047kgr\105\103\141p'>\173\160\151cke\162\175\173js\137\151\156it_o\156\163\145lect\175\074/div>"; if ($this->_iO1w->AllowScrolling == TRUE) { $_iO35="<div cla\163\163\075'kgr\105\103ap'><d\151\166\040cla\163\163\075'kg\162\104ateT\151\155\145Pick\145\162\117ut'>\074\144\151v cl\141\163s='kg\162\104\141teTi\155\145Picker\111\156\047>\173\152\163\137init\137\157penclo\163\145\175\173p\151\143\153er}\173\152\163_ini\164\137onsel\145\143\164}</d\151\166></di\166\076\074/di\166\076"; } $_iO3j="\074script t\171\160\145='tex\164\057javasc\162\151pt'>f\165\156ction\040\173id}_\157\156\163elec\164\050\051\173g\162\151\144_fi\154\164\145r_t\162\151\147ger(\042\173\143olid\175\042,docum\145\156t.getE\154\145\155entB\171\111d('\173\151\144\175'))}\073\166ar _i\156\160ut = \144\157\143umen\164\056getEl\145\155\145ntBy\111\144('\173i\144\175');_in\160\165t.cla\163\163\116ame+\075\047kgrFi\105\156Tr'; \166\141\162 _a\147\145\156t=na\166\151gator\056\165serAg\145\156t.toL\157\167\145rCa\163\145\050);i\146\050!((_\141\147ent.\151\156\144exO\146\050'msie\040\066')!=\055\061 || \137\141gent.\151\156dexO\146\050'msie\040\067')!=\055\061)&&_\141\147ent.i\156\144exOf\050\047msie\040\070')==\055\061 &&_\141\147ent.i\156\144exOf\050\047oper\141\047)==-\061\051)\173d\157\143umen\164\056getE\154\145ment\102\171\111d('\173\151d}_b\157\165nd')\056\160aren\164\116ode.\160\141rentN\157\144e.pa\162\145ntNo\144\145.sty\154\145.ove\162\146\154ow=\047\166isi\142\154e';}\074\057scri\160\164>"; $_il3h="\074script\040\164\171pe='\164\145xt/jav\141\163cript\047\076func\164\151on \173\151\144}_onb\145\146\157reop\145\156()\173g\162\151d_on_d\141\164etime\160\151\143ker_\157\160\145n('\173\151\144}');\162\145\164urn \164\162\165e;} \146\165nctio\156\040\173id}\137\157nclos\145\050)\173gr\151\144_on_d\141\164\145time\160\151cker_\143\154\157se(\047\173\151d}'\051\073}</sc\162\151pt>"; $_il3k=_iO0("\173id}",$this->Picker->id ,$_iO3j); $_il3k=_iO0("\173colid}",$this->_il1n ,$_il3k); $_iO3i=_iO0("\173id}",$this->Picker->id ,$_il3h); $_il36=_iO0("\173\160\151cker}",$this->Picker->render(),$_iO35); $_il36=_iO0("\173\152\163_init\137\157\156sele\143\164}",$_il3k,$_il36); $_il36=_iO0("\173\152\163\137init\137\157\160encl\157\163\145}",$_iO3i,$_il36); return $_il36; } else { $_iO2w="<div cl\141\163\163='kg\162\105\144itIn\047\076<inpu\164\040clas\163\075'kgrF\151\105nTr' \164\171\160e='t\145\170\164' id\075\047\173id}\047\040name=\047\173id}' v\141\154ue='\173\164\145xt}' o\156\142lur='g\162\151d_filt\145\162_trigg\145\162(\042\173\143\157lid}\042\054this)\047\040style\075\047width\072\06100%;'\040\057></di\166\076"; $_il2x=_iO0("\173\151\144}",$this->_il1n."_fil\164\145\162_inp\165\164",$_iO2w); $_il2x=_iO0("\173colid}",$this->_il1n ,$_il2x); $_il2x=_iO0("\173text\175",($_il3f != "") ? _iln(date($this->FormatString ,$_iO3f)): "",$_il2x); return $_il2x; } } function render($_iO14) { $_il3f=$_iO14->DataItem[$this->DataField ]; $_iO3f=strtotime($_il3f); $_il3g=($_iO3f == NULL || mb_strpos($_il3f,'0000-00-00') !== FALSE); if ($_il3g && $this->NullDisplayText !== NULL) { return $this->NullDisplayText; } else { $_iOs=date($this->FormatString ,$_iO3f); return $_iOs; } } function geteditvalue($_iO14) { $_iO3k=$_iO14->_il1n."\137".$this->_il1n."_inp\165\164"; $_il3l=_ilm($_POST[$_iO3k]); if (trim($_il3l) == "") { if ($this->DefaultValue != NULL) { $_iO3f=strtotime($this->DefaultValue); return date($this->DatabaseFormatString ,$_iO3f); } else { return NULL; } } else { $_iO3f=strtotime($_il3l); return date($this->DatabaseFormatString ,$_iO3f); } } function getfiltervalue() { $_il3l=_ilm($_POST[$this->_il1n."\137filter_i\156\160\165t"]); $_iO3f=strtotime($_il3l); return date($this->DatabaseFormatString ,$_iO3f); } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new griddatetimecolumn(); } parent::createinstance($_il2n); $_il2n->Picker =$this->Picker; $_il2n->FormatString =$this->FormatString; $_il2n->DatabaseFormatString =$this->DatabaseFormatString; return $_il2n; } } class gridautocompletecolumn extends gridcolumn { var $serviceFunction=''; var $itemTemplate='{text}'; var $saveTemplate=''; var $defaultSave=''; var $footerTemplate=''; var $KoolAutoCompleteFolder=''; var $HiddenDataField=''; var $ClientEvents=array(); function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridautocompletecolumn(); } parent::createinstance($_il2n); $_il2n->serviceFunction =$this->serviceFunction; $_il2n->itemTemplate =$this->itemTemplate; $_il2n->saveTemplate =$this->saveTemplate; $_il2n->defaultSave =$this->defaultSave; $_il2n->footerTemplate =$this->footerTemplate; $_il2n->KoolAutoCompleteFolder =$this->KoolAutoCompleteFolder; $_il2n->HiddenDataField =$this->HiddenDataField; $_il2n->ClientEvents =$this->ClientEvents; return $_il2n; } function _iO3l($_iO14) { $_il3m=$_iO14->_il1n."_".$this->_il1n."_inp\165\164"; $_iOs=$_iO14->DataItem[$this->DataField ]; $_iO3m=''; $_iO3m.= "\074input t\171\160\145=text\040\151d='$_il3m\047 name=\047$_il3m' \166\141\154ue='$_iOs\047 style='\167\151\144th:9\060\045'>"; if (!empty($this->HiddenDataField)) { $_il3n= isset ($_iO14->DataItem[$this->HiddenDataField ]) ? $_iO14->DataItem[$this->HiddenDataField ]: $this->defaultSave; $_iO3n=$_iO14->_il1n."_".$this->_il1n."_h\151\144\144en_in\160\165\164"; $_iO3m.= "<input \164\171\160e=hid\144\145\156 id=\047$_iO3n' na\155\145\075'$_iO3n' value\075\047$_il3n'>"; } $_il3o="kac_".$_iO14->_il1n."\137".$this->_il1n; $_iO3o=new koolautocomplete($_il3o); $_iO3o->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_iO3o->attachTo =$_il3m; if (!empty($_iO3n)) { $_iO3o->saveTo =$_iO3n; $_iO3o->saveTemplate =$this->saveTemplate; $_iO3o->defaultSave =$this->defaultSave; } $_iO3o->serviceFunction =$this->serviceFunction; $_iO3o->itemTemplate =$this->itemTemplate; $_iO3o->footerTemplate =$this->footerTemplate; $_iO3o->ClientEvents =$this->ClientEvents; $_iO3m.=$_iO3o->render(); return $_iO3m; } function inlineeditrender($_iO14) { return $this->_iO3l($_iO14); } function formeditrender($_iO14) { return $this->_iO3l($_iO14); } function _il3p($_iO14) { $_iOs=$_POST[$_iO14->_il1n."_".$this->_il1n."\137hidden_i\156\160ut"]; if ($this->_iO1w->_il1k->AjaxEnabled === TRUE) { $_iOs=iconv("U\124\106\0558",$this->_iO1w->_il1k->CharSet ,$_iOs); } return $_iOs; } } class gridfilecolumn extends gridcolumn { var $BaseDirectory; var $TableName; var $IdColumn; var $UploadHandlePage; var $MustHaveFiles; var $MaxFileSize=046113200; var $AllowedExtension="gif\054\152pg,doc,\160\144f,txt"; var $AllowDelete=FALSE; var $AllowDownload=TRUE; var $AutoUpload=FALSE; var $InitialShownFiles=3; var $ShowDescription=FALSE; var $MultipleUpload=TRUE; var $KoolUploaderFolder='kooluploader'; function _iO3p($_il3q) { $_iO3q=substr(strrchr($_il3q,'.'),1); $_il3r=array('pdf' => 'pdf_2-16','zip' => 'zip_2-16','rar' => 'zip_2-16','7z' => 'zip_2-16','doc' => 'word_2-16','docx' => 'word_2-16','jpg' => 'image_2-16','jpeg' => 'image_2-16','png' => 'image_2-16','xls' => 'excel_2-16','xlsx' => 'excel_2-16','ppt' => 'powerpoint_2-16','pptx' => 'powerpoint_2-16','txt' => 'text_2-16'); if (array_key_exists($_iO3q,$_il3r)) $_iO3r=$_il3r[$_iO3q]; else $_iO3r='file_2-16'; return $_iO3r; } function render($_iO14) { $_il3m='ul_'.$_iO14->_il1n."\137".$this->_il1n; $_iO3m= "\074ul c\154\141\163s='kg\162\106ileLis\164\047 id='$_il3m' >"; $_il3s="\074\163pan cl\141\163s='koo\154\160\150pfil\145\146ormat\040\173clas\163\175'></s\160\141n>"; $_il3s.=$this->AllowDownload ? "\074a href='\173\146\151lepa\164\150}' dow\156\154\157ad>\173\144ispla\171\175</a>": "\173disp\154\141\171}"; $_iO3s=$_iO14->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_iO3s=stripslashes($_iO3s); $_iO3s=json_decode($_iO3s,TRUE); $_il3t=0; if (is_array($_iO3s)) foreach ($_iO3s as $_iO3t) { if ($_il3t<$this->InitialShownFiles) $_il3u=''; else $_il3u='none'; $_iO3u=$_il3s; $_il3v=$_iO3t['name']; if (!empty($_iO3t['description'])) $_il2c=$_iO3t['description']; else $_il2c=$_il3v; if ($this->ShowDescription) { $_iO3v=$_il2c; $_il3w=$_il3v; } else { $_iO3v=$_il3v; $_il3w=$_il2c; } $_iO3u=str_replace("\173di\163\160\154ay}",$_iO3v,$_iO3u); $_iO3w=$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO14->DataItem[$this->IdColumn ].'/'.$_il3v; $_iO3u=str_replace("\173\146ilepa\164\150\175",$_iO3w,$_iO3u); $_iO3u=str_replace("\173\143\154ass}",'koolphp-'.$this->_iO3p($_il3v),$_iO3u); $_iO3m.="\074\154i title\075\047".$_il3w."' style\075\047display\072".$_il3u."\047\076".$_iO3u."</l\151\076"; $_il3t ++; } if (count($_iO3s)>$this->InitialShownFiles) { $_iO3m.="\074\154i><span\040\143lass='k\147\162FileF\157\162\155at k\147\162file\047\076</sp\141\156\076...<\057\154i></ul\076"; $_iO3m.= "\074\141 style\075\047cursor\072\160\157inte\162\073 font\055\167eigh\164\072bold\073\047 oncli\143\153=Expan\144\114\151st('$_il3m\047)>>></\141\076\074a st\171\154e='cur\163\157\162:poi\156\164er; \146\157nt-we\151\147ht:bol\144\073\040dis\160\154\141y:no\156\145' onc\154\151\143k=\042\103\157llaps\145\114\151st('$_il3m\047, $this->InitialShownFiles)\042\076\074<</a>"; } return $_iO3m; } function formeditrender($_iO14) { $_il3x="kul_".$_iO14->_il1n."\137".$this->_il1n; $_iO3x=$_iO14->_il1n."\137".$this->_il1n."_input"; $_iO3m=''; $_iO3m.="\074\151nput ty\160\145=hidden\040\151d=\173i\144\175 name\075\173id} \147\145tEdit\126\141\154ue='\173\153\165lId}\056\147etIte\155\163\123tatu\163\050)'>"; $_iO3m=_iO0("\173id}",$_iO3x,$_iO3m); $_iO3m=_iO0("\173kulId}",$_il3x,$_iO3m); $_ilw=array(); $_iO3s=$_iO14->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_iO3s=stripslashes($_iO3s); $_iO3s=json_decode($_iO3s,TRUE); if (is_array($_iO3s)) foreach ($_iO3s as $_iO3t) { $_il2c=''; if ( isset ($_iO3t['description'])) $_il2c=$_iO3t['description']; array_push($_ilw,array('name' => $_iO3t['name'],'description' => $_il2c)); } $_il3y=new kooluploader($_il3x); $_il3y->styleFolder =$this->KoolUploaderFolder.'styles/default'; $_il3y->allowedExtension =$this->AllowedExtension; $_il3y->maxFileSize =$this->MaxFileSize; $_il3y->allowDelete =$this->AllowDelete; $_il3y->allowDownload =$this->AllowDownload; $_il3y->autoUpload =$this->AutoUpload; $_il3y->multipleUpload =$this->MultipleUpload; $_il3y->progressTracking =FALSE; $_il3y->updateProgressInterval =024; $_il3y->targetFolder =$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO14->DataItem[$this->IdColumn ]; $_il3y->currentFiles =$_ilw; $_il3y->width ='90%'; $_il3y->mustHaveFiles =$this->MustHaveFiles; $_iO3m.=$_il3y->render(); return $_iO3m; } function createinstance($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridfilecolumn(); } parent::createinstance($_il2n); $_il2n->BaseDirectory =$this->BaseDirectory; $_il2n->TableName =$this->TableName; $_il2n->IdColumn =$this->IdColumn; $_il2n->UploadHandlePage =$this->UploadHandlePage; $_il2n->MustHaveFiles =$this->MustHaveFiles; $_il2n->AllowDelete =$this->AllowDelete; $_il2n->AllowDownload =$this->AllowDownload; $_il2n->AllowedExtension =$this->AllowedExtension; $_il2n->AutoUpload =$this->AutoUpload; $_il2n->InitialShownFiles =$this->InitialShownFiles; $_il2n->ShowDescription =$this->ShowDescription; $_il2n->MultipleUpload =$this->MultipleUpload; return $_il2n; } } class _iO3y implements _il1i { var $_il1n; var $_iO1w; var $_il1w; var $TableView; var $PageIndex=0; var $_il3z; var $_iO3z; var $PageSize; var $ShowPageInfo=TRUE; var $PageInfoTemplate; var $ShowPageSize=FALSE; var $PageSizeText; var $PageSizeOptions="5,10,2\060\05440"; var $Position="\142\157ttom"; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; $this->TableView =$_iO1y; $this->_il1w =$_iO1y->_il1w; if ($this->PageSize === NULL) $this->PageSize =$this->_iO1w->PageSize; if ($this->PageInfoTemplate === NULL) $this->PageInfoTemplate =$_iO1y->_il1k->Localization->_iO1r["PageIn\146\157\124empl\141\164\145"]; if ($this->PageSizeText === NULL) $this->PageSizeText =$_iO1y->_il1k->Localization->_iO1r["\120ageSiz\145\124\145xt"]; } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->PageIndex =$_il1z["PageI\156\144\145x"]; $this->_il3z =$_il1z["_TotalPa\147\145s"]; $this->_iO3z =$_il1z["_T\157\164\141lRows"]; $this->PageSize =$_il1z["\120\141geSize"]; } } function _il1j() { $this->_il1w->_il1f[$this->_il1n ]=array("\120ageInde\170" => $this->PageIndex ,"_Total\120\141\147es" => $this->_il3z ,"\120\141geSize" => $this->PageSize ,"_To\164\141\154Rows" => $this->_iO3z); } function _iO24($_iO1v) { if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["C\157\155\155and"]) { case "GoP\141\147\145": if ($this->_iO1w->_il1k->EventHandler->onbeforepageindexchange($this,array("\116\145wPageIn\144\145\170" => $_il25["Args"]["Pag\145\111\156dex"])) == TRUE) { $this->PageIndex =$_il25["Args"]["P\141\147eIndex"]; $this->_iO1w->_il1o =TRUE; $this->_iO1w->_il1k->EventHandler->onpageindexchange($this,array()); } break; case "\103hangePag\145\123\151ze": if ($this->_iO1w->_il1k->EventHandler->onbeforepagesizechange($this,array("\116ewPag\145\123\151ze" => $_il25["Ar\147\163"]["PageSi\172\145"])) == TRUE) { $this->PageSize =$_il25["\101\162gs"]["\120\141\147eSize"]; $this->_iO1w->_il1o =TRUE; $this->_iO1w->_il1k->EventHandler->onpagesizechange($this,array()); } break; } } $this->_il3z =ceil($this->_iO3z /$this->PageSize); if ($this->PageIndex >=$this->_il3z) $this->PageIndex =$this->_il3z -1; if ($this->PageIndex <0) $this->PageIndex =0; } function _iO1o() { return ""; } function _il40() { $_iO40="<div cl\141\163\163='kgr\111\156fo'>\173\164\145xt}</\144\151v>"; $_il3=_iO0("\173PageIn\144\145\170}",($this->_il3z >0) ? ($this->PageIndex +1): 0,$this->PageInfoTemplate); $_il3=_iO0("\173\124otalPag\145\163}",$this->_il3z ,$_il3); $_il41=($this->_il3z >0) ? ($this->PageIndex *$this->PageSize +1): 0; $_iO41=($this->PageIndex +1)*$this->PageSize; if ($_iO41>$this->_iO3z) $_iO41=$this->_iO3z; $_il3=_iO0("\173F\151\162\163tInde\170\111\156Page\175",$_il41,$_il3); $_il3=_iO0("\173\114astIndex\111\156\120age}",$_iO41,$_il3); $_il3=_iO0("\173\124\157\164alRow\163\175",$this->_iO3z ,$_il3); $_il42=_iO0("\173\164\145xt}",$_il3,$_iO40); return $_il42; } function _iO42() { $_il43="\074div c\154\141\163s='kg\162\120ageSiz\145\047>\173te\170\164}\173s\145\154ect}<\057\144iv>"; $_iO2z="<sele\143\164\040onch\141\156\147e='g\162\151\144_pa\147\145\163ize\137\163elect\137\157\156chan\147\145\050this\051\047>\173o\160\164ions}\074\057selec\164\076"; $_il30="\074\157ption v\141\154\165e='\173\166\141lue}\047\040\173sel\145\143ted}\076\173value}\074\057optio\156\076"; $_il31=""; $_iO43=explode(',',$this->PageSizeOptions); for ($_iO8=0; $_iO8<sizeof($_iO43); $_iO8 ++) { $_iO31=_iO0("\173v\141\154\165e}",$_iO43[$_iO8],$_il30); $_iO31=_iO0("\173\163\145\154ecte\144\175",($this->PageSize == (int) $_iO43[$_iO8]) ? "\163elected": "",$_iO31); $_il31.=$_iO31; } $_il32=_iO0("\173o\160\164\151ons}",$_il31,$_iO2z); $_il44=_iO0("\173\164\145xt}",$this->PageSizeText ,$_il43); $_il44=_iO0("\173\163\145lect}",$_il32,$_il44); return $_il44; } function _iO22($_il2n=NULL) { $_il2n->PageIndex =$this->PageIndex; $_il2n->ShowPageInfo =$this->ShowPageInfo; $_il2n->PageInfoTemplate =$this->PageInfoTemplate; $_il2n->ShowPageSize =$this->ShowPageSize; $_il2n->PageSizeText =$this->PageSizeText; $_il2n->PageSizeOptions =$this->PageSizeOptions; $_il2n->PageSize =$this->PageSize; $_il2n->Position =$this->Position; } } class gridprevnextpager extends _iO3y { var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); if ($this->FirstPageText === NULL) $this->FirstPageText =$_iO1y->_il1k->Localization->_il1r["Fi\162\163\164"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_iO1y->_il1k->Localization->_iO1r["FirstPag\145\124\157olTip"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_iO1y->_il1k->Localization->_il1r["\120\162\145v"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_iO1y->_il1k->Localization->_iO1r["Pr\145\166\120ageTo\157\154\124ip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_iO1y->_il1k->Localization->_il1r["Nex\164"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_iO1y->_il1k->Localization->_iO1r["Nex\164\120\141geToo\154\124\151p"]; if ($this->LastPageText === NULL) $this->LastPageText =$_iO1y->_il1k->Localization->_il1r["\114ast"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_iO1y->_il1k->Localization->_iO1r["\114astPag\145\124\157olTip"]; } function _iO1o() { $_iO44="<div cl\141\163\163='kgr\120\141ger kg\162\116extPre\166\116ext\120\141ger'\076\173pages\151\172\145}\173\156\141\166}\173\151\156fo}<d\151\166\040sty\154\145\075'cl\145\141\162:bot\150\047></div\076\074/div>"; $_il45="<div c\154\141\163s='k\147\162\116av'>\173\146\151rst}\040\173prev\175\040\173ne\170\164\175 \173l\141\163t}</di\166\076"; $_il3c="\074input t\171\160\145='bu\164\164\157n' o\156\143\154ick\075\047\173on\143\154ick}' \164\151tle='\173\164\151tle}'\040\143lass=\047\156odeco\162\047\057>"; $_iO45="\074\141 href=\047\152\141vasc\162\151\160t:vo\151\144 0' o\156\143lick\075\047\173onc\154\151\143k}' \164\151\164le='\173\164\151tle\175\047\076\173t\145\170t}</a>"; $_il46="<span \143\154\141ss= '\173\143lass}'\076\173button\175\074/spa\156\076"; $_iO46=_iO0("\173o\156\143\154ick}",($this->PageIndex >0) ? "\147rid_gopa\147\145\050this\054\060)": "",$_il3c); $_iO46=_iO0("\173title}",$this->FirstPageToolTip ,$_iO46); $_il47=_iO0("\173oncl\151\143\153}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "\147\162id_gopa\147\145\050this\054\060)": "",$_iO45); $_il47=_iO0("\173text}",$this->FirstPageText ,$_il47); $_il47=_iO0("\173title}",$this->FirstPageToolTip ,$_il47); $_iO47=_iO0("\173button}",$_iO46.$_il47,$_il46); $_iO47=_iO0("\173\143lass}","\153grFirst",$_iO47); $_il48=_iO0("\173\157nclick}",($this->PageIndex >0) ? "grid_\147\157\160age(t\150\151\163,".($this->PageIndex -1).")": "",$_il3c); $_il48=_iO0("\173\164\151tle}",$this->PrevPageToolTip ,$_il48); $_iO48=_iO0("\173onc\154\151\143k}",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "grid_go\160\141ge(th\151\163,".($this->PageIndex -1)."\051": "",$_iO45); $_iO48=_iO0("\173\164\145xt}",$this->PrevPageText ,$_iO48); $_iO48=_iO0("\173title}",$this->PrevPageToolTip ,$_iO48); $_il49=_iO0("\173\142utton}",$_il48.$_iO48,$_il46); $_il49=_iO0("\173\143\154ass}","kgrPrev",$_il49); $_iO49=_iO0("\173\157\156click}",($this->PageIndex <$this->_il3z -1) ? "\147\162\151d_gop\141\147\145(thi\163\054".($this->PageIndex +1)."\051": "",$_il3c); $_iO49=_iO0("\173\164\151tle}",$this->NextPageToolTip ,$_iO49); $_il4a=_iO0("\173on\143\154\151ck}",(($this->PageIndex <$this->_il3z -1) && $this->NextPageText !== NULL) ? "g\162\151\144_gopa\147\145\050thi\163\054".($this->PageIndex +1)."\051": "",$_iO45); $_il4a=_iO0("\173\164\145\170t}",$this->NextPageText ,$_il4a); $_il4a=_iO0("\173titl\145\175",$this->NextPageToolTip ,$_il4a); $_iO4a=_iO0("\173b\165\164\164on}",$_il4a.$_iO49,$_il46); $_iO4a=_iO0("\173c\154\141\163s}","kgrN\145\170\164",$_iO4a); $_il4b=_iO0("\173oncl\151\143\153}",($this->PageIndex >0) ? "grid_\147\157\160age(t\150\151\163,".($this->_il3z -1).")": "",$_il3c); $_il4b=_iO0("\173\164itle}",$this->LastPageToolTip ,$_il4b); $_iO4b=_iO0("\173\157\156click}",(($this->PageIndex <$this->_il3z -1) && $this->LastPageText !== NULL) ? "\147\162id_gop\141\147\145(thi\163\054".($this->_il3z -1)."\051": "",$_iO45); $_iO4b=_iO0("\173text\175",$this->LastPageText ,$_iO4b); $_iO4b=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_iO4b); $_il4c=_iO0("\173\142utton}",$_iO4b.$_il4b,$_il46); $_il4c=_iO0("\173\143lass}","kgrLast",$_il4c); $_iO4c=_iO0("\173\160rev}",$_il49,$_il45); $_iO4c=_iO0("\173next}",$_iO4a,$_iO4c); $_iO4c=_iO0("\173\146\151rst}",$_iO47,$_iO4c); $_iO4c=_iO0("\173last}",$_il4c,$_iO4c); $_il44=($this->ShowPageSize) ? $this->_iO42(): ""; $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173\156av}",$_iO4c,$_iO44); $_il4d=_iO0("\173\151nfo}",$_il42,$_il4d); $_il4d=_iO0("\173pagesize\175",$_il44,$_il4d); return $_il4d; } function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridprevnextpager(); } parent::_iO22($_il2n); $_il2n->FirstPageText =$this->FirstPageText; $_il2n->LastPageText =$this->LastPageText; $_il2n->FirstPageToolTip =$this->FirstPageToolTip; $_il2n->LastPageToolTip =$this->LastPageToolTip; $_il2n->NextPageText =$this->NextPageText; $_il2n->PrevPageText =$this->PrevPageText; $_il2n->NextPageToolTip =$this->NextPageToolTip; $_il2n->PrevPageToolTip =$this->PrevPageToolTip; return $_il2n; } } class gridnumericpager extends _iO3y { var $Range=012; function _iO1o() { $_iO44="\074div cl\141\163\163='kgr\120\141ger kg\162\116umeric\120\141ger\047\076\173pa\147\145\163ize}\173\156\141v}\173\151\156fo}<d\151\166 styl\145\075\047cle\141\162\072bot\150\047\076</di\166\076</div\076"; $_il45="\074\144iv class\075\047kgrNav\047\076\173nu\155\142ers}<\057\144iv>"; $_iO4d="\074a class=\047\153\147rNum\040\173\163ele\143\164\145d}' \173\150ref}\040\173oncl\151\143\153}><s\160\141\156>\173n\165\155ber}<\057\163pan><\057\141> "; $_il4e=floor($this->PageIndex /$this->Range)*$this->Range; $_iO4e=""; if ($_il4e>0) { $_iO36=_iO0("\173hr\145\146\175","href='\152\141\166ascri\160\164\072voi\144\0400'",$_iO4d); $_iO36=_iO0("\173\157\156\143lick}","oncl\151\143\153='gri\144\137\147opag\145\050this,".($_il4e-1).")'",$_iO36); $_iO36=_iO0("\173n\165\155\142er}","...",$_iO36); $_iO4e.=$_iO36; } for ($_iO8=$_il4e; $_iO8<$_il4e+$this->Range && $_iO8<$this->_il3z; $_iO8 ++) { $_iO36=_iO0("\173\156\165mber}",($_iO8+1),$_iO4d); if ($_iO8 == $this->PageIndex) { $_iO36=_iO0("\173\163\145lected}","\153\147rNumSel\145\143\164ed",$_iO36); $_iO36=_iO0("\173\150ref}","",$_iO36); $_iO36=_iO0("\173on\143\154\151ck}","",$_iO36); } else { $_iO36=_iO0("\173selecte\144\175","",$_iO36); $_iO36=_iO0("\173\150\162ef}","\150\162\145f='ja\166\141\163cript\072\166oid 0\047",$_iO36); $_iO36=_iO0("\173\157\156click\175","onc\154\151\143k='gr\151\144\137gopa\147\145\050thi\163\054".$_iO8."\051\047",$_iO36); } $_iO4e.=$_iO36; } if ($_il4e+$this->Range <$this->_il3z) { $_iO36=_iO0("\173\150\162ef}","\150ref='j\141\166\141scrip\164\072void 0\047",$_iO4d); $_iO36=_iO0("\173\157nclick}","\157\156\143lick=\047\147rid_go\160\141\147e(th\151\163,".($_il4e+$this->Range)."\051'",$_iO36); $_iO36=_iO0("\173numbe\162\175","...",$_iO36); $_iO36=_iO0("\173se\154\145\143ted}","",$_iO36); $_iO4e.=$_iO36; } $_iO4c=_iO0("\173\156\165\155bers}",$_iO4e,$_il45); $_il44=($this->ShowPageSize) ? $this->_iO42(): ""; $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173nav}",$_iO4c,$_iO44); $_il4d=_iO0("\173i\156\146\157}",$_il42,$_il4d); $_il4d=_iO0("\173p\141\147\145size}",$_il44,$_il4d); return $_il4d; } function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridnumericpager(); } parent::_iO22($_il2n); $_il2n->Range =$this->Range; return $_il2n; } } class gridprevnextandnumericpager extends _iO3y { var $Range=012; var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); if ($this->FirstPageText === NULL) $this->FirstPageText =$_iO1y->_il1k->Localization->_il1r["\106irst"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_iO1y->_il1k->Localization->_iO1r["\106irstP\141\147\145ToolT\151\160"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_iO1y->_il1k->Localization->_il1r["\120rev"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_iO1y->_il1k->Localization->_iO1r["\120\162evPageT\157\157\154Tip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_iO1y->_il1k->Localization->_il1r["Nex\164"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_iO1y->_il1k->Localization->_iO1r["NextPage\124\157\157lTip"]; if ($this->LastPageText === NULL) $this->LastPageText =$_iO1y->_il1k->Localization->_il1r["Last"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_iO1y->_il1k->Localization->_iO1r["\114\141stPageT\157\157\154Tip"]; } function _iO1o() { $_iO44="<d\151\166\040clas\163\075\047kgr\120\141\147er \153\147\162Nex\164\120revA\156\144\116umer\151\143\120ager\047\076\173pag\145\163ize}\173\156\141v}\173\151\156\146o}<d\151\166 style\075\047clear\072\142oth'><\057\144iv></d\151\166>"; $_il45="<div\040\143\154ass=\047\153grNav'\076\173first}\040\173prev}\040\173numb\145\162s} \173\156\145\170t} \173\154\141st}</\144\151v>"; $_iO4d="\074a cla\163\163\075'kgr\116\165\155 \173\163\145\154ecte\144\175' \173\150\162ef} \173\157\156click}\076\074span>\173\156\165mber\175\074/span>\074\057a> "; $_il3c="<i\156\160\165t ty\160\145\075'but\164\157n' on\143\154\151ck=\047\173oncl\151\143\153}' t\151\164le='\173\164\151tle}' \143\154ass='\156\157decor'\057\076"; $_iO45="<a href\075\047javascr\151\160\164:voi\144\0400' on\143\154\151ck=\047\173oncl\151\143\153}' t\151\164\154e='\173\164\151tle}'\076\173text}\074\057a>"; $_il46="\074\163pan cl\141\163\163= '\173\143\154ass}\047\076\173but\164\157n}</\163\160an>"; $_il4e=floor($this->PageIndex /$this->Range)*$this->Range; $_iO4e=""; if ($_il4e>0) { $_iO36=_iO0("\173\150ref}","href='ja\166\141script:\166\157\151d 0'",$_iO4d); $_iO36=_iO0("\173\157nclick}","onclick\075\047grid_g\157\160\141ge(t\150\151\163,".($_il4e-1).")\047",$_iO36); $_iO36=_iO0("\173n\165\155\142er}","\056\056.",$_iO36); $_iO4e.=$_iO36; } for ($_iO8=$_il4e; $_iO8<$_il4e+$this->Range && $_iO8<$this->_il3z; $_iO8 ++) { $_iO36=_iO0("\173\156\165\155ber}",($_iO8+1),$_iO4d); if ($_iO8 == $this->PageIndex) { $_iO36=_iO0("\173sele\143\164\145d}","kgrN\165\155\123electe\144",$_iO36); $_iO36=_iO0("\173\150\162\145f}","",$_iO36); $_iO36=_iO0("\173onclick}","",$_iO36); } else { $_iO36=_iO0("\173s\145\154\145cted}","",$_iO36); $_iO36=_iO0("\173href}","href='ja\166\141\163crip\164\072void \060\047",$_iO36); $_iO36=_iO0("\173\157\156\143lick}","oncli\143\153\075'grid\137\147\157page\050\164his,".$_iO8."\051\047",$_iO36); } $_iO4e.=$_iO36; } if ($_il4e+$this->Range <$this->_il3z) { $_iO36=_iO0("\173\150ref}","href='j\141\166\141scrip\164\072void 0\047",$_iO4d); $_iO36=_iO0("\173\157nclick}","on\143\154\151ck='g\162\151\144_gop\141\147\145(thi\163\054".($_il4e+$this->Range).")'",$_iO36); $_iO36=_iO0("\173number\175","...",$_iO36); $_iO36=_iO0("\173sel\145\143\164ed}","",$_iO36); $_iO4e.=$_iO36; } $_iO46=_iO0("\173onc\154\151\143k}",($this->PageIndex >0) ? "\147rid_gopa\147\145\050this\054\060)": "",$_il3c); $_iO46=_iO0("\173title\175",$this->FirstPageToolTip ,$_iO46); $_il47=_iO0("\173\157nclick\175",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "g\162\151\144_gopag\145\050this,0\051": "",$_iO45); $_il47=_iO0("\173text}",$this->FirstPageText ,$_il47); $_il47=_iO0("\173\164\151tle}",$this->FirstPageToolTip ,$_il47); $_iO47=_iO0("\173\142\165\164ton}",$_iO46.$_il47,$_il46); $_iO47=_iO0("\173clas\163\175","kgrFir\163\164",$_iO47); $_il48=_iO0("\173oncl\151\143\153}",($this->PageIndex >0) ? "\147rid_gopa\147\145\050this\054".($this->PageIndex -1).")": "",$_il3c); $_il48=_iO0("\173\164\151tle}",$this->PrevPageToolTip ,$_il48); $_iO48=_iO0("\173onclick\175",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "grid_g\157\160\141ge(th\151\163,".($this->PageIndex -1).")": "",$_iO45); $_iO48=_iO0("\173t\145\170\164}",$this->PrevPageText ,$_iO48); $_iO48=_iO0("\173\164itle}",$this->PrevPageToolTip ,$_iO48); $_il49=_iO0("\173butto\156\175",$_il48.$_iO48,$_il46); $_il49=_iO0("\173\143lass}","\153grPrev",$_il49); $_iO49=_iO0("\173\157\156\143lick\175",($this->PageIndex <$this->_il3z -1) ? "grid_go\160\141\147e(thi\163\054".($this->PageIndex +1)."\051": "",$_il3c); $_iO49=_iO0("\173\164\151tle}",$this->NextPageToolTip ,$_iO49); $_il4a=_iO0("\173o\156\143\154ick}",(($this->PageIndex <$this->_il3z -1) && $this->NextPageText !== NULL) ? "\147rid_gop\141\147\145(this\054".($this->PageIndex +1)."\051": "",$_iO45); $_il4a=_iO0("\173\164\145xt}",$this->NextPageText ,$_il4a); $_il4a=_iO0("\173\164\151\164le}",$this->NextPageToolTip ,$_il4a); $_iO4a=_iO0("\173\142utton}",$_il4a.$_iO49,$_il46); $_iO4a=_iO0("\173class\175","kgr\116\145\170t",$_iO4a); $_il4b=_iO0("\173oncl\151\143\153}",($this->PageIndex <$this->_il3z -1) ? "grid_\147\157\160age(t\150\151\163,".($this->_il3z -1)."\051": "",$_il3c); $_il4b=_iO0("\173titl\145\175",$this->LastPageToolTip ,$_il4b); $_iO4b=_iO0("\173o\156\143\154ick}",(($this->PageIndex <$this->_il3z -1) && $this->LastPageText !== NULL) ? "gr\151\144\137gopag\145\050this,".($this->_il3z -1)."\051": "",$_iO45); $_iO4b=_iO0("\173\164\145xt}",$this->LastPageText ,$_iO4b); $_iO4b=_iO0("\173ti\164\154\145}",$this->LastPageToolTip ,$_iO4b); $_il4c=_iO0("\173\142\165\164ton}",$_iO4b.$_il4b,$_il46); $_il4c=_iO0("\173\143\154ass}","\153\147rLast",$_il4c); $_iO4c=_iO0("\173\156umbers\175",$_iO4e,$_il45); $_iO4c=_iO0("\173\160rev}",$_il49,$_iO4c); $_iO4c=_iO0("\173\156ext}",$_iO4a,$_iO4c); $_iO4c=_iO0("\173\146\151rst}",$_iO47,$_iO4c); $_iO4c=_iO0("\173last}",$_il4c,$_iO4c); $_il44=($this->ShowPageSize) ? $this->_iO42(): ""; $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173nav}",$_iO4c,$_iO44); $_il4d=_iO0("\173\151nfo}",$_il42,$_il4d); $_il4d=_iO0("\173pag\145\163\151ze}",$_il44,$_il4d); return $_il4d; } function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridprevnextandnumericpager(); } parent::_iO22($_il2n); $_il2n->Range =$this->Range; $_il2n->FirstPageText =$this->FirstPageText; $_il2n->LastPageText =$this->LastPageText; $_il2n->FirstPageToolTip =$this->FirstPageToolTip; $_il2n->LastPageToolTip =$this->LastPageToolTip; $_il2n->NextPageText =$this->NextPageText; $_il2n->PrevPageText =$this->PrevPageText; $_il2n->NextPageToolTip =$this->NextPageToolTip; $_il2n->PrevPageToolTip =$this->PrevPageToolTip; return $_il2n; } } class gridmanualpager extends _iO3y { var $ManualPagerTemplate; var $ButtonType="\102\165tton"; var $GoPageButtonText; var $TextBoxWidth="25px"; function _iO1l($_iO1y) { parent::_iO1l($_iO1y); if ($this->ManualPagerTemplate === NULL) $this->ManualPagerTemplate =$_iO1y->_il1k->Localization->_iO1r["ManualP\141\147\145rTemp\154\141te"]; if ($this->GoPageButtonText === NULL) $this->GoPageButtonText =$_iO1y->_il1k->Localization->_il1r["Go"]; } function _iO24($_iO1v) { parent::_iO24($_iO1v); if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; $this->PageIndex =( (int) $_POST[$this->_il1n."\137input"])-1; if ($this->PageIndex >=$this->_il3z) $this->PageIndex =$this->_il3z -1; if ($this->PageIndex <0) $this->PageIndex =0; $this->_iO1w->_il1o =TRUE; } } function _iO1o() { $_iO44="\074div cl\141\163\163='kg\162\120\141ger \153\147\162Man\165\141lPage\162\047>\173\160\141\147esiz\145\175\173nav}\173\151\156fo}\074\144iv sty\154\145\075'cl\145\141\162:bot\150\047></div\076\074/div>"; $_il45="<d\151\166\040clas\163\075\047kgr\116\141\166'>\173\155\141in}</\144\151v>"; $_il4f="\074input \151\144\075'\173\151\144\175' na\155\145\075'\173\151\144}' t\171\160e='tex\164\142\157x' s\164\171\154e='w\151\144\164h:\173\167\151dth};\047\040value\075\047\173tex\164\175\047/>"; $_iO4f=$this->ManualPagerTemplate; $_il4g=""; switch (strtolower($this->ButtonType)) { case "link": $_il4g="\074\141 class=\047\153grGoBu\164\164\157n' h\162\145\146='j\141\166ascri\160\164:void\040\060' oncl\151\143\153='gr\151\144\137gop\141\147\145(thi\163\0540)'>\173\164\145xt}</a\076"; break; case "\151mage": $_il4g="\074input c\154\141ss='kgr\107\157Button\040\153grGoI\155\141ge' t\171\160e='b\165\164ton' o\156\143\154ick=\047\147rid_g\157\160\141ge(\164\150\151s,0)\047\040/>"; break; case "\142utton": default : $_il4g="<inp\165\164\040clas\163\075'kgrG\157\102\165tton\047\040type=\047\142utto\156\047 oncl\151\143\153='gr\151\144\137gopa\147\145\050thi\163\0540)' va\154\165\145='\173\164\145xt}' /\076"; break; } $_iO4g=_iO0("\173id}",$this->_il1n."_\151\156\160ut",$_il4f); $_iO4g=_iO0("\173widt\150\175",$this->TextBoxWidth ,$_iO4g); $_iO4g=_iO0("\173text}",$this->PageIndex +1,$_iO4g); $_il4h=_iO0("\173text}",$this->GoPageButtonText ,$_il4g); $_il8=_iO0("\173\124\145xtBox\175",$_iO4g,$_iO4f); $_il8=_iO0("\173GoPageB\165\164\164on}",$_il4h,$_il8); $_il8=_iO0("\173\124otalPa\147\145\175",$this->_il3z ,$_il8); $_iO4c=_iO0("\173ma\151\156\175",$_il8,$_il45); $_il44=($this->ShowPageSize) ? $this->_iO42(): ""; $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173\156av}",$_iO4c,$_iO44); $_il4d=_iO0("\173\151\156fo}",$_il42,$_il4d); $_il4d=_iO0("\173pag\145\163\151ze}",$_il44,$_il4d); return $_il4d; } function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new gridmanualpager(); } parent::_iO22($_il2n); $_il2n->ManualPagerTemplate =$this->ManualPagerTemplate; $_il2n->ButtonType =$this->ButtonType; $_il2n->GoPageButtonText =$this->GoPageButtonText; $_il2n->TextBoxWidth =$this->TextBoxWidth; return $_il2n; } } class gridcustompager extends _iO3y { function render($_iO4h) { return "Cu\163\164\157mPage\162"; } function _iO1o() { $_iO44="<div c\154\141\163s='kg\162\120ager k\147\162Custom\120\141ger'>\173\160ages\151\172e}\173na\166\175\173info\175\074div s\164\171\154e='c\154\145ar:bot\150\047></div\076\074/div>"; $_il45="<di\166\040class='\153\147\162Nav'\076\173main}<\057\144iv>"; $_il4d=$_iO44; $_iO4h=array("Pa\147\145\111ndex" => $this->PageIndex ,"\124\157talPages" => $this->_il3z); $_iO4c=_iO0("\173\155ain}",$this->render($_iO4h),$_il45); $_il4d=_iO0("\173nav}",$_iO4c,$_il4d); $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173i\156\146\157}",$_il42,$_il4d); $_il44=($this->ShowPageSize) ? $this->_iO42(): ""; $_il42=($this->ShowPageInfo) ? $this->_il40(): ""; $_il4d=_iO0("\173\151\156fo}",$_il42,$_il4d); $_il4d=_iO0("\173\160agesi\172\145\175",$_il44,$_il4d); return $_il4d; } function _iO22($_ii02=NULL) { if ($_ii02 === NULL) { eval ("\044\137ii02 = \156\145\167 ".get_class($this)."\050\051;"); } parent::_iO22($_ii02); return $_ii02; } } interface gridtemplate { function render($_il23); function getdata($_il23); } class _il4i { var $Mode="Inl\151\156\145"; var $HeaderCaption; var $ColumnNumber=1; var $CancelButtonText; var $ConfirmButtonText; var $CancelButtonToolTip; var $ConfirmButtonToolTip; var $Template; var $InputFocus="no\156\145"; function _iO22($_il2n=NULL) { $_il2n->Mode =$this->Mode; $_il2n->Template =$this->Template; $_il2n->HeaderCaption =$this->HeaderCaption; $_il2n->ColumnNumber =$this->ColumnNumber; $_il2n->CancelButtonText =$this->CancelButtonText; $_il2n->ConfirmButtonText =$this->ConfirmButtonText; $_il2n->CancelButtonToolTip =$this->CancelButtonToolTip; $_il2n->ConfirmButtonToolTip =$this->ConfirmButtonToolTip; $_il2n->InputFocus =$this->InputFocus; } } class _iO4i extends _il4i { var $_il1n; var $_iO25; } class _il4j extends _il4i { function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new _iO4j(); } parent::_iO22($_il2n); return $_il2n; } } class _iO4j extends _iO4i { var $_il23; var $_il4k; function _iO1l($_iO1y) { if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO1y->_il1k->Localization->_il1r["\103\141ncel"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO1y->_il1k->Localization->_il1r["Con\146\151\162m"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_iO1y->_il1k->Localization->_iO1r["\105\144itForm\137\103\141ncel\102\165\164tonT\157\157lTip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_iO1y->_il1k->Localization->_iO1r["EditForm\137\103\157nfirm\102\165ttonTo\157\154\124ip"]; } function _il26() { $_iO1z=$this->_il23->DataItem; $_iO4k=FALSE; if (strtolower($this->Mode) == "templat\145") { $_il4l=$this->Template->getdata($this->_il23); foreach ($_il4l as $_iO1g => $_il1h) { $_iO1z[$_iO1g]=$_il1h; } } else { foreach ($this->_il23->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { if (!empty($_iO2a->HiddenDataField)) $_iO1z[$_iO2a->HiddenDataField ]=$_iO2a->_il3p($this->_il23); $_iO1z[$_iO2a->DataField ]=$_iO2a->geteditvalue($this->_il23); } } foreach ($this->_il23->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { foreach ($_iO2a->_il2i as $_iO2k) { $_iO4l=$_iO2a->DataField; if (!$_iO2k->validate($_iO1z[$_iO4l],$_iO1z,$this->_il23 ,$_iO2a)) { $_iO4k=TRUE; } } } } } $this->_il4k =$_iO1z; if (!$_iO4k) { if ($this->_il23->_iO1w->_il1k->EventHandler->onbeforerowconfirmedit($this->_il23 ,array("\116ewDa\164\141\111tem" => &$_iO1z)) == TRUE) { $_il4m=$this->_il23->_iO1w->DataSource->update($_iO1z); $_il27=$this->_il23->_iO1w->DataSource->geterror(); $this->_il23->_iO1w->_il1o =TRUE; $this->_il23->EditMode =FALSE; if ($_il27 != "") $this->_il23->_iO1w->_il1k->EventHandler->ondatasourceerror($this,array("Erro\162" => $_il27)); $this->_il23->_iO1w->_il1k->EventHandler->onrowconfirmedit($this->_il23 ,array("\116ewDataI\164\145\155" => $_iO1z,"\123uccess\146\165\154" => $_il4m,"\105rror" => $_il27)); } } } function _iO1o() { $_il29=""; $_iO4m=new gridrow(); $_iO4m->_il1n =$this->_il23->_il1n; $_iO4m->_iO1l($this->_il23->_iO1w); $_iO4m->DataItem =($this->_il4k !== NULL) ? $this->_il4k : $this->_il23->DataItem; switch (strtolower($this->Mode)) { case "\164emplat\145": $_iO27="\074\164r id='\173\162\157wid}\047\040clas\163\075'kgrRo\167\040\173a\154\164} \173s\145\154ected}\040\153grRowE\144\151\164'>\173\164\144s}</t\162\076"; $_il4n="<tr><t\144\040colspan\075\047\173col\163\160\141n}'>\074\144iv i\144\075'\173r\157\167id}_ed\151\164\146orm'\040\143lass='\153\147rEdit\106\157\162m \173\151\156putfoc\165\163\175'>\173\143\157ntent}\074\057div><\057\164d></tr\076"; $_iO29=""; for ($_iO8=0; $_iO8<sizeof($this->_il23->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$this->_il23->_iO1w->_il2a[$_iO8]; $_il2b=$_iO2a->_iO1o($this->_il23); $_iO29.=$_il2b; } $_il29=_iO0("\173\164ds}",$_iO29,$_iO27); $_iO4n=_iO0("\173c\157\156\164ent}",($this->Template === NULL) ? "<b\076\116\157tice<\057\142>: No \164\145mplate\040\146ound!": $this->Template->render($this->_il23),$_il4n); $_iO4n=_iO0("\173\143\157lspan\175",sizeof($this->_il23->_iO1w->_il2a),$_iO4n); switch (strtolower($this->InputFocus)) { case "hide\147\162\151d": $_iO4n=_iO0("\173\151\156putfo\143\165\163}","kgrIn\160\165\164Focus\040\153grHid\145\107\162id",$_iO4n); break; case "b\154\165\162grid": $_iO4n=_iO0("\173input\146\157\143us}","kgrI\156\160\165tFocu\163\040kgrBlu\162\107\162id",$_iO4n); break; default : $_iO4n=_iO0("\173\151nputfocu\163\175","",$_iO4n); break; } $_il29.=$_iO4n; break; case "form": $_iO27="\074\164r id='\173\162\157wid}'\040\143lass=\047\153grRow\040\173alt}\040\173selec\164\145d} kgr\122\157wEdit'\076\173tds}</\164\162>"; $_il4n="<tr\076\074td colsp\141\156\075'\173\143\157lspan\175\047><div\040\151d='\173\162\157wid}_\145\144itform\047\040class=\047\153grEdi\164\106orm \173\151\156putfo\143\165\163}'>\173\150\145ader}\173\166alidat\157\162s}\173b\151\147\164able\175\173footer\175\074/div\076\074/td>\074\057tr>"; $_il4o="\074div cla\163\163\075'kgr\106\157rmHead\145\162'>\173t\145\170t}</d\151\166>"; $_iO4o="<di\166\040\143lass\075\047\153grFo\162\155Footer\047\076\173bu\164\164ons}<\057\144iv>"; $_il4p="\074ul class\075\047kgrVal\151\144\141tor'\076\173items\175\074/ul>"; $_iO4p="<\154\151\076<labe\154\040\146or='\173\151\144}'>\173\150\145ade\162\175: \173e\162\162or}</l\141\142el></l\151\076"; $_il4q="<t\141\142\154e st\171\154\145='ta\142\154\145-lay\157\165t:fix\145\144;widt\150\072100%;\047\076<tr>\173\142\151gtabl\145\137\164ds}\074\057tr></\164\141ble>"; $_iO4q="<td st\171\154\145='ver\164\151\143al-a\154\151gn: to\160\073widt\150\072\173wid\164\150}%'>\173\164\141ble\173\156\175\175</td\076"; $_il4r="\074\164\141ble s\164\171\154e='h\145\151\147ht:\173\150\145ight\175\160x;wid\164\150:100%;\047\076\173ct_\164\162\163}</t\141\142\154e>"; $_il3c="<\151\156\160ut ty\160\145\075'but\164\157\156' on\143\154ick='\173\157nclic\153\175' titl\145\075'\173tit\154\145}' cla\163\163\075'no\144\145cor'/>"; $_iO45="\074\141 href=\047\152\141vasc\162\151\160t:vo\151\144 0' o\156\143lick=\047\173oncli\143\153\175' ti\164\154\145='\173\164\151tle}'\076\173\164ext}\074\057a>"; $_il46="<span c\154\141\163s= '\173\143\154ass}\047\076\173but\164\157n}\173\141\175</spa\156\076 "; $_iO4r=043; $_iO29=""; for ($_iO8=0; $_iO8<sizeof($this->_il23->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$this->_il23->_iO1w->_il2a[$_iO8]; $_il2b=$_iO2a->_iO1o($this->_il23); $_iO29.=$_il2b; } $_il29=_iO0("\173tds\175",$_iO29,$_iO27); $_il4s=""; $_iO4s=$this->HeaderCaption; if ($_iO4s != NULL) { foreach ($this->_il23->DataItem as $_iO1g => $_il1h) { $_iO4s=_iO0("\173".$_iO1g."\175",$_il1h,$_iO4s); } $_il4s=_iO0("\173text\175",$_iO4s,$_il4o); } $_il4t=""; if ($this->_il4k !== NULL && $this->_iO25 != "\123tartEdi\164") { foreach ($_iO4m->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { foreach ($_iO2a->_il2i as $_iO2k) { if (!$_iO2k->validate($_iO4m->DataItem[$_iO2a->DataField ],$_iO4m->DataItem ,$this->_il23 ,$_iO2a)) { $_iO4t=_iO0("\173h\145\141\144er}",$_iO2a->HeaderText ,$_iO4p); $_iO4t=_iO0("\173\145rror}",$_iO2k->ErrorMessage ,$_iO4t); $_iO4t=_iO0("\173i\144\175",$_iO4m->_il1n."\137".$_iO2a->_il1n."_input",$_iO4t); $_il4t.=$_iO4t; } } } } } $_il4u=_iO0("\173i\164\145\155s}",$_il4t,$_il4p); $_iO4u=""; for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il4v=_iO0("\173n}",$_iO8,$_iO4q); $_il4v=_iO0("\173width\175",(0144/$this->ColumnNumber),$_il4v); $_iO4u.=$_il4v; } $_iO4v=_iO0("\173bigtabl\145\137\164ds}",$_iO4u,$_il4q); $_il4w=array(); $_iO4w=0; for ($_iO8=0; $_iO8<sizeof($_iO4m->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$_iO4m->_iO1w->_il2a[$_iO8]; if (!$_iO2a->ReadOnly) { $_il4x=$_iO2a->_il2q($_iO4m); array_push($_il4w,$_il4x); if (is_a($_iO2a,'gridfilecolumn')) $_iO4w += 0245; if (is_a($_iO2a,'gridtextareacolumn') && !empty($_iO2a->BoxHeight)) $_iO4w += intval($_iO2a->BoxHeight)-022; } } $_iO4x=ceil(sizeof($_il4w)/$this->ColumnNumber); for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il4y=""; for ($_iO4y=0; $_iO4y<$_iO4x; $_iO4y ++) { $_il4z=$_iO4x*$_iO8+$_iO4y; if ($_il4z<sizeof($_il4w)) { $_il4y.=$_il4w[$_il4z]; } } $_iO4z=_iO0("\173ct_trs\175",$_il4y,$_il4r); $_iO4z=_iO0("\173hei\147\150\164}",$_iO4x*$_iO4r+$_iO4w,$_iO4z); if ($_il4y == "") $_iO4z=""; $_iO4v=_iO0("\173\164able".$_iO8."}",$_iO4z,$_iO4v); } $_iO3d=_iO0("\173\143lass}","\153\147\162Confi\162\155",$_il46); $_iO3d=_iO0("\173b\165\164\164on}",$_il3c,$_iO3d); $_iO3d=_iO0("\173\141\175",($this->ConfirmButtonText != NULL) ? $_iO45: "",$_iO3d); $_iO3d=_iO0("\173onclic\153\175","g\162\151\144_conf\151\162\155_edi\164\050this)",$_iO3d); $_iO3d=_iO0("\173\164\151tle}",$this->ConfirmButtonToolTip ,$_iO3d); $_iO3d=_iO0("\173\164ext}",$this->ConfirmButtonText ,$_iO3d); $_il3e=_iO0("\173\143\154ass}","kgrCan\143\145\154",$_il46); $_il3e=_iO0("\173button}",$_il3c,$_il3e); $_il3e=_iO0("\173\141}",($this->CancelButtonText != NULL) ? $_iO45: "",$_il3e); $_il3e=_iO0("\173\157\156click}","grid_c\141\156\143el_ed\151\164(this\051",$_il3e); $_il3e=_iO0("\173title}",$this->CancelButtonToolTip ,$_il3e); $_il3e=_iO0("\173text}",$this->CancelButtonText ,$_il3e); $_il50=_iO0("\173\142\165ttons}",$_iO3d.$_il3e,$_iO4o); $_iO4n=_iO0("\173\150\145ader}",$_il4s,$_il4n); switch (strtolower($this->InputFocus)) { case "\150idegrid": $_iO4n=_iO0("\173inpu\164\146\157cus}","kgrInput\106\157\143us kg\162\110\151deGr\151\144",$_iO4n); break; case "\142\154urgri\144": $_iO4n=_iO0("\173i\156\160\165tfocu\163\175","\153grInputF\157\143\165s kgr\102\154urGrid",$_iO4n); break; default : $_iO4n=_iO0("\173inp\165\164\146ocus}","",$_iO4n); break; } $_iO4n=_iO0("\173v\141\154\151dator\163\175",$_il4u,$_iO4n); $_iO4n=_iO0("\173\142\151gtabl\145\175",$_iO4v,$_iO4n); $_iO4n=_iO0("\173\146ooter\175",$_il50,$_iO4n); $_iO4n=_iO0("\173\143\157lspan}",sizeof($_iO4m->_iO1w->_il2a),$_iO4n); $_il29.=$_iO4n; break; case "inline": default : $_iO50="\074tr><t\144\040colspan\075\047\173col\163\160an}'>\074\144\151v \143\154ass='\153\147rInput\106\157cus kg\162\102\154urGr\151\144' sty\154\145\075'wid\164\150:100%'\076\074table\040\143\154ass=\047\153grTabl\145\047 cell\163\160\141cing\075\0470' st\171\154e='t\141\142\154e-l\141\171\157ut: \141\165to;emp\164\171-cell\163\072\040sho\167\073\167idt\150\072\06100%\047\076<tbod\171\076<tr i\144\075'\173ro\167\151d}' c\154\141\163s='\153\147\162Row\040\173\141lt}\040\173selec\164\145\144} k\147\162\122owE\144\151t'>\173\164\144s}<\057\164r></t\142\157dy></\164\141ble><\057\144iv><\057\164d></t\162\076"; $_iO27="<tr \151\144\075'\173\162\157\167id}'\040\143lass=\047\153\147rRo\167\040\173a\154\164\175 \173s\145\154\145cted\175\040kgrRow\105\144it'>\173\164\144s}</t\162\076"; $_il51="<tr cla\163\163\075'kgrV\141\154idator\047\076\173val\151\144\137tds\175\074/tr>"; $_iO51="<td\040\143lass='k\147\162\103ell'\076\074div c\154\141\163s='\153\147rIn' \163\164yle='\167\150\151te-s\160\141\143e:no\162\155al;'>\173\144\151vs}<\057\144iv></\164\144\076"; $_il52="\074\144iv><labe\154\040for='\173\151\144}'>\173\145\162ror}<\057\154abel\076\074/div\076"; $_iO29=""; for ($_iO8=0; $_iO8<sizeof($_iO4m->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$_iO4m->_iO1w->_il2a[$_iO8]; $_il2b=$_iO2a->_iO2p($_iO4m); $_iO29.=$_il2b; } $_il29=_iO0("\173\164\144s}",$_iO29,($this->InputFocus == "blur\147\162\151d") ? $_iO50: $_iO27); $_il29=_iO0("\173\143olspa\156\175",sizeof($_iO4m->_iO1w->_il2a),$_il29); $_iO52=""; if ($this->_il4k !== NULL && $this->_iO25 != "Star\164\105\144it") { $_il53=""; for ($_iO8=0; $_iO8<sizeof($_iO4m->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$_iO4m->_iO1w->_il2a[$_iO8]; $_iO53=""; if (!$_iO2a->ReadOnly) { foreach ($_iO2a->_il2i as $_iO2k) { if (!$_iO2k->validate($_iO4m->DataItem[$_iO2a->DataField ],$_iO4m->DataItem ,$this->_il23 ,$_iO2a)) { $_il54=_iO0("\173\145\162\162or}",$_iO2k->ErrorMessage ,$_il52); $_il54=_iO0("\173\151\144}",$_iO4m->_il1n."\137".$_iO2a->_il1n."\137input",$_il54); $_iO53.=$_il54; } } } $_iO54=_iO0("\173\144\151vs}",$_iO53,$_iO51); $_il53.=$_iO54; } $_iO52=_iO0("\173valid\137\164\144s}",$_il53,$_il51); } $_il29.=$_iO52; break; } return $_il29; } } class _il55 extends _il4i { var $HeaderCaption=""; function _iO22($_il2n=NULL) { if ($_il2n === NULL) { $_il2n=new _iO55(); } parent::_iO22($_il2n); return $_il2n; } } class _iO55 extends _iO4i { var $_iO1w; var $_il4k; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_iO1y->_il1k->Localization->_il1r["\103\141ncel"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_iO1y->_il1k->Localization->_il1r["\103onfir\155"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_iO1y->_il1k->Localization->_iO1r["\111\156sertForm\137\103\141ncel\102\165ttonT\157\157\154Tip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_iO1y->_il1k->Localization->_iO1r["\111\156sertFor\155\137Confi\162\155Button\124\157olTi\160"]; } function _il56() { $_iO1z=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2a); $_iO8 ++) { if ($this->_iO1w->_il2a[$_iO8]->DataField != NULL) { $_iO1z[$this->_iO1w->_il2a[$_iO8]->DataField ]=$this->_iO1w->_il2a[$_iO8]->DefaultValue; } } $_iO56=new gridrow(); $_iO56->_il1n =$this->_iO1w->_il1n."_\156\162"; $_iO56->_iO1l($this->_iO1w); $_iO4k=FALSE; if (strtolower($this->Mode) == "templ\141\164\145") { $_il4l=$this->Template->getdata($_iO56); foreach ($_il4l as $_iO1g => $_il1h) { $_iO1z[$_iO1g]=$_il1h; } } else { foreach ($this->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { if (!empty($_iO2a->HiddenDataField)) $_iO1z[$_iO2a->HiddenDataField ]=$_iO2a->_il3p($_iO56); $_iO1z[$_iO2a->DataField ]=$_iO2a->geteditvalue($_iO56); } } foreach ($this->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { foreach ($_iO2a->_il2i as $_iO2k) { $_iO4l=$_iO2a->DataField; if (!$_iO2k->validate($_iO1z[$_iO4l],$_iO1z,$_iO56,$_iO2a)) { $_iO4k=TRUE; } } } } } if ($this->_iO1w->_il57 !== NULL) { foreach ($this->_iO1w->_iO57 as $_il58) { $_iO1z[$_il58["Detail"]]=$this->_iO1w->_il57->DataItem[$_il58["\115aster"]]; } } $this->_il4k =$_iO1z; if (!$_iO4k) { if ($this->_iO1w->_il1k->EventHandler->onbeforeconfirminsert($this->_iO1w ,array("\116\145wDataI\164\145\155" => &$_iO1z)) == TRUE) { $_iO58=$this->_iO1w->_il2a; $_il1a=array(); foreach ($_iO58 as $_iO1c) { if (is_a($_iO1c,'gridfilecolumn')) array_push($_il1a,$_iO1c); } $_iO1a=array(); if (count($_il1a) == 0) { $_il59=$this->_iO1w->DataSource->insert($_iO1z); } else { $_il59=$this->_iO1w->DataSource->insert($_iO1z,$_il1a,$_iO1a); foreach ($_il1a as $_il20 => $_iO1c) { $_iO59=$_iO1z[$_iO1c->DataField ]; if (get_magic_quotes_gpc()) $_iO59=stripslashes($_iO59); $_iO59=json_decode($_iO59,TRUE); $_il5a=$_iO1c->BaseDirectory.'/'.$_iO1c->TableName; $targetFolder=$_iO1c->BaseDirectory.'/'.$_iO1c->TableName.'/'.$_iO1a[$_il20]; mkdir($targetFolder); foreach ($_iO59 as $_iO5a) { rename($_il5a.'/'.$_iO5a['name'],$targetFolder.'/'.$_iO5a['name']); } } } $_il27=$this->_iO1w->DataSource->geterror(); $this->_iO1w->_il1o =TRUE; $this->_iO1w->_il5b =FALSE; if ($_il27 != "") $this->_iO1w->_il1k->EventHandler->ondatasourceerror($this,array("E\162\162\157r" => $_il27)); $this->_iO1w->_il1k->EventHandler->onconfirminsert($this->_iO1w ,array("N\145\167\104ataIt\145\155" => $_iO1z,"\123uccessfu\154" => $_il59,"\105rror" => $_il27)); } } } function _iO1o() { $_iO5b=""; $_iO1z=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2a); $_iO8 ++) { if ($this->_iO1w->_il2a[$_iO8]->DataField != NULL) { $_iO1z[$this->_iO1w->_il2a[$_iO8]->DataField ]=$this->_iO1w->_il2a[$_iO8]->DefaultValue; } } if ($this->_il4k === NULL) { $this->_il4k =$_iO1z; } $_iO56=new gridrow(); $_iO56->_il1n =$this->_iO1w->_il1n."\137nr"; $_iO56->_iO1l($this->_iO1w); $_iO56->DataItem =$this->_il4k; switch (strtolower($this->Mode)) { case "tem\160\154\141te": $_il5c="\074\164r><td co\154\163\160an='\173\143olspa\156\175\047><d\151\166 id=\047\173id}_i\156\163\145rtfo\162\155\047 cl\141\163\163='k\147\162\111nser\164\106\157rm \173\151\156putf\157\143\165s}'>\173\143\157nten\164\175\074/di\166\076</td><\057\164r>"; $_iO5b=_iO0("\173content\175",($this->Template === NULL) ? "<b\076\116otice</\142\076: Temp\154\141\164e no\164\040found\041": $this->Template->render($_iO56),$_il5c); $_iO5b=_iO0("\173\143olspan\175",sizeof($this->_iO1w->_il2a),$_iO5b); $_iO5b=_iO0("\173id}",$_iO56->_il1n ,$_iO5b); switch (strtolower($this->InputFocus)) { case "\150idegrid": $_iO5b=_iO0("\173input\146\157\143us}","kgr\111\156\160utFoc\165\163\040kgr\110\151deGrid",$_iO5b); break; case "\142lurgrid": $_iO5b=_iO0("\173\151\156\160utfo\143\165\163}","kgrI\156\160\165tFoc\165\163\040kgrB\154\165rGrid",$_iO5b); break; default : $_iO5b=_iO0("\173\151nputfoc\165\163\175","",$_iO5b); break; } break; case "\146\157rm": default : $_il5c="\074tr><t\144\040colspan\075\047\173col\163\160an}'><\144\151v id\075\047\173id\175\137insert\146\157\162m' c\154\141\163s='k\147\162Inser\164\106\157rm \173\151\156putfo\143\165s}'>\173\150\145ader}\173\166\141lida\164\157\162s}\173\142\151\147tabl\145\175\173fo\157\164er}</\144\151\166></t\144\076</tr>"; $_iO5c="<d\151\166\040clas\163\075\047kgr\106\157\162mHea\144\145\162'>\173\164\145xt}\074\057div>"; $_il5d="\074div cl\141\163\163='kgr\106\157rmFoot\145\162'>\173b\165\164\164ons\175\074/div>"; $_iO5d="\074ul cl\141\163\163='kgr\126\141lidato\162\047>\173it\145\155\163}</\165\154>"; $_il5e="\074\154i><labe\154\040for='\173\151\144}'>\173\150\145ader}\072\040\173e\162\162or}</l\141\142\145l></\154\151\076"; $_iO5e="<tab\154\145\040styl\145\075\047tabl\145\055\154ayou\164\072fixe\144\073width\072\06100%;'\076\074tr>\173\142\151\147tabl\145\137tds}<\057\164r></ta\142\154e>"; $_il5f="\074\164d styl\145\075'vertic\141\154-align\072\040top;w\151\144th:\173\167\151dth}%\047\076\173ta\142\154\145\173n}\175\074\057td>"; $_iO5f="\074\164able s\164\171\154e='he\151\147ht:\173\150\145\151ght\175\160x;wid\164\150:100%\073\047>\173ct_\164\162s}</ta\142\154\145>"; $_il3c="<\151\156\160ut t\171\160\145='bu\164\164\157n' o\156\143lick=\047\173oncl\151\143k}' ti\164\154e='\173\164\151\164le}'\040\143lass=\047\156odeco\162\047\057>"; $_iO45="\074\141 href=\047\152avascri\160\164:void \060\047 oncl\151\143k='\173\157\156click\175\047 title\075\047\173tit\154\145}'>\173\164\145\170t}</\141\076"; $_il46="<spa\156\040\143lass\075\040'\173cla\163\163}'>\173\142\165\164ton\175\173a}</\163\160\141n> "; $_iO4r=043; $_il4s=""; if ($this->HeaderCaption != NULL) { $_il4s=_iO0("\173\164ext}",$this->HeaderCaption ,$_iO5c); } $_il4t=""; if ($this->_il4k !== NULL && $this->_iO25 != "Star\164\111\156sert") { foreach ($this->_iO1w->_il2a as $_iO2a) { if (!$_iO2a->ReadOnly) { foreach ($_iO2a->_il2i as $_iO2k) { if (!$_iO2k->validate($_iO56->DataItem[$_iO2a->DataField ],$_iO56->DataItem ,$_iO56,$_iO2a)) { $_il5g=_iO0("\173head\145\162\175",$_iO2a->HeaderText ,$_il5e); $_il5g=_iO0("\173\145\162\162or}",$_iO2k->ErrorMessage ,$_il5g); $_il5g=_iO0("\173\151d}",$_iO56->_il1n."\137".$_iO2a->_il1n."_inp\165\164",$_il5g); $_il4t.=$_il5g; } } } } } $_il4u=_iO0("\173items}",$_il4t,$_iO5d); $_iO4u=""; for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il4v=_iO0("\173n\175",$_iO8,$_il5f); $_il4v=_iO0("\173\167\151dth}",(0144/$this->ColumnNumber),$_il4v); $_iO4u.=$_il4v; } $_iO4v=_iO0("\173bigtable\137\164\144s}",$_iO4u,$_iO5e); $_il4w=array(); $_iO4w=0; for ($_iO8=0; $_iO8<sizeof($this->_iO1w->_il2a); $_iO8 ++) { $_iO2a=$this->_iO1w->_il2a[$_iO8]; if (!$_iO2a->ReadOnly) { $_il4x=$_iO2a->_il2q($_iO56); array_push($_il4w,$_il4x); if (is_a($_iO2a,'gridfilecolumn')) $_iO4w += 0245; if (is_a($_iO2a,'gridtextareacolumn') && !empty($_iO2a->BoxHeight)) $_iO4w += intval($_iO2a->BoxHeight)-022; } } $_iO4x=ceil(sizeof($_il4w)/$this->ColumnNumber); for ($_iO8=0; $_iO8<$this->ColumnNumber; $_iO8 ++) { $_il4y=""; for ($_iO4y=0; $_iO4y<$_iO4x; $_iO4y ++) { $_il4z=$_iO4x*$_iO8+$_iO4y; if ($_il4z<sizeof($_il4w)) { $_il4y.=$_il4w[$_il4z]; } } $_iO5g=_iO0("\173c\164\137\164rs}",$_il4y,$_iO5f); $_iO5g=_iO0("\173\150eight}",$_iO4r*$_iO4x+$_iO4w,$_iO5g); if ($_il4y == "") $_iO5g=""; $_iO4v=_iO0("\173table".$_iO8."}",$_iO5g,$_iO4v); } $_iO3d=_iO0("\173\143lass}","\153\147rConfirm",$_il46); $_iO3d=_iO0("\173button\175",$_il3c,$_iO3d); $_iO3d=_iO0("\173a}",($this->ConfirmButtonText != NULL) ? $_iO45: "",$_iO3d); $_iO3d=_iO0("\173onc\154\151\143k}","\147\162id_confi\162\155\137inse\162\164(this)",$_iO3d); $_iO3d=_iO0("\173tit\154\145\175",$this->ConfirmButtonToolTip ,$_iO3d); $_iO3d=_iO0("\173text}",$this->ConfirmButtonText ,$_iO3d); $_il3e=_iO0("\173\143lass}","kgrCan\143\145\154",$_il46); $_il3e=_iO0("\173\142utton}",$_il3c,$_il3e); $_il3e=_iO0("\173a\175",($this->CancelButtonText != NULL) ? $_iO45: "",$_il3e); $_il3e=_iO0("\173o\156\143\154ick}","\147rid_can\143\145\154_inse\162\164\050thi\163\051",$_il3e); $_il3e=_iO0("\173\164\151\164le}",$this->CancelButtonToolTip ,$_il3e); $_il3e=_iO0("\173\164\145xt}",$this->CancelButtonText ,$_il3e); $_il50=_iO0("\173\142uttons}",$_iO3d.$_il3e,$_il5d); $_iO5b=_iO0("\173id}",$_iO56->_il1n ,$_il5c); $_iO5b=_iO0("\173head\145\162\175",$_il4s,$_iO5b); $_iO5b=_iO0("\173\166\141lidato\162\163\175",$_il4u,$_iO5b); $_iO5b=_iO0("\173bi\147\164\141ble}",$_iO4v,$_iO5b); $_iO5b=_iO0("\173foo\164\145\162}",$_il50,$_iO5b); $_iO5b=_iO0("\173\143olspan}",sizeof($this->_iO1w->_il2a),$_iO5b); switch (strtolower($this->InputFocus)) { case "h\151\144\145grid": $_iO5b=_iO0("\173inputf\157\143\165s}","\153\147rInput\106\157\143us kg\162\110ideGri\144",$_iO5b); break; case "\142lurgri\144": $_iO5b=_iO0("\173\151nputfoc\165\163}","\153\147rInputF\157\143us kgr\102\154urGr\151\144",$_iO5b); break; default : $_iO5b=_iO0("\173in\160\165\164focus\175","",$_iO5b); break; } break; } return $_iO5b; } } class gridgroup { var $_il5h; var $GroupField; var $Sort=1; var $Expand=TRUE; var $InfoTemplate; var $HeaderText; function __construct() { $this->_il5h =array(); } function addinfofield($_iO5h,$_iO19=NULL) { array_push($this->_il5h ,array("\111nfoFie\154\144" => $_iO5h,"Aggrega\164\145" => $_iO19)); } function _iO22() { $_il2n=new _il2j(); $_il2n->_il5h =$this->_il5h; $_il2n->GroupField =$this->GroupField; $_il2n->Sort =$this->Sort; $_il2n->Expand =$this->Expand; $_il2n->InfoTemplate =$this->InfoTemplate; $_il2n->HeaderText =$this->HeaderText; return $_il2n; } } class _il2j extends gridgroup implements _il1i { var $_il1n; var $_iO1w; var $_il1w; var $_il2k; function _iO1l($_iO1y) { if ($this->_il2k !== NULL) { if ($this->GroupField === NULL) $this->GroupField =$this->_il2k->DataField; if ($this->HeaderText === NULL) $this->HeaderText =$this->_il2k->HeaderText; } $this->_iO1w =$_iO1y; $this->_il1w =$_iO1y->_il1w; if ($this->HeaderText === NULL) $this->HeaderText =$this->GroupField; if ($this->InfoTemplate === NULL) $this->InfoTemplate =$this->HeaderText."\072 \173".$this->GroupField."\175"; if (count($this->_il5h) == 0) $this->addinfofield($this->GroupField); } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->Sort =$_il1z["S\157\162t"]; $this->GroupField =$_il1z["GroupFi\145\154\144"]; $this->Expand =$_il1z["E\170\160\141nd"]; $this->InfoTemplate =$_il1z["Info\124\145\155plate"]; $this->_il5h =$_il1z["InfoFie\154\144\163"]; $this->HeaderText =$_il1z["\110eader\124\145\170t"]; } } function _il22() { $this->_iO1i(); if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; if ($_il1z["\103\157\154umnUn\151\161\165eID"] != NULL) { for ($_iO8=0; $_iO8<count($this->_iO1w->_il2a); $_iO8 ++) { if ($_il1z["C\157\154\165mnUn\151\161\165eID"] == $this->_iO1w->_il2a[$_iO8]->_il1n) { $this->_il2k =$this->_iO1w->_il2a[$_iO8]; } } } } } function _il1j() { $this->_il1w->_il1f[$this->_il1n ]=array("\123\157rt" => $this->Sort ,"Expand" => $this->Expand ,"G\162\157\165pFiel\144" => $this->GroupField ,"\110eaderTex\164" => $this->HeaderText ,"InfoF\151\145\154ds" => $this->_il5h ,"\111\156foTempl\141\164\145" => $this->InfoTemplate ,"ColumnUn\151\161\165eID" => ($this->_il2k) ? $this->_il2k->_il1n : NULL); } function _iO24($_iO1v) { if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["\103ommand"]) { case "S\157\162\164": $this->Sort =$_il25["Args"]["Sort"]; $this->_iO1w->_il1o =TRUE; break; } } } function _iO1o() { $_il5i="\074th i\144\075'\173id}\047\040class\075\047kgrGro\165\160Item'\040\164itl\145\075'\173ti\164\154\145}'><\144\151\166 cla\163\163='kgr\111\156\047>\173\164\145\170t}&#\061\0660;\173s\157\162\164}</d\151\166></th>"; $_iO5i="<inpu\164\040\143lass\075\047nodec\157\162\040kgr\123\157\162t\173\144\151r}' \164\171pe='bu\164\164\157n' t\151\164\154e='\173\164\151tle}\047\040oncli\143\153\075'gri\144\137\147roup\151\164em_sor\164\050\042\173i\144\175\042,\173\163\157rt})' \057\076"; $_il5j=($this->Sort <0) ? "Desc": "\101\163c"; $_ilx=_iO0("\173\151d}",$this->_il1n ,$_iO5i); $_ilx=_iO0("\173di\162\175",$_il5j,$_ilx); $_ilx=_iO0("\173t\151\164\154e}",$this->_iO1w->_il1k->Localization->_iO1r["Sort".$_il5j."ToolTip"],$_ilx); $_ilx=_iO0("\173sor\164\175",-$this->Sort ,$_ilx); $_iOq=_iO0("\173id}",$this->_il1n ,$_il5i); $_iOq=_iO0("\173text}",$this->HeaderText ,$_iOq); $_iOq=_iO0("\173sort}",$_ilx,$_iOq); $_iOq=_iO0("\173\164\151tle}",$this->_iO1w->_il1k->Localization->_iO1r["\107\162oupIte\155\124\157olTip"],$_iOq); return $_iOq; } function _iO5j() { $_ily=new _il5k(); $_ily->Expand =$this->Expand; $_ily->_iO5k =$this; return $_ily; } } class _il5k implements _il1i { var $_il1n; var $_iO1w; var $_il39; var $_il5l; var $_il1w; var $_iO5l=0; var $_il5m; var $_iO5m; var $_iO5k; var $_il5n; var $Expand; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; $this->_il1w =$_iO1y->_il1w; $this->_il39 =array(); $this->_il5l =array(); } function _il22() { $this->_iO1i(); foreach ($this->_il5l as $_ily) { $_ily->_il22(); } } function _iO5n($_iO14) { array_push($this->_il39 ,$_iO14); $this->_il5m =$_iO14->DataItem[$this->_iO5k->GroupField ]; } function _il5o($_il14) { $_iO5o=$this->_iO5l +1; if ( isset ($this->_iO1w->_il2m[$_iO5o])) { $_il5p=$this->_iO1w->_il2m[$_iO5o]; $_ily=NULL; $_iO5p=0; for ($_iO8=0; $_iO8<sizeof($_il14); $_iO8 ++) { if ($_ily == NULL) { $_ily=$_il5p->_iO5j(); $_ily->_il1n =$this->_il1n."\137gr".$_iO5p; $_ily->_iO1l($this->_iO1w); $_ily->_iO5l =$_iO5o; $_ily->_iO5n($_il14[$_iO8]); $_ily->_iO5m =$this; array_push($this->_il5l ,$_ily); } else { if ($_ily->_il5m == $_il14[$_iO8]->DataItem[$_ily->_iO5k->GroupField ]) { $_ily->_iO5n($_il14[$_iO8]); } else { $_ily->_il5o($_ily->_il39); $_ily=$_il5p->_iO5j(); $_iO5p ++; $_ily->_il1n =$this->_il1n."_gr".$_iO5p; $_ily->_iO1l($this->_iO1w); $_ily->_iO5l =$_iO5o; $_ily->_iO5n($_il14[$_iO8]); $_ily->_iO5m =$this; array_push($this->_il5l ,$_ily); } } if ($_iO8 == sizeof($_il14)-1) { $_ily->_il5o($_ily->_il39); } } } } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->Expand =$_il1z["\105\170\160and"]; } } function _il1j() { if ($this->_iO5l >-1) { $this->_il1w->_il1f[$this->_il1n ]=array("E\170\160\141nd" => $this->Expand); } foreach ($this->_il5l as $_ily) { $_ily->_il1j(); } } function _iO24($_iO1v) { if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["\103\157mmand"]) { case "Expand": $this->Expand =TRUE; break; case "Colla\160\163\145": $this->Expand =FALSE; break; } } foreach ($this->_il5l as $_ily) { $_ily->_iO24($_iO1v); } if ($this->_iO5k !== NULL) { $_il5q=array(); $_iO5q=array(); for ($_iO8=0; $_iO8<sizeof($this->_iO5k->_il5h); $_iO8 ++) { $_il5r=$this->_iO5k->_il5h[$_iO8]; if ($_il5r["Aggrega\164\145"] == NULL) { $_il5q[$_iO8]=$this->_il39[0]->DataItem[$_il5r["\111\156foFiel\144"]]; } else { $_il5q[$_iO8]=""; array_push($_iO5q,array("\113\145y" => "\137".$_iO8,"Aggreg\141\164\145" => $_il5r["\101\147gregate"],"\104ataField" => $_il5r["\111\156foFiel\144"])); } } if (sizeof($_iO5q)>0) { $_iO5r=$this->_iO1w->DataSource->Filters; $_il5s=$this; while ($_il5s !== $this->_iO1w->_iO5s) { $this->_iO1w->DataSource->addfilter(new datasourcefilter($_il5s->_iO5k->GroupField ,"\105\161ual",$_il5s->_il5m)); $_il5s=$_il5s->_iO5m; } $_iO11=$this->_iO1w->DataSource->getaggregates($_iO5q); $_il27=$this->_iO1w->DataSource->geterror(); if ($_il27 != "") $this->_iO1w->_il1k->EventHandler->ondatasourceerror($this,array("\105rror" => $_il27)); if ($_iO11 !== NULL) { foreach ($_iO11 as $_iO1g => $_il1h) { $_il5q[_iO0("\137","",$_iO1g)]=$_il1h; } } $this->_iO1w->DataSource->Filters =$_iO5r; } $this->_il5n =$_il5q; } } function _iO1o() { $_il5t=""; if ($this->_iO5l >-1) { $_iO27="\074\164r id='\173\151\144}' cl\141\163s='kg\162\107roup'\076\173grou\160\137tds}<\164\144\040clas\163\075'kgrCe\154\154' cols\160\141n='\173\143\157lspan\175\047\076<di\166\040\143lass\075\047kgrIn\047\040style\075\047white-\163\160ace:n\157\167\162ap;'\076\074spa\156\040class\075\047kgrHe\141\144\145rTex\164\047 oncl\151\143\153='g\162\151\144_gro\165\160_toog\154\145\050thi\163\051'>\173c\157\156tent}\074\057span>\074\057div><\057\164d></t\162\076"; $_iO5t="\074td class\075\047kgrCel\154\047><div \143\154ass='\153\147\162In'\040\163tyle\075\047white\055\163\160ace:\156\157\167rap;\047\076\173si\147\156}</div\076\074/td>"; $_il5u="<spa\156\040class='\173\163\164atus\175\047 oncl\151\143\153='g\162\151d_gr\157\165p_too\147\154\145(thi\163\051'></sp\141\156>"; $_il29=_iO0("\173\151\144\175",$this->_il1n ,$_iO27); $_iO5u=""; for ($_iO8=0; $_iO8<$this->_iO5l; $_iO8 ++) { $_il5v=_iO0("\173\163\151\147n}","&#1\066\060\073",$_iO5t); $_iO5u.=$_il5v; } $_iO5v=_iO0("\173\163tatus}",$this->Expand ? "\153\147\162Expand": "\153\147\162Collap\163\145",$_il5u); $_il5v=_iO0("\173\163\151\147n}",$_iO5v,$_iO5t); $_iO5u.=$_il5v; $_il5w=sizeof($this->_iO1w->_il2a)-$this->_iO5l -1; $_il29=_iO0("\173group_\164\144\163}",$_iO5u,$_il29); $_il29=_iO0("\173co\154\163\160an}",$_il5w,$_il29); $_iO5w=$this->_iO5k->InfoTemplate; for ($_iO8=0; $_iO8<sizeof($this->_iO5k->_il5h); $_iO8 ++) { $_iO5w=_iO0("\173".$this->_iO5k->_il5h[$_iO8]["\111\156foField"]."}",($this->_iO5k->_il2k !== NULL) ? $this->_iO5k->_il2k->format($this->_il5n[$_iO8]): $this->_il5n[$_iO8],$_iO5w); } $_il29=_iO0("\173\143onten\164\175",$_iO5w,$_il29); $_il5t.=$_il29; if ($this->Expand) { if (sizeof($this->_il5l)>0) { foreach ($this->_il5l as $_ily) { $_il5t.=$_ily->_iO1o(); } } else { foreach ($this->_il39 as $_iO14) { $_il5t.=$_iO14->_iO1o(); } } } } else { foreach ($this->_il5l as $_ily) { $_il5t.=$_ily->_iO1o(); } } return $_il5t; } } class _il5x { var $PanelCssClass=""; var $ItemCssClass=""; var $ItemConnector="-"; function _iO22() { $_il2n=new _iO5x(); $_il2n->PanelCssClass =$this->PanelCssClass; $_il2n->ItemCssClass =$this->ItemCssClass; $_il2n->ItemConnector =$this->ItemConnector; return $_il2n; } } class _iO5x extends _il5x { var $_il1n; var $_iO1w; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; } function _iO1o() { $_iO4f="<div \151\144='\173id\175\047 clas\163\075'kgrGr\157\165pPane\154\047 sty\154\145='pos\151\164\151on:r\145\154\141tive\073\047><sp\141\156></spa\156\076\173ind\151\143\141tors\175\074table \143\154ass='k\147\162\107roup\124\141ble' s\164\171le='wi\144\164h:100\045\073bord\145\162\055col\154\141\160se:c\157\154\154aps\145\073\047><t\162\076\173ths\175\074td id\075\047\173id}\137\164ail' \163\164\171le='\167\151dth:1\060\060%;'>\173\147\165idet\145\170t}</t\144\076</tr>\074\057tabl\145\076</div\076"; $_il5y="\074\164d>\173\143\164\175</td\076"; $_iO5y="<di\166\040class='\153\147\162TopI\156\144\151cato\162\047 styl\145\075'po\163\151tion:a\142\163\157lute\073\144isplay\072\156\157ne;\047\076</div\076\074div c\154\141\163s='k\147\162\102otto\155\111ndicat\157\162\047 st\171\154\145='po\163\151\164ion:\141\142solu\164\145\073dis\160\154\141y:no\156\145;'></\144\151\166>"; $_il5z=_iO0("\173\143\164}",$this->ItemConnector ,$_il5y); $_iO5z=""; $_iO17=$this->_iO1w->_il2m; for ($_iO8=0; $_iO8<sizeof($_iO17); $_iO8 ++) { $_iO5z.=$_iO17[$_iO8]->_iO1o(); if ($_iO8<sizeof($_iO17)-1) { $_iO5z.=$_il5z; } } $_il8=_iO0("\173\151\144\175",$this->_il1n ,$_iO4f); $_il8=_iO0("\173th\163\175",$_iO5z,$_il8); $_il8=_iO0("\173indic\141\164\157rs}",$_iO5y,$_il8); $_il8=_iO0("\173\147\165\151detex\164\175",(sizeof($_iO17)>0) ? "\046\043160;": $this->_iO1w->_il1k->Localization->_iO1r["Group\120\141\156elGu\151\144\145Text"],$_il8); return $_il8; } } class gridtableview { var $DataSource; var $DataKeyNames; var $Name; var $_iO57=array(); var $_il2a=array(); var $_iO23=array(); var $_il2m=array(); var $_iO2c; var $Pager; var $ShowHeader; var $ShowFooter; var $Width; var $Height; var $EditSettings; var $InsertSettings; var $RowAlternative; var $AllowHovering; var $AllowSelecting; var $AllowMultiSelecting; var $AllowEditing; var $AllowDeleting; var $AllowScrolling; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $SingleColumnSorting; var $VirtualScrolling; var $FrozenColumnsCount=0; var $PageSize; var $ShowFunctionPanel=FALSE; var $FunctionPanel; var $ShowGroupPanel=FALSE; var $GroupPanel; var $AutoGenerateRowSelectColumn; var $AutoGenerateExpandColumn; var $AutoGenerateColumns; var $AutoGenerateEditColumn; var $AutoGenerateDeleteColumn; var $DisableAutoGenerateDataFields; var $KeepRowStateOnRefresh; var $KeepSelectedRecords; var $ColumnWidth; var $ColumnWrap; var $ColumnAlign; var $_iO2j; var $TableLayout; var $FilterOptions; var $_il60; function __construct($_il3v="") { $this->Name =$_il3v; $this->EditSettings =new _il4j(); $this->InsertSettings =new _il55(); $this->FunctionPanel =new _iO60(); $this->GroupPanel =new _il5x(); } function addgroup($_ily) { array_push($this->_il2m ,$_ily); } function addcolumn($_iOu) { array_push($this->_il2a ,$_iOu); } function adddetailtable($_iO1y,$_il2c=NULL) { $_iO1y->_iO2c =$_il2c; array_push($this->_iO23 ,$_iO1y); } function addrelationfield($_il61,$_iO61) { array_push($this->_iO57 ,array("\104etail" => $_il61,"\115aster" => $_iO61)); } function _iO22() { $_il2n=new _il62(); $_il2n->Name =$this->Name; for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $_il2n->_il2m[$_iO8]=$this->_il2m[$_iO8]->_iO22(); } $_iO62=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { $_il2n->_il2a[$_iO8]=$this->_il2a[$_iO8]->createinstance(); if ($this->_il2a[$_iO8]->Group) { $_iO62[$_iO8]=$this->_il2a[$_iO8]->GroupIndex; } } asort($_iO62); foreach ($_iO62 as $_iO8 => $_il63) { $_il2n->_il2m[]=$_il2n->_il2a[$_iO8]->GroupSettings; } $_il2n->_iO23 =$this->_iO23; $_il2n->_iO57 =$this->_iO57; $_il2n->_iO2c =$this->_iO2c; if ($this->Pager != NULL) { $_il2n->Pager =$this->Pager->_iO22(); } $_il2n->DataSource =$this->DataSource; $_il2n->ShowHeader =$this->ShowHeader; $_il2n->ShowFooter =$this->ShowFooter; $_il2n->Width =$this->Width; $_il2n->Height =$this->Height; $_il2n->EditSettings =$this->EditSettings; $_il2n->InsertSettings =$this->InsertSettings; $_il2n->AllowHovering =$this->AllowHovering; $_il2n->AllowEditing =$this->AllowEditing; $_il2n->AllowDeleting =$this->AllowDeleting; $_il2n->AllowSelecting =$this->AllowSelecting; $_il2n->AllowMultiSelecting =$this->AllowMultiSelecting; $_il2n->AllowScrolling =$this->AllowScrolling; $_il2n->AllowSorting =$this->AllowSorting; $_il2n->AllowResizing =$this->AllowResizing; $_il2n->AllowFiltering =$this->AllowFiltering; $_il2n->AllowGrouping =$this->AllowGrouping; $_il2n->SingleColumnSorting =$this->SingleColumnSorting; $_il2n->VirtualScrolling =$this->VirtualScrolling; $_il2n->FrozenColumnsCount =$this->FrozenColumnsCount; $_il2n->RowAlternative =$this->RowAlternative; $_il2n->AutoGenerateRowSelectColumn =$this->AutoGenerateRowSelectColumn; $_il2n->AutoGenerateExpandColumn =$this->AutoGenerateExpandColumn; $_il2n->AutoGenerateColumns =$this->AutoGenerateColumns; $_il2n->AutoGenerateEditColumn =$this->AutoGenerateEditColumn; $_il2n->AutoGenerateDeleteColumn =$this->AutoGenerateDeleteColumn; $_il2n->DisableAutoGenerateDataFields =$this->DisableAutoGenerateDataFields; $_il2n->KeepRowStateOnRefresh =$this->KeepRowStateOnRefresh; $_il2n->KeepSelectedRecords =$this->KeepSelectedRecords; $_il2n->DataKeyNames =$this->DataKeyNames; $_il2n->PageSize =$this->PageSize; $_il2n->ShowFunctionPanel =$this->ShowFunctionPanel; $_il2n->FunctionPanel =$this->FunctionPanel; $_il2n->ShowGroupPanel =$this->ShowGroupPanel; $_il2n->GroupPanel =$this->GroupPanel->_iO22(); $_il2n->ColumnWidth =$this->ColumnWidth; $_il2n->ColumnWrap =$this->ColumnWrap; $_il2n->ColumnAlign =$this->ColumnAlign; $_il2n->_iO2j =$this->_iO2j; $_il2n->TableLayout =$this->TableLayout; $_il2n->FilterOptions =$this->FilterOptions; return $_il2n; } } class _il62 extends gridtableview implements _il1i { var $_il1k; var $_il57; var $_il1n; var $_il1w; var $Grid; var $ParentRow; var $_il39=array(); var $_iO63=0; var $_il1o=FALSE; var $_il64=FALSE; var $_iO64=0; var $_il65=0; var $_iO65=NULL; var $_il5b=FALSE; var $_il66; var $_iO66; var $_iO5s; var $_il67; var $SelectedKeys=array(); function _iO67() { return $this->_il1n; } function _iO1l($_il1m,$_il68) { $this->_il1k =$_il1m; $this->_il57 =$_il68; $this->Grid =$_il1m; $this->ParentRow =$_il68; $this->_il1w =$_il1m->_il1w; if ($this->KeepSelectedRecords === NULL) $this->KeepSelectedRecords =$this->_il1k->KeepSelectedRecords; if ($this->KeepRowStateOnRefresh === NULL) $this->KeepRowStateOnRefresh =$this->_il1k->KeepRowStateOnRefresh; if ($this->AllowHovering === NULL) $this->AllowHovering =$this->_il1k->AllowHovering; if ($this->AllowEditing === NULL) $this->AllowEditing =$this->_il1k->AllowEditing; if ($this->AllowDeleting === NULL) $this->AllowDeleting =$this->_il1k->AllowDeleting; if ($this->AllowSelecting === NULL) $this->AllowSelecting =$this->_il1k->AllowSelecting; if ($this->AllowMultiSelecting === NULL) $this->AllowMultiSelecting =$this->_il1k->AllowMultiSelecting; if ($this->AllowScrolling === NULL) $this->AllowScrolling =$this->_il1k->AllowScrolling; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il1k->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il1k->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il1k->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il1k->AllowGrouping; if ($this->SingleColumnSorting === NULL) $this->SingleColumnSorting =$this->_il1k->SingleColumnSorting; if ($this->VirtualScrolling === NULL) $this->VirtualScrolling =$this->_il1k->VirtualScrolling; if ($this->ShowHeader === NULL) $this->ShowHeader =$this->_il1k->ShowHeader; if ($this->ShowFooter === NULL) $this->ShowFooter =$this->_il1k->ShowFooter; if ($this->RowAlternative === NULL) $this->RowAlternative =$this->_il1k->RowAlternative; if ($this->PageSize === NULL) $this->PageSize =$this->_il1k->PageSize; if ($this->DataSource === NULL) $this->DataSource =$this->_il1k->DataSource; $this->DataSource->setcharset($this->_il1k->CharSet); if ($this->Width === NULL) $this->Width ="\06100%"; if ($_il68 == NULL) { if ($this->Height === NULL) $this->Height =$this->_il1k->Height; } if ($this->AutoGenerateRowSelectColumn === NULL) $this->AutoGenerateRowSelectColumn =$this->_il1k->AutoGenerateRowSelectColumn; if ($this->AutoGenerateExpandColumn === NULL) $this->AutoGenerateExpandColumn =$this->_il1k->AutoGenerateExpandColumn; if ($this->AutoGenerateColumns === NULL) $this->AutoGenerateColumns =$this->_il1k->AutoGenerateColumns; if ($this->AutoGenerateEditColumn === NULL) $this->AutoGenerateEditColumn =$this->_il1k->AutoGenerateEditColumn; if ($this->AutoGenerateDeleteColumn === NULL) $this->AutoGenerateDeleteColumn =$this->_il1k->AutoGenerateDeleteColumn; if ($this->DisableAutoGenerateDataFields === NULL) $this->DisableAutoGenerateDataFields =$this->_il1k->DisableAutoGenerateDataFields; if ($this->ColumnWrap === NULL) $this->ColumnWrap =$this->_il1k->ColumnWrap; if ($this->ColumnAlign === NULL) $this->ColumnAlign =$this->_il1k->ColumnAlign; if ($this->_iO2j === NULL) $this->_iO2j =$this->_il1k->_iO2j; if ($this->TableLayout === NULL) $this->TableLayout =$this->_il1k->TableLayout; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il1k->FilterOptions; if ($this->AllowMultiSelecting) { $this->AllowSelecting =TRUE; } if ($this->AutoGenerateRowSelectColumn) { $_iO68=new gridrowselectcolumn(); $_iO68->Align ="c\145\156\164er"; $_ilw=array($_iO68); $this->_il2a =array_merge($_ilw,$this->_il2a); } if ($this->AutoGenerateExpandColumn) { $_il69=new gridexpanddetailcolumn(); $_il69->Align ="\143\145nter"; $_ilw=array($_il69); $this->_il2a =array_merge($_ilw,$this->_il2a); } if ($this->AutoGenerateColumns) { $_iO12=$this->DataSource->getfields(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("\105rror" => $_il27)); $_iO69=$this->DisableAutoGenerateDataFields."\054"; foreach ($_iO12 as $_ilr) { if (strpos($_iO69,$_ilr["\116ame"].",") === FALSE) { $_iO2a=new gridboundcolumn(); $_iO2a->HeaderText =$_ilr["\116\141\155e"]; $_iO2a->DataField =$_ilr["Name"]; if ($_ilr["Not_N\165\154\154"] == 1) { $_iO2a->addvalidator(new requiredfieldvalidator()); } $this->addcolumn($_iO2a); } } } if ($this->AutoGenerateEditColumn) { $_il6a=new grideditdeletecolumn(); $_il6a->Align ="\143\145\156ter"; $_il6a->ShowDeleteButton =FALSE; $this->addcolumn($_il6a); } if ($this->AutoGenerateDeleteColumn) { $_iO6a=new grideditdeletecolumn(); $_iO6a->Align ="\143\145\156ter"; $_iO6a->ShowEditButton =FALSE; $this->addcolumn($_iO6a); } for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { $this->_il2a[$_iO8]->_il1n =$this->_il1n."_c".$_iO8; $this->_il2a[$_iO8]->_iO1l($this); } if ($this->Pager != NULL) { $this->Pager->_il1n =$this->_il1n."\137pg"; $this->Pager->_iO1l($this); } $this->FunctionPanel->_iO1l($this); $this->GroupPanel->_il1n =$this->_il1n."_g\160"; $this->GroupPanel->_iO1l($this); for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->_il2m[$_iO8]->_il1n =$this->_il1n."\137\147m".$_iO8; $this->_il2m[$_iO8]->_iO1l($this); } } function getparentrow() { return $this->_il57; } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; $this->Width =$_il1z["\127idth"]; $this->_iO66 =$_il1z["Tab\154\145\120art\127\151dth"]; $this->_iO63 =$_il1z["\122\157wsCount"]; $this->_il5b =$_il1z["In\163\145\162ting"]; $this->_iO64 =$_il1z["sc\162\157\154lTop"]; $this->_il65 =$_il1z["scro\154\154\114eft"]; if ( isset ($_il1z["Select\145\144Keys"])) { $this->SelectedKeys =$_il1z["Selec\164\145dKeys"]; } if ( isset ($_il1z["\120\141rtDat\141\110eight"])) { $this->_iO65 =$_il1z["P\141\162tDataHe\151\147ht"]; } $this->_il67 =$_il1z["\107roupSi\172\145"]; } if ($this->Pager != NULL) { $this->Pager->_iO1i(); } for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { $this->_il2a[$_iO8]->_iO1i(); } } function _il1j() { $this->_il1w->_il1f[$this->_il1n ]=array("\122owsCou\156\164" => sizeof($this->_il39),"\116\141me" => $this->Name ,"\123\145lected\113\145ys" => $this->SelectedKeys ,"Inserti\156\147" => $this->_il5b ,"\101llowHov\145\162ing" => $this->AllowHovering ,"AllowS\145\154\145ctin\147" => $this->AllowSelecting ,"\101llowMul\164\151Select\151\156g" => $this->AllowMultiSelecting ,"All\157\167\123crol\154\151ng" => $this->AllowScrolling ,"V\151\162tualScr\157\154ling" => $this->VirtualScrolling ,"\106rozen\103\157lumnsC\157\165nt" => $this->FrozenColumnsCount ,"\163\143rollT\157\160" => $this->_iO64 ,"sc\162\157\154lLef\164" => $this->_il65 ,"\127\151dth" => $this->Width ,"\124\141blePar\164\127idth" => $this->_iO66 ,"\107\162oupSiz\145" => sizeof($this->_il2m)); if ($this->Pager != NULL) { $this->Pager->_il1j(); } for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { $this->_il2a[$_iO8]->_il1j(); } for ($_iO8=0; $_iO8<sizeof($this->_il39); $_iO8 ++) { $this->_il39[$_iO8]->_il1j(); } for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->_il2m[$_iO8]->_il1j(); } if ($this->_iO5s !== NULL) { $this->_iO5s->_il1j(); } } function _iO5n($_iO14) { $_iO14->_il1n =$this->_il1n."_\162".sizeof($this->_il39); $_iO14->_iO1l($this); array_push($this->_il39 ,$_iO14); } function _il22() { $this->_iO1i(); if ($this->_il5b) { $this->_il66 =$this->InsertSettings->_iO22(); $this->_il66->_iO1l($this); } for ($_iO8=0; $_iO8<$this->_iO63; $_iO8 ++) { $_iO14=new gridrow(); $this->_iO5n($_iO14); $_iO14->_il22(); } if ($this->_il67 !== NULL) { $this->_il2m =array(); for ($_iO8=0; $_iO8<$this->_il67; $_iO8 ++) { $_il5p=new _il2j(); $_il5p->_il1n =$this->_il1n."_gm".$_iO8; $_il5p->_iO1l($this); $_il5p->_il22(); array_push($this->_il2m ,$_il5p); } } else { $this->_il67 =sizeof($this->_il2m); } } function refresh() { $this->_il64 =TRUE; $this->_il1o =TRUE; } function _iO24($_iO1v) { if (! isset ($this->_il1w->_il1f[$this->_il1n ])) { $this->_il1o =TRUE; } foreach ($this->_il2m as $_ily) { $_ily->_iO24($_iO1v); } $this->DataSource->clear(); if ( isset ($_iO1v->_il1r[$this->_il1n ])) { $_il25=$_iO1v->_il1r[$this->_il1n ]; switch ($_il25["\103\157mmand"]) { case "Start\111\156sert": if ($this->_il1k->EventHandler->onbeforestartinsert($this,array()) == TRUE) { $this->_il5b =TRUE; $this->_il66 =$this->InsertSettings->_iO22(); $this->_il66->_iO1l($this); $this->_il66->_iO25 ="\123tartIn\163\145\162t"; $this->_il1k->EventHandler->onstartinsert($this,array()); } break; case "Confir\155\111\156sert": $this->_il66->_iO25 ="\103onfirmI\156\163\145rt"; $this->_il66->_il56(); break; case "\103\141ncelI\156\163ert": if ($this->_il1k->EventHandler->onbeforecancelinsert($this,array()) == TRUE) { $this->_il5b =FALSE; $this->_il1k->EventHandler->oncancelinsert($this,NULL); } break; case "\122efre\163\150": $this->refresh(); break; case "Add\107\162\157up": $_il6b=$_il25["\101rgs"]["\107\162oupFie\154\144"]; $_il2l=$_il25["Arg\163"]["Positi\157\156"]; if ($this->_il1k->EventHandler->onbeforeaddgroup($this,array("Positi\157\156" => $_il2l)) == TRUE) { $_iO6b=TRUE; foreach ($this->_il2m as $_ily) { if ($_ily->GroupField == $_il6b) { $_iO6b=FALSE; } } if ($_iO6b) { $_iO2l=new _il2j(); $_iO2l->GroupField =$_il6b; $_iO2l->addinfofield($_il6b); foreach ($this->_il2a as $_iOu) { if ($_iOu->DataField == $_il6b) { $_iO2l->HeaderText =$_iOu->HeaderText; } } $_iO2l->_iO1l($this); if ($_il2l === NULL || ($_il2l>=sizeof($this->_il2m))) { array_push($this->_il2m ,$_iO2l); } else { $_iO2m=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { if ($_il2l == $_iO8) { array_push($_iO2m,$_iO2l); } array_push($_iO2m,$this->_il2m[$_iO8]); } $this->_il2m =$_iO2m; } for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->_il2m[$_iO8]->_il1n =$this->_il1n."_gm".$_iO8; } } $this->_il1k->EventHandler->onaddgroup($this,array("P\157\163ition" => $_il2l)); } break; case "C\150\141ngeGrou\160\117\162der": $_il6b=$_il25["Args"]["Group\106\151eld"]; $_il6c=$_il25["\101\162gs"]["\120\157sition"]; if ($this->_il1k->EventHandler->onbeforechangegrouporder($this,array("\107\162oupFiel\144" => $_il6b,"\120ositio\156" => $_il6c)) == TRUE) { $_iO6c=0; for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { if ($this->_il2m[$_iO8]->GroupField == $_il6b) { $_iO6c=$_iO8; } } if ($_il6c === NULL || $_il6c>=sizeof($this->_il2m)) { $_il6c=sizeof($this->_il2m); } $_iO2m=array(); for ($_iO8=0; $_iO8<=sizeof($this->_il2m); $_iO8 ++) { if ($_iO8 == $_il6c) { array_push($_iO2m,$this->_il2m[$_iO6c]); } if ($_iO8 != $_iO6c && $_iO8<sizeof($this->_il2m)) { array_push($_iO2m,$this->_il2m[$_iO8]); } } $this->_il2m =$_iO2m; for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->_il2m[$_iO8]->_il1n =$this->_il1n."_gm".$_iO8; } $this->_il1k->EventHandler->onchangegrouporder($this,array("\107rou\160\106\151eld" => $_il6b,"P\157\163\151tion" => $_il6c)); } break; case "\122\145moveGro\165\160": $_il6b=$_il25["Arg\163"]["G\162\157\165pFie\154\144"]; if ($this->_il1k->EventHandler->onbeforeremovegroup($this,array("Grou\160\106ield" => $_il6b)) == TRUE) { $_iO2m=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { if ($this->_il2m[$_iO8]->GroupField != $_il6b) { array_push($_iO2m,$this->_il2m[$_iO8]); } } $this->_il2m =$_iO2m; for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->_il2m[$_iO8]->_il1n =$this->_il1n."_gm".$_iO8; } $this->_il1k->EventHandler->onremovegroup($this,array("\107roup\106\151eld" => $_il6b)); } break; } } if ($this->_il57 !== NULL) { if ($this->_il57->_iO1w->_il64 && $this->_il57->_iO1w->KeepRowStateOnRefresh) { $this->refresh(); } } $this->_il1k->EventHandler->ontableviewprerender($this,array()); foreach ($this->_il2a as $_iOu) { $_iOu->_iO24($_iO1v); } if (sizeof($this->_il2m)>0) { $_ilw=array(); for ($_iO8=0; $_iO8<sizeof($this->_il2m); $_iO8 ++) { $this->DataSource->addsort(new datasourcesort($this->_il2m[$_iO8]->GroupField ,($this->_il2m[$_iO8]->Sort <0) ? "DESC": "ASC")); $_il6d=new _iO3e(); $_il6d->_il1n =$this->_il1n."\137gc".$_iO8; $_il6d->_iO1l($this); array_push($_ilw,$_il6d); } $this->_il2a =array_merge($_ilw,$this->_il2a); } foreach ($this->_il39 as $_iO14) { $_iO14->_iO24($_iO1v); } if ($this->_il57 != NULL) { foreach ($this->_iO57 as $_ilr) { $this->DataSource->addfilter(new datasourcefilter($_ilr["Detai\154"],"\105qual",$this->_il57->DataItem[$_ilr["\115aster"]])); } } if ($this->Pager != NULL) { $this->Pager->_iO3z =$this->DataSource->count(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("\105rror" => $_il27)); $this->Pager->_iO24($_iO1v); } $_iO6d=array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { foreach ($this->SelectedKeys as $_il6e) { $_iO6d[_ilq($_il6e)]=$_il6e; } foreach ($this->_il39 as $_iO14) { $_il6e=_iOn($_iO14->DataItem ,$this->DataKeyNames); $_iO6e=_ilq($_il6e); if ($_iO14->Selected) { $_iO6d[$_iO6e]=$_il6e; } else { if ( isset ($_iO6d[$_iO6e])) { unset ($_iO6d[$_iO6e]); } } } } if ($this->_il1o) { $_il1g=array(); if ($this->Pager != NULL) { $_il1g=$this->DataSource->getdata($this->Pager->PageSize *$this->Pager->PageIndex ,$this->Pager->PageSize); } else { $_il1g=$this->DataSource->getdata(); } $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("E\162\162or" => $_il27)); $_il6f=array(); if ($this->_il64 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { foreach ($this->_il39 as $_iO14) { $_il6e=_iOn($_iO14->DataItem ,$this->DataKeyNames); $_iO6e=_ilq($_il6e); $_il6f[$_iO6e]=$_iO14; } } $this->_il39 =array(); for ($_iO8=0; $_iO8<sizeof($_il1g); $_iO8 ++) { $_iO14=new gridrow(); $_iO14->DataItem =$_il1g[$_iO8]; if ($this->_il64 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { $_il6e=_iOn($_iO14->DataItem ,$this->DataKeyNames); $_iO6e=_ilq($_il6e); if ($_il6f[$_iO6e] !== NULL) { $_iO6f=$_iO14->DataItem; $_iO14=$_il6f[$_iO6e]; $_iO14->DataItem =$_iO6f; } } $this->_iO5n($_iO14); $_iO14->_iO24($_iO1v); } $_iO5q=array(); foreach ($this->_il2a as $_iOu) { if ($_iOu->Aggregate !== NULL) { array_push($_iO5q,array("\113ey" => $_iOu->_il1n ,"Aggr\145\147\141te" => $_iOu->Aggregate ,"Data\106\151\145ld" => $_iOu->DataFieldPrefix.$_iOu->DataField)); } } $_iO11=NULL; if (sizeof($_iO5q)>0) { $_iO11=$this->DataSource->getaggregates($_iO5q); } $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("Error" => $_il27)); if ($_iO11 !== NULL) { foreach ($this->_il2a as $_iOu) { if ( isset ($_iO11[$_iOu->_il1n ])) { $_iOu->_iO2i =$_iO11[$_iOu->_il1n ]; } } } } $this->SelectedKeys =array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { if ($this->_il1o) { foreach ($this->_il39 as $_iO14) { $_il6e=_iOn($_iO14->DataItem ,$this->DataKeyNames); $_iO6e=_ilq($_il6e); if ( isset ($_iO6d[$_iO6e])) { $_iO14->Selected =TRUE; } } } foreach ($_iO6d as $_il6e) { array_push($this->SelectedKeys ,$_il6e); } } else { foreach ($this->_il39 as $_iO14) { if ($_iO14->Selected) { $_il6e=_iOn($_iO14->DataItem ,$this->DataKeyNames); array_push($this->SelectedKeys ,$_il6e); } } } if (sizeof($this->_il2m)>0) { $this->_iO5s =new _il5k(); $this->_iO5s->_il1n =$this->_il1n."\137rg"; $this->_iO5s->_iO1l($this); $this->_iO5s->_iO5l =-1; $this->_iO5s->_il5o($this->_il39); $this->_iO5s->_il22(); $this->_iO5s->_iO24($_iO1v); } } function getinstancerows() { return $this->_il39; } function getinstancecolumns() { return $this->_il2a; } function exporttocsv() { $_il6g=$this->_il1k->ExportSettings; header("\120ragm\141\072 publi\143"); header("\105\170pires: \060"); header("\103ache-\103\157\156trol:\040\155ust-r\145\166alida\164\145\054 p\157\163t-ch\145\143\153=0, \160\162\145-che\143\153\0750"); header("Cac\150\145\055Con\164\162\157l: p\165\142\154ic"); header("C\157\156\164ent-D\145\163\143ript\151\157\156: Fi\154\145 Tran\163\146er"); header("Conte\156\164\055Type\072\040applic\141\164ion/fo\162\143e-dow\156\154oad;"); header("Content\055\104\151spos\151\164\151on: \141\164\164achm\145\156t; fi\154\145name\075\042".$_il6g->FileName.".cs\166\042"); header("Conten\164\055\124rans\146\145\162-Enc\157\144\151ng: \142\151nary"); $_iO6g=TRUE; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { if (!$_iO6g) echo "\054"; echo "\042".$_iOu->HeaderText."\042"; $_iO6g=FALSE; } } echo "\015\n"; if ($_il6g->IgnorePaging) { $_il6h=$this->DataSource->getdata(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("Err\157\162" => $_il27)); foreach ($_il6h as $_iO1z) { $_iO14=new gridrow(); $_iO14->DataItem =$_iO1z; $_iO6g=TRUE; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { if (!$_iO6g) echo ","; echo "\042".$_iOu->renderexport($_iO14)."\042"; $_iO6g=FALSE; } } echo "\015\n"; } } else { foreach ($this->_il39 as $_iO14) { $_iO6g=TRUE; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { if (!$_iO6g) echo ","; echo "\042".$_iOu->renderexport($_iO14)."\042"; $_iO6g=FALSE; } } echo "\015\n"; } } exit (); } function exporttoexcel() { error_reporting(0); if (!class_exists("\120\110PExcel",FALSE)) { $_iO6h=dirname(dirname( __FILE__)); require_once $_iO6h.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO6h.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO6h.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il6g=$this->_il1k->ExportSettings; $_il6i=new phpexcel(); $_il6i->setactivesheetindex(0); $_iO6i=0; $_il6j=1; $_iO6j=array(); foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il36=phpexcel_cell::stringfromcolumnindex($_iO6i).$_il6j; $_il6i->getactivesheet()->setcellvalue($_il36,$_iOu->HeaderText); $_il6i->getactivesheet()->getstyle($_il36)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); $_il6i->getactivesheet()->getstyle($_il36)->getfont()->setbold(TRUE); $_iO6j[$_iO6i]=strlen($_iOu->HeaderText); $_iO6i ++; } } $_il6j ++; $_iO6i=0; if ($_il6g->IgnorePaging) { $_il6h=$this->DataSource->getdata(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("Error" => $_il27)); foreach ($_il6h as $_iO1z) { $_iO14=new gridrow(); $_iO14->DataItem =$_iO1z; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il3=$_iOu->renderexport($_iO14); $_il36=phpexcel_cell::stringfromcolumnindex($_iO6i).$_il6j; $_il6i->getactivesheet()->setcellvalue($_il36,$_il3); $_il6i->getactivesheet()->getstyle($_il36)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO6j[$_iO6i]<strlen( "$_il3")) { $_iO6j[$_iO6i]=strlen( "$_il3"); } $_iO6i ++; } } $_il6j ++; $_iO6i=0; } } else { foreach ($this->_il39 as $_iO14) { foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il3=$_iOu->renderexport($_iO14); $_il36=phpexcel_cell::stringfromcolumnindex($_iO6i).$_il6j; $_il6i->getactivesheet()->setcellvalue($_il36,$_il3); $_il6i->getactivesheet()->getstyle($_il36)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO6j[$_iO6i]<strlen( "$_il3")) { $_iO6j[$_iO6i]=strlen( "$_il3"); } $_iO6i ++; } } $_il6j ++; $_iO6i=0; } } for ($_iO8=0; $_iO8<sizeof($_iO6j); $_iO8 ++) { $_il6i->getactivesheet()->getcolumndimensionbycolumn($_iO8)->setwidth((($_iO6j[$_iO8]<055) ? $_iO6j[$_iO8]: 055)+5); } header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il6g->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_il6k=phpexcel_iofactory::createwriter($_il6i,'Excel5'); $_il6k->save('php://output'); exit; } function exporttoword() { $_il6g=$this->_il1k->ExportSettings; header("Pragma:\040\160ublic"); header("Expi\162\145\163: 0"); header("Cache-\103\157\156trol:\040\155ust-r\145\166\141lida\164\145, po\163\164-chec\153\0750, pr\145\055check=\060"); header("\103ache-\103\157\156trol\072\040public"); header("\103\157\156tent-\104\145\163crip\164\151\157n: F\151\154e Tra\156\163fer"); header("\103ontent\055\124\171pe: \141\160\160lica\164\151on/ms\167\157rd"); header("\103\157\156tent-D\151\163\160osit\151\157\156: at\164\141chmen\164\073 fil\145\156ame=\042".$_il6g->FileName.".\144\157\143\042"); header("C\157\156tent-Tr\141\156sfer-\105\156codin\147\072 bina\162\171"); echo "<\164\141ble bor\144\145r='1'>"; echo "\074tr>"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { echo "\074th ali\147\156\075'lef\164\047\040sty\154\145\075'bac\153\147roun\144\055colo\162\072\043EEEE\105\105;'>".$_iOu->HeaderText."\074\057\164h>"; } } echo "\074/tr>"; if ($_il6g->IgnorePaging) { $_il6h=$this->DataSource->getdata(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("Er\162\157\162" => $_il27)); foreach ($_il6h as $_iO1z) { $_iO14=new gridrow(); $_iO14->DataItem =$_iO1z; echo "<tr>"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { echo "\074td>".$_iOu->renderexport($_iO14)."</td>"; } } echo "\074\057tr>"; } } else { foreach ($this->_il39 as $_iO14) { echo "<tr>"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { echo "<td\076".$_iOu->renderexport($_iO14)."\074/td>"; } } echo "\074\057tr>"; } } echo "</ta\142\154e>"; exit (); } function exporttopdf() { if (!class_exists("\124\103PDF",FALSE)) { $_iO6h=dirname(dirname( __FILE__)); require_once $_iO6h."\057library\057\164cpdf/c\157\156\146ig/l\141\156g/eng.\160\150p"; require_once $_iO6h."/libra\162\171\057tcpd\146\057tcpdf.\160\150\160"; } $_il6g=$this->_il1k->ExportSettings; $_iO6k=new tcpdf(PDF_PAGE_ORIENTATION,PDF_UNIT,PDF_PAGE_FORMAT,TRUE,$this->_il1k->CharSet ,FALSE); $_iO6k->setfont('FreeSans','',012); $_iO6k->addpage(); $_il6l=""; $_il6l.='<table border="1">'; $_il6l.="<tr\076"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il6l.='<th align="left" style="background-color: #EEEEEE;"><b>'.$_iOu->HeaderText.'</b></th>'; } } $_il6l.="</\164\162>"; if ($_il6g->IgnorePaging) { $_il6h=$this->DataSource->getdata(); $_il27=$this->DataSource->geterror(); if ($_il27 != "") $this->_il1k->EventHandler->ondatasourceerror($this,array("\105rror" => $_il27)); foreach ($_il6h as $_iO1z) { $_iO14=new gridrow(); $_iO14->DataItem =$_iO1z; $_il6l.="<tr\076"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il6l.="<td>".$_iOu->renderexport($_iO14)."</td\076"; } } $_il6l.="\074/tr>"; } } else { foreach ($this->_il39 as $_iO14) { $_il6l.="<tr>"; foreach ($this->_il2a as $_iOu) { if ($_iOu->AllowExporting) { $_il6l.="<td>".$_iOu->renderexport($_iO14)."\074\057td>"; } } $_il6l.="\074/tr>"; } } $_il6l.="\074/table\076"; $_iO6k->writehtml($_il6l,TRUE,0,TRUE,0); $_iO6k->output($_il6g->FileName."\056\160df","\104"); exit (); } function _iO1o() { $_iO6l="\074div i\144\075\047\173i\144\175\047 cl\141\163\163='kg\162\124able\126\151ew' s\164\171\154e='\173\167\151dth}\173\150\145ight\175\047><div\040\143\154ass=\047\153grTop'\076\173groupp\141\156el}\173\160\141\147er_t\157\160\175\173f\165\156\143tion\160\141nel_t\157\160}</di\166\076\173tab\154\145\163}<di\166\040class\075\047kgrBo\164\164\157m'>\173\146\165ncti\157\156panel\137\142\157ttom\175\173pager\137\142\157tto\155\175\173stat\165\163}</di\166\076</div\076"; $_il6m="<tabl\145\040\143lass\075\047kgrTa\142\154\145' ce\154\154spaci\156\147='0' \163\164yle='\173\163\164yle}'\076\173colgro\165\160}\173th\145\141d}\173t\146\157\157t}\173\164\142ody}<\057\164\141ble>"; $_iO6m="<\144\151\166 clas\163\075'\173cl\141\163\163}' s\164\171le='\173\144\151vst\171\154\145}'><\164\141\142le i\144\075'\173id\175\137\173par\164\175\047 sty\154\145\075'\173\163\164\171le}'\040\143lass=\047\153\147rTab\154\145'>\173c\157\154\147roup\175\173tpart\175\074/tabl\145\076</div\076"; $_il6n="<colg\162\157\165p>\173\143\157\154s}<\057\143olgrou\160\076"; $_iO6n="<thead\076\074tr>\173t\150\163\175</tr\076\173inser\164\146\157rm}\173\146ilte\162\175\074/the\141\144\076"; $_il6o="<t\162\076\173tds}\074\057tr>"; $_iO6o="\074\164foot>\173\164\146oot_t\162\163\175</tf\157\157\164>"; $_il6p="\074tr>\173\143ol_f\157\157ter\137\164ds}<\057\164r>"; $_iO6p="\074tbody>\173\164\142ody_tr\163\175\074/tbo\144\171\076"; $_il6q=""; $_iO5z=""; $_iO6q=""; $_il6r=sizeof($this->_il2a); for ($_iO8=0; $_iO8<$_il6r; $_iO8 ++) { $_iO6r=$this->_il2a[$_iO8]; $_il6q.=$_iO6r->_iO2q(); if ($this->ShowHeader) { $_iO5z.=$_iO6r->renderheader(); } if ($this->ShowFooter) { $_iO6q.=$_iO6r->renderfooter(); } } $_il6s=_iO0("\173\143ols}",$_il6q,$_il6n); $_iO6s=_iO0("\173\164\150s}",$_iO5z,$_iO6n); $_iO6s=_iO0("\173\151\156sertfo\162\155\175",($this->_il5b) ? $this->_il66->_iO1o(): "",$_iO6s); $_il6t=FALSE; for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { if ($this->_il2a[$_iO8]->AllowFiltering) { $_il6t=TRUE; } } if ($_il6t) { $_iO6t=""; for ($_iO8=0; $_iO8<sizeof($this->_il2a); $_iO8 ++) { $_iO6t.=$this->_il2a[$_iO8]->_iO2x(); } $_il6u=_iO0("\173tds}",$_iO6t,$_il6o); $_iO6s=_iO0("\173f\151\154\164er}",$_il6u,$_iO6s); } else { $_iO6s=_iO0("\173\146\151\154ter}","",$_iO6s); } $_iO6u=""; $_il6v=""; if (strtolower($this->ShowFunctionPanel)) { switch ($this->FunctionPanel->Position) { case "\164op": $_iO6u=$this->FunctionPanel->_iO1o(); break; case "t\157\160\053bott\157\155": $_iO6u=$this->FunctionPanel->_iO1o(); $_il6v=$this->FunctionPanel->_iO1o(); break; case "bottom": default : $_il6v=$this->FunctionPanel->_iO1o(); break; } } $_iO6v=""; if ($this->ShowGroupPanel) { $_iO6v=$this->GroupPanel->_iO1o(); } $_il6w=""; $_iO6w=""; if ($this->Pager != NULL) { switch (strtolower($this->Pager->Position)) { case "top": $_il6w=$this->Pager->_iO1o(); break; case "top\053\142ottom": $_il6w=$this->Pager->_iO1o(); $_iO6w=$this->Pager->_iO1o(); break; case "bott\157\155": default : $_iO6w=$this->Pager->_iO1o(); break; } } $_il6x=""; if ($this->_il1n == $this->_il1k->_il1n."_mt" && $this->_il1k->ShowStatus) { $_il6x=$this->_il1k->Status->_iO1o(); } $_iO6x=""; if ($this->ShowFooter) { $_il6y=_iO0("\173col_foot\145\162_tds}",$_iO6q,$_il6p); $_iO6x.=$_il6y; } $_iO6y=_iO0("\173tfo\157\164\137trs}",$_iO6x,$_iO6o); $_il6z=""; for ($_iO8=0; $_iO8<sizeof($this->_il39); $_iO8 ++) { if ($this->RowAlternative) { $this->_il39[$_iO8]->_il1y =($_iO8%2 != 0); } } if (sizeof($this->_il2m)>0) { $_il6z=$this->_iO5s->_iO1o(); } else { for ($_iO8=0; $_iO8<sizeof($this->_il39); $_iO8 ++) { $_il6z.=$this->_il39[$_iO8]->_iO1o(); } } $_iO6z=_iO0("\173\164\142ody_t\162\163\175",$_il6z,$_iO6p); $_il70=_iO0("\173\151d}",$this->_il1n ,$_iO6l); if ($this->AllowScrolling == TRUE) { $_iO70="table-l\141\171\157ut:fi\170\145d; emp\164\171\055cel\154\163\072 s\150\157w; ov\145\162flow:h\151\144\144en; \167\151\144th:\173\167idth};"; $_iO70=_iO0("\173\167idth}",($this->_iO66 != NULL) ? $this->_iO66 : "100%",$_iO70); $_il71=_iO0("\173\151d}",$this->_il1n ,$_iO6m); $_il71=_iO0("\173part}","hea\144\145\162",$_il71); $_il71=_iO0("\173cla\163\163\175","k\147\162\120artHe\141\144\145r",$_il71); $_il71=_iO0("\173colgroup}",$_il6s,$_il71); $_il71=_iO0("\173tpart}",$_iO6s,$_il71); $_il71=_iO0("\173styl\145\175",$_iO70,$_il71); $_il71=_iO0("\173\144\151vstyl\145\175","",$_il71); $_iO71=_iO0("\173\151\144}",$this->_il1n ,$_iO6m); $_iO71=_iO0("\173\160art}","\144ata",$_iO71); $_iO71=_iO0("\173\143\154ass}","\153grPar\164\104\141ta",$_iO71); $_iO71=_iO0("\173c\157\154\147roup}",$_il6s,$_iO71); $_iO71=_iO0("\173tpart}",$_iO6z,$_iO71); $_iO71=_iO0("\173style}",$_iO70,$_iO71); $_il72=""; $_il72.=($this->_iO65) ? "\150\145ight:".$this->_iO65."px;": ""; $_iO71=_iO0("\173\144\151vstyle\175",$_il72,$_iO71); $_iO72=_iO0("\173id}",$this->_il1n ,$_iO6m); $_iO72=_iO0("\173\160art}","\146\157oter",$_iO72); $_iO72=_iO0("\173\143lass}","\153\147rPartF\157\157\164er",$_iO72); $_iO72=_iO0("\173colg\162\157\165p}",$_il6s,$_iO72); $_iO72=_iO0("\173tpart}",$_iO6y,$_iO72); $_iO72=_iO0("\173\163tyle}",$_iO70,$_iO72); $_iO72=_iO0("\173\144\151vstyle}","",$_iO72); $_iO71=_iO0("\173\143\157\154group\175",$_il6s,$_iO71); $_iO71=_iO0("\173\164\160art}",$_iO6z,$_iO71); $_il70=_iO0("\173table\163\175",$_il71.$_iO71.$_iO72,$_il70); } else { $_il2d=$_il6m; $_il2d=_iO0("\173colgr\157\165\160}",$_il6s,$_il2d); $_il2d=_iO0("\173style}","t\141\142\154e-layo\165\164\072 \173\154\141yout}\073\145mpty-\143\145lls:\040\163how;\173\167\151dth}",$_il2d); $_il2d=_iO0("\173layout}",$this->TableLayout ,$_il2d); if ($this->Width !== NULL && strpos($this->Width ,"%") !== FALSE) { $_il2d=_iO0("\173width}","\167idth:10\060\045",$_il2d); } $_il2d=_iO0("\173t\150\145\141d}",($this->ShowHeader) ? $_iO6s: "",$_il2d); $_il2d=_iO0("\173\164\146\157ot}",$_iO6y,$_il2d); $_il2d=_iO0("\173tbody}",$_iO6z,$_il2d); $_il70=_iO0("\173tab\154\145\163}",$_il2d,$_il70); } $_il70=_iO0("\173\167\151\144th}",($this->Width != "") ? "width:".$this->Width."\073": "",$_il70); $_il70=_iO0("\173height}",($this->Height != "") ? "hei\147\150\164:".$this->Height."\073": "",$_il70); $_il70=_iO0("\173\147\162\157uppane\154\175",$_iO6v,$_il70); $_il70=_iO0("\173function\160\141\156el_t\157\160\175",$_iO6u,$_il70); $_il70=_iO0("\173funct\151\157\156panel\137\142ottom}",$_il6v,$_il70); $_il70=_iO0("\173pa\147\145\162_top}",$_il6w,$_il70); $_il70=_iO0("\173p\141\147\145r_bo\164\164\157m}",$_iO6w,$_il70); $_il70=_iO0("\173\163tatus}",$_il6x,$_il70); return $_il70; } } class _il73 { var $LoadingText; var $DoneText; function _iO1l($_il1m) { if ($this->LoadingText === NULL) $this->LoadingText =$_il1m->Localization->_il1r["\114oading"]; if ($this->DoneText === NULL) $this->DoneText =$_il1m->Localization->_il1r["\104\157ne"]; } function _iO1o() { $_iO73="\074div clas\163\075'kgrSt\141\164\165s'><\163\160an cla\163\163='k\147\162DoneT\145\170\164'>\173\144\157netex\164\175\074/sp\141\156><spa\156\040\143lass\075\047kgrLo\141\144\151ngTe\170\164'>\173l\157\141\144ingt\145\170t}</sp\141\156></di\166\076"; $_il6x=_iO0("\173\144onetext}",$this->DoneText ,$_iO73); $_il6x=_iO0("\173l\157\141\144ingte\170\164\175",$this->LoadingText ,$_il6x); return $_il6x; } } class _il74 { var $IgnorePaging=FALSE; var $FileName="\113oolGridE\170\160\157rt"; } class _iO74 { var $Resizing; var $Selecting; var $Scrolling; var $ClientMessages; var $ClientEvents; var $_il1k; function __construct() { $this->Resizing =array("\122\145sizeGr\151\144OnColum\156\122esize" => FALSE); $this->Selecting =array(); $this->Scrolling =array("Sa\166\145\123crol\154\151\156gPos\151\164\151on" => TRUE); $this->ClientMessages =array("\104\145leteConf\151\162\155" => NULL); $this->ClientEvents =array(); } function _iO1l($_il1m) { $this->_il1k =$_il1m; if ($this->ClientMessages["\104elete\103\157\156firm"] === NULL) $this->ClientMessages["\104eleteCon\146\151\162m"]=$_il1m->Localization->_iO1r["\104elete\103\157\156firm"]; } function _il1j() { $_il1q=$this->_il1k->_il1w; $_il75=$this->_il1k->_il1n; $_il1q->_il1f[$_il75]["Cl\151\145\156tSett\151\156\147s"]=array(); $_il1q->_il1f[$_il75]["\103\154ientSet\164\151\156gs"]["\122esizi\156\147"]=$this->Resizing; $_il1q->_il1f[$_il75]["\103\154ientS\145\164\164ings"]["Sele\143\164\151ng"]=$this->Selecting; $_il1q->_il1f[$_il75]["\103lientSet\164\151\156gs"]["\123crolli\156\147"]=$this->Scrolling; $_il1q->_il1f[$_il75]["\103\154\151entSe\164\164\151ngs"]["\103lientMe\163\163\141ges"]=$this->ClientMessages; $_il1q->_il1f[$_il75]["ClientS\145\164\164ings"]["Cli\145\156\164Event\163"]=$this->ClientEvents; } } class _iO60 { var $ShowRefreshButton=TRUE; var $ShowInsertButton=TRUE; var $RefreshButtonText; var $InsertButtonText; var $Position="\142ottom"; var $_iO1w; var $PanelTemplate="\173In\163\145\162t} \173\122\145fresh\175"; function _iO1l($_iO1y) { $this->_iO1w =$_iO1y; if ($this->RefreshButtonText === NULL) $this->RefreshButtonText =$_iO1y->_il1k->Localization->_il1r["\122efresh"]; if ($this->InsertButtonText === NULL) $this->InsertButtonText =$_iO1y->_il1k->Localization->_il1r["\111\156sert"]; } function _iO1o() { $_iO75="\074div \143\154\141ss='k\147\162Functi\157\156\120anel\047\076\173c\157\156tent}\074\057div>"; $_il3c="<input\040\143\154ass=\047\156odecor\047\040type=\047\142utton\047\040oncl\151\143k='\173\157\156\143lick\175\047 title\075\047\173t\151\164\154e}'\057\076"; $_iO45="<a \150\162\145f='ja\166\141\163crip\164\072void 0\047\040oncli\143\153='\173\157\156click}\047\040title\075\047\173tit\154\145\175'>\173\164\145xt}</\141\076"; $_il46="<sp\141\156\040clas\163\075\040'\173\143\154\141ss}'\076\173butt\157\156}\173a\175\074\057spa\156\076\040"; $_il76=_iO0("\173class}","\153grRefres\150",$_il46); $_il76=_iO0("\173butto\156\175",$_il3c,$_il76); $_il76=_iO0("\173a}",($this->RefreshButtonText != NULL) ? $_iO45: "",$_il76); $_il76=_iO0("\173\157nclick\175","tabl\145\166\151ew_ref\162\145\163h(th\151\163\051",$_il76); $_il76=_iO0("\173ti\164\154\145}","",$_il76); $_il76=_iO0("\173text}",$this->RefreshButtonText ,$_il76); $_iO76=_iO0("\173\143lass}","\153\147rInsert",$_il46); $_iO76=_iO0("\173\142\165\164ton}",$_il3c,$_iO76); $_iO76=_iO0("\173a}",($this->InsertButtonText != NULL) ? $_iO45: "",$_iO76); $_iO76=_iO0("\173\157nclick}","\147rid_in\163\145\162t(thi\163\051",$_iO76); $_iO76=_iO0("\173\164\151tle}","",$_iO76); $_iO76=_iO0("\173te\170\164\175",$this->InsertButtonText ,$_iO76); $_il77=_iO0("\173con\164\145\156t}",$this->PanelTemplate ,$_iO75); $_il77=_iO0("\173Re\146\162\145sh}",($this->ShowRefreshButton) ? $_il76: "",$_il77); $_il77=_iO0("\173\111\156\163ert}",($this->ShowInsertButton) ? $_iO76: "",$_il77); return $_il77; } } class _iO77 implements _il1i { var $_il1n; var $_il1w; var $MasterTable; var $_iO1n; var $AjaxEnabled=FALSE; var $AjaxHandlePage; var $_iO25; var $Status; var $AllowHovering=FALSE; var $AllowSelecting=FALSE; var $AllowMultiSelecting=FALSE; var $AllowEditing=FALSE; var $AllowDeleting=FALSE; var $AllowScrolling=FALSE; var $AllowSorting=FALSE; var $AllowResizing=FALSE; var $AllowFiltering=FALSE; var $AllowGrouping=FALSE; var $VirtualScrolling=FALSE; var $SingleColumnSorting=FALSE; var $ShowHeader=TRUE; var $ShowFooter=FALSE; var $RowAlternative=FALSE; var $AutoGenerateRowSelectColumn=FALSE; var $AutoGenerateExpandColumn=FALSE; var $AutoGenerateColumns=FALSE; var $AutoGenerateEditColumn=FALSE; var $AutoGenerateDeleteColumn=FALSE; var $DisableAutoGenerateDataFields=""; var $KeepSelectedRecords=FALSE; var $ShowStatus=FALSE; var $ColumnWrap=FALSE; var $ColumnAlign; var $_iO2j; var $KeepRowStateOnRefresh=FALSE; var $TableLayout="\141uto"; var $Width; var $Height; var $FilterOptions; var $PageSize=012; var $DataSource; var $ClientSettings; var $Localization; var $CharSet="\125\124F-8"; var $KeepViewStateInSession=FALSE; var $KeepGridRefresh=FALSE; var $EventHandler; var $ExportSettings; function __construct($_il3m) { $this->_il1n =$_il3m; $this->_il1w =new _iO1j(); $this->Localization =new _iO1q(); $this->MasterTable =new gridtableview("M\141\163\164erTab\154\145"); $this->_iO25 =new _il1u($this); $this->Status =new _il73(); $this->ClientSettings =new _iO74(); $this->FilterOptions =array("\116o_Filter","E\161\165\141l","\116\157t_Equal","Greater\137\124\150an","\114\145\163s_Tha\156","Gr\145\141\164er_Th\141\156\137Or_E\161\165\141l","\114\145ss_Than\137\117\162_Equa\154","\103\157ntain","\116ot_Con\164\141\151n","\123tart_\127\151\164h","\105nd_With"); $this->ExportSettings =new _il74(); } function _iO1l() { if ($this->EventHandler === NULL) $this->EventHandler =new grideventhandler(); $this->_il1w->_iO1l($this); $this->_iO1n->_il1n =$this->_il1n."_mt"; $this->_iO1n->_iO1l($this,NULL); $this->ClientSettings->_iO1l($this); $this->Status->_iO1l($this); if ($this->DataSource !== NULL) { $this->DataSource->setcharset($this->CharSet); } } function _iO1i() { if ( isset ($this->_il1w->_il1f[$this->_il1n ])) { $_il1z=$this->_il1w->_il1f[$this->_il1n ]; } } function _il1j() { $this->_il1w->_il1f =array(); $this->_il1w->_il1f[$this->_il1n ]=array(); $this->_iO1n->_il1j(); $this->ClientSettings->_il1j(); } function process() { $this->_iO1n =$this->MasterTable->_iO22(); $this->_iO1l(); $this->_iO1i(); $this->_iO1n->_il22(); if ( isset ($this->_iO25->_il1r[$this->_il1n ])) { $_il25=$this->_iO25->_il1r[$this->_il1n ]; switch ($_il25["Comm\141\156\144"]) { case "Ref\162\145\163h": $this->refresh(); break; } } if ($this->KeepGridRefresh) { $this->_il78 =TRUE; } $this->EventHandler->ongridprerender($this,array()); $this->_iO1n->_iO24($this->_iO25); } function refresh() { if ($this->_iO1n !== NULL) { $this->_iO1n->refresh(); } } function getinstancemastertable() { return $this->_iO1n; } function _iO78() { $this->_il1j(); $_iO4f="\173\155\141\163terta\142\154\145}\173\166\151ewstat\145\175\173co\155\155and}"; $_il8=_iO0("\173master\164\141\142le}",$this->_iO1n->_iO1o(),$_iO4f); $_il8=_iO0("\173\166iewst\141\164\145}",$this->_il1w->_iO1o(),$_il8); $_il8=_iO0("\173\143ommand\175",$this->_iO25->_iO1o(),$_il8); return $_il8; } function registerclientevent($_il3v,$_il79) { $this->ClientSettings->ClientEvents[$_il3v]=$_il79; } } class grideventhandler { function onbeforedetailtablesexpand($_iO79,$_iO4h) { return TRUE; } function ondetailtablesexpand($_iO79,$_iO4h) { } function onbeforedetailtablescollapse($_iO79,$_iO4h) { return TRUE; } function ondetailtablescollapse($_iO79,$_iO4h) { } function onbeforerowstartedit($_iO79,$_iO4h) { return TRUE; } function onrowstartedit($_iO79,$_iO4h) { } function onbeforerowcanceledit($_iO79,$_iO4h) { return TRUE; } function onrowcanceledit($_iO79,$_iO4h) { } function onbeforerowdelete($_iO79,$_iO4h) { return TRUE; } function onrowdelete($_iO79,$_iO4h) { } function onbeforecolumnsort($_iO79,$_iO4h) { return TRUE; } function oncolumnsort($_iO79,$_iO4h) { } function onbeforecolumnfilter($_iO79,$_iO4h) { return TRUE; } function oncolumnfilter($_iO79,$_iO4h) { } function onbeforecolumngroup($_iO79,$_iO4h) { return TRUE; } function oncolumngroup($_iO79,$_iO4h) { } function onbeforecolumnremovegroup($_iO79,$_iO4h) { return TRUE; } function oncolumnremovegroup($_iO79,$_iO4h) { } function onbeforeaddgroup($_iO79,$_iO4h) { return TRUE; } function onaddgroup($_iO79,$_iO4h) { } function onbeforechangegrouporder($_iO79,$_iO4h) { return TRUE; } function onchangegrouporder($_iO79,$_iO4h) { } function onbeforeremovegroup($_iO79,$_iO4h) { return TRUE; } function onremovegroup($_iO79,$_iO4h) { } function onbeforepageindexchange($_iO79,$_iO4h) { return TRUE; } function onpageindexchange($_iO79,$_iO4h) { } function onbeforepagesizechange($_iO79,$_iO4h) { return TRUE; } function onpagesizechange($_iO79,$_iO4h) { } function onbeforerowconfirmedit($_iO79,$_iO4h) { return TRUE; } function onrowconfirmedit($_iO79,$_iO4h) { } function onbeforeconfirminsert($_iO79,$_iO4h) { return TRUE; } function onconfirminsert($_iO79,$_iO4h) { } function onbeforestartinsert($_iO79,$_iO4h) { return TRUE; } function onstartinsert($_iO79,$_iO4h) { } function onbeforecancelinsert($_iO79,$_iO4h) { return TRUE; } function oncancelinsert($_iO79,$_iO4h) { } function ondatasourceerror($_iO79,$_iO4h) { } function onrowprerender($_iO79,$_iO4h) { } function ontableviewprerender($_iO79,$_iO4h) { } function ongridprerender($_iO79,$_iO4h) { } } class koolgrid extends _iO77 { var $_il0="5.3.0\056\061"; var $styleFolder; var $_iO70; var $scriptFolder; var $id; var $AjaxLoadingImage; function __construct($_il3m) { $this->id =$_il3m; parent:: __construct($_il3m); } function render() { $_il7a=""; $_il7a.=$this->registercss(); $_iO7a= isset ($_POST["__\153\157olajax"]) || isset ($_GET["__koolaj\141\170"]); $_il7a.=($_iO7a) ? "": $this->registerscript(); $_il7a.=$this->rendergrid(); $_il7a.="\074script\040\164\171pe='\164\145\170t/ja\166\141script\047\076"; $_il7a.=$this->startupscript(); $_il7a.="</scr\151\160\164>"; if ($this->AjaxEnabled && class_exists("\125\160datePa\156\145\154")) { $_il7b=new updatepanel($this->id."\137\165\160datep\141\156\145l"); $_il7b->content =$_il7a; $_il7b->cssclass =$this->_iO70."\113GR_Updat\145\120\141nel"; if ($this->AjaxLoadingImage) { $_il7b->setloading($this->AjaxLoadingImage); } $_il7a=$_il7b->render(); } return $_il7a; } function rendergrid() { $this->_iO7b(); $_il7c="\n\074!--KoolG\162\151\144 ver\163\151on \173\166\145\162sio\156\175 - w\167\167\056koo\154\160\150p.ne\164\040-->\n"; $_iO7c=_iO0("\173\166\145rsion}",$this->_il0 ,$_il7c); $_il8=_iO0("\173\151d}",$this->id ,_il7()); if (_iO7($_il8)) { $_il8=_iO0("\173\163\164\171le}",$this->_iO70 ,$_il8); } $_il8=_iO0("\173\164radem\141\162\153}",$_iO7c,$_il8); $_il8=_iO0("\173\167\151dth}",($this->Width !== NULL) ? "\167\151\144th:".$this->Width : "",$_il8); $_il8=_iO0("\173co\156\164\145nt}",parent::_iO78(),$_il8); $_il8=_iO0("\173\166ersion}",$this->_il0 ,$_il8); return $_il8; } function _iO7b() { $this->styleFolder =_iO0("\134","/",$this->styleFolder); $_il7d=trim($this->styleFolder ,"\057"); $_iO7d=strrpos($_il7d,"\057"); $this->_iO70 =substr($_il7d,($_iO7d ? $_iO7d: -1)+1); } function registercss() { $this->_iO7b(); $_il7e="<\163\143ript ty\160\145\075'tex\164\057javas\143\162ipt'>i\146\040(do\143\165ment.\147\145\164Elem\145\156\164ById\050\047__\173\163\164yle}KG\122\047)==nu\154\154\051\173v\141\162\040_he\141\144\040= d\157\143\165ment\056\147etElem\145\156tsByT\141\147\116ame\050\047head\047\051[0];v\141\162 _lin\153\040= docu\155\145nt.cr\145\141teEle\155\145\156t('\154\151\156k')\073\040_link\056\151d = '\137\137\173sty\154\145}KGR'\073\137link.\162\145l='st\171\154\145she\145\164\047; _\154\151nk.hr\145\146='\173s\164\171lep\141\164h}/\173\163\164yle}\057\173style\175\056css'\073\137head.\141\160pend\103\150\151ld(\137\154ink);\166\141r _l\151\156\153 = \144\157cumen\164\056crea\164\145Eleme\156\164('li\156\153'); _\154\151nk.i\144\040= '_\137\113GR';_\154\151nk.r\145\154='sty\154\145shee\164\047; _l\151\156k.hr\145\146='\173s\164\171lepa\164\150}/ko\157\154grid\056\143ss';\137\150ead.\141\160pend\103\150ild(\137\154ink)\073\175</sc\162\151pt>"; $_il7a=_iO0("\173\163tyle}",$this->_iO70 ,$_il7e); $_il7a=_iO0("\173style\160\141th}",$this->_iO7e(),$_il7a); return $_il7a; } function registerscript() { $_il7e="<s\143\162\151pt ty\160\145\075'te\170\164\057jav\141\163\143rip\164\047>if(\164\171peof _\154\151\142KGR=\075\047undefi\156\145d')\173\144\157cument\056\167rite(\165\156\145scap\145\050\042%3C\163\143\162ipt \164\171\160e='t\145\170t/java\163\143ript' \163\162c='\173\163\162c}'%\063\105\040%3C\057\163cript%\063\105\042))\073\137\154ibKG\122\0751;}</\163\143ript>"; $_il7a=_iO0("\173\163\162c}",$this->_il7f()."?".md5("\152\163"),$_il7e); return $_il7a; } function startupscript() { $_il7e="\166ar \173\151\144\175; fun\143\164ion \173\151\144}_ini\164\050)\173 \173\151d}=ne\167\040KoolGr\151\144\050'\173\151\144\175',\173\101\152axEn\141\142\154ed},\047\173\101jaxH\141\156\144lePa\147\145}');}"; $_il7e.="\151\146 (typeo\146\050KoolGr\151\144\051=='f\165\156ction\047\051\173\173\151\144}_init\050\051;}"; $_il7e.="els\145\173\151f(ty\160\145\157f(__\113\107\122Init\163\051=='un\144\145fine\144\047)\173__\113\107\122Init\163\075new Ar\162\141y();}\040\137\137KGRI\156\151ts.pus\150\050\173id}\137\151\156it);\173\162\145gis\164\145\162_scr\151\160\164}}"; $_iO7f="if(typeo\146\050_libKG\122\051\075='u\156\144\145fine\144\047)\173v\141\162 _he\141\144\040= do\143\165\155ent.\147\145\164Elem\145\156tsByT\141\147\116ame(\047\150\145ad')\133\060];var \137\163cript \075\040docum\145\156\164.cre\141\164eEleme\156\164('scr\151\160t'); \137\163\143ript\056\164ype='\164\145\170t/ja\166\141scrip\164\047\073 _s\143\162\151pt.\163\162\143='\173\163\162c}'; \137\150\145ad.\141\160\160endC\150\151ld(_s\143\162\151pt)\073\137libKG\122\0751;}"; $_il7g=_iO0("\173sr\143\175",$this->_il7f()."?".md5("\152\163"),$_iO7f); $_il7a=_iO0("\173\151\144\175",$this->id ,$_il7e); $_il7a=_iO0("\173\101jaxEnab\154\145d}",$this->AjaxEnabled ? "\061": "\060",$_il7a); $_il7a=_iO0("\173AjaxH\141\156\144lePag\145\175",$this->AjaxHandlePage ,$_il7a); $_il7a=_iO0("\173regi\163\164\145r_sc\162\151\160t}",$_il7g,$_il7a); return $_il7a; } function _il7f() { if ($this->scriptFolder == "") { $_il5=_iO3(); $_iO3t=substr(_iO0("\134","/",__FILE__),strlen($_il5)); return $_iO3t; } else { $_iO3t=_iO0("\134","/",__FILE__); $_iO3t=$this->scriptFolder.substr($_iO3t,strrpos($_iO3t,"\057")); return $_iO3t; } } function _iO7e() { $_iO7g=$this->_il7f(); $_il7h=_iO0(strrchr($_iO7g,"/"),"",$_iO7g)."\057styles"; return $_il7h; } } } ?> 
